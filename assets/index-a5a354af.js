function _mergeNamespaces(e,o){for(var s=0;s<o.length;s++){const a=o[s];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const h=Object.getOwnPropertyDescriptor(a,c);h&&Object.defineProperty(e,c,h.get?h:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(c){if(c.ep)return;c.ep=!0;const h=s(c);fetch(c.href,h)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,o,s){this.props=e,this.context=o,this.refs=D$1,this.updater=s||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,o){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,o,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,o,s){this.props=e,this.context=o,this.refs=D$1,this.updater=s||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,o,s){var a,c={},h=null,d=null;if(o!=null)for(a in o.ref!==void 0&&(d=o.ref),o.key!==void 0&&(h=""+o.key),o)J.call(o,a)&&!L$1.hasOwnProperty(a)&&(c[a]=o[a]);var _=arguments.length-2;if(_===1)c.children=s;else if(1<_){for(var b=Array(_),$=0;$<_;$++)b[$]=arguments[$+2];c.children=b}if(e&&e.defaultProps)for(a in _=e.defaultProps,_)c[a]===void 0&&(c[a]=_[a]);return{$$typeof:l$1,type:e,key:h,ref:d,props:c,_owner:K$1.current}}function N$1(e,o){return{$$typeof:l$1,type:e.type,key:o,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape(e){var o={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return o[s]})}var P$1=/\/+/g;function Q$1(e,o){return typeof e=="object"&&e!==null&&e.key!=null?escape(""+e.key):o.toString(36)}function R$1(e,o,s,a,c){var h=typeof e;(h==="undefined"||h==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(h){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,c=c(d),e=a===""?"."+Q$1(d,0):a,I$1(c)?(s="",e!=null&&(s=e.replace(P$1,"$&/")+"/"),R$1(c,o,s,"",function($){return $})):c!=null&&(O$1(c)&&(c=N$1(c,s+(!c.key||d&&d.key===c.key?"":(""+c.key).replace(P$1,"$&/")+"/")+e)),o.push(c)),1;if(d=0,a=a===""?".":a+":",I$1(e))for(var _=0;_<e.length;_++){h=e[_];var b=a+Q$1(h,_);d+=R$1(h,o,s,b,c)}else if(b=A$1(e),typeof b=="function")for(e=b.call(e),_=0;!(h=e.next()).done;)h=h.value,b=a+Q$1(h,_++),d+=R$1(h,o,s,b,c);else if(h==="object")throw o=String(e),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,o,s){if(e==null)return e;var a=[],c=0;return R$1(e,a,"","",function(h){return o.call(s,h,c++)}),a}function T$1(e){if(e._status===-1){var o=e._result;o=o(),o.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=o)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(e,o,s){S$1(e,function(){o.apply(this,arguments)},s)},count:function(e){var o=0;return S$1(e,function(){o++}),o},toArray:function(e){return S$1(e,function(o){return o})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(e,o,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=C$1({},e.props),c=e.key,h=e.ref,d=e._owner;if(o!=null){if(o.ref!==void 0&&(h=o.ref,d=K$1.current),o.key!==void 0&&(c=""+o.key),e.type&&e.type.defaultProps)var _=e.type.defaultProps;for(b in o)J.call(o,b)&&!L$1.hasOwnProperty(b)&&(a[b]=o[b]===void 0&&_!==void 0?_[b]:o[b])}var b=arguments.length-2;if(b===1)a.children=s;else if(1<b){_=Array(b);for(var $=0;$<b;$++)_[$]=arguments[$+2];a.children=_}return{$$typeof:l$1,type:e.type,key:c,ref:h,props:a,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var o=M$1.bind(null,e);return o.type=e,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,o){return{$$typeof:x,type:e,compare:o===void 0?null:o}};react_production_min.startTransition=function(e){var o=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=o}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(e,o){return U$1.current.useCallback(e,o)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,o){return U$1.current.useEffect(e,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,o,s){return U$1.current.useImperativeHandle(e,o,s)};react_production_min.useInsertionEffect=function(e,o){return U$1.current.useInsertionEffect(e,o)};react_production_min.useLayoutEffect=function(e,o){return U$1.current.useLayoutEffect(e,o)};react_production_min.useMemo=function(e,o){return U$1.current.useMemo(e,o)};react_production_min.useReducer=function(e,o,s){return U$1.current.useReducer(e,o,s)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,o,s){return U$1.current.useSyncExternalStore(e,o,s)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,o,s){var a,c={},h=null,d=null;s!==void 0&&(h=""+s),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(d=o.ref);for(a in o)m$1.call(o,a)&&!p$1.hasOwnProperty(a)&&(c[a]=o[a]);if(e&&e.defaultProps)for(a in o=e.defaultProps,o)c[a]===void 0&&(c[a]=o[a]);return{$$typeof:k,type:e,key:h,ref:d,props:c,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client$1={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function o(Tt,xt){var Ct=Tt.length;Tt.push(xt);e:for(;0<Ct;){var wt=Ct-1>>>1,It=Tt[wt];if(0<c(It,xt))Tt[wt]=xt,Tt[Ct]=It,Ct=wt;else break e}}function s(Tt){return Tt.length===0?null:Tt[0]}function a(Tt){if(Tt.length===0)return null;var xt=Tt[0],Ct=Tt.pop();if(Ct!==xt){Tt[0]=Ct;e:for(var wt=0,It=Tt.length,kt=It>>>1;wt<kt;){var Kt=2*(wt+1)-1,er=Tt[Kt],Qt=Kt+1,or=Tt[Qt];if(0>c(er,Ct))Qt<It&&0>c(or,er)?(Tt[wt]=or,Tt[Qt]=Ct,wt=Qt):(Tt[wt]=er,Tt[Kt]=Ct,wt=Kt);else if(Qt<It&&0>c(or,Ct))Tt[wt]=or,Tt[Qt]=Ct,wt=Qt;else break e}}return xt}function c(Tt,xt){var Ct=Tt.sortIndex-xt.sortIndex;return Ct!==0?Ct:Tt.id-xt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var d=Date,_=d.now();e.unstable_now=function(){return d.now()-_}}var b=[],$=[],rt=1,nt=null,lt=3,dt=!1,gt=!1,Et=!1,ht=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function it(Tt){for(var xt=s($);xt!==null;){if(xt.callback===null)a($);else if(xt.startTime<=Tt)a($),xt.sortIndex=xt.expirationTime,o(b,xt);else break;xt=s($)}}function at(Tt){if(Et=!1,it(Tt),!gt)if(s(b)!==null)gt=!0,Ft(yt);else{var xt=s($);xt!==null&&jt(at,xt.startTime-Tt)}}function yt(Tt,xt){gt=!1,Et&&(Et=!1,ot(Bt),Bt=-1),dt=!0;var Ct=lt;try{for(it(xt),nt=s(b);nt!==null&&(!(nt.expirationTime>xt)||Tt&&!zt());){var wt=nt.callback;if(typeof wt=="function"){nt.callback=null,lt=nt.priorityLevel;var It=wt(nt.expirationTime<=xt);xt=e.unstable_now(),typeof It=="function"?nt.callback=It:nt===s(b)&&a(b),it(xt)}else a(b);nt=s(b)}if(nt!==null)var kt=!0;else{var Kt=s($);Kt!==null&&jt(at,Kt.startTime-xt),kt=!1}return kt}finally{nt=null,lt=Ct,dt=!1}}var St=!1,Rt=null,Bt=-1,Lt=5,Pt=-1;function zt(){return!(e.unstable_now()-Pt<Lt)}function Wt(){if(Rt!==null){var Tt=e.unstable_now();Pt=Tt;var xt=!0;try{xt=Rt(!0,Tt)}finally{xt?Zt():(St=!1,Rt=null)}}else St=!1}var Zt;if(typeof ct=="function")Zt=function(){ct(Wt)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,Dt=Vt.port2;Vt.port1.onmessage=Wt,Zt=function(){Dt.postMessage(null)}}else Zt=function(){ht(Wt,0)};function Ft(Tt){Rt=Tt,St||(St=!0,Zt())}function jt(Tt,xt){Bt=ht(function(){Tt(e.unstable_now())},xt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Tt){Tt.callback=null},e.unstable_continueExecution=function(){gt||dt||(gt=!0,Ft(yt))},e.unstable_forceFrameRate=function(Tt){0>Tt||125<Tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Lt=0<Tt?Math.floor(1e3/Tt):5},e.unstable_getCurrentPriorityLevel=function(){return lt},e.unstable_getFirstCallbackNode=function(){return s(b)},e.unstable_next=function(Tt){switch(lt){case 1:case 2:case 3:var xt=3;break;default:xt=lt}var Ct=lt;lt=xt;try{return Tt()}finally{lt=Ct}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Tt,xt){switch(Tt){case 1:case 2:case 3:case 4:case 5:break;default:Tt=3}var Ct=lt;lt=Tt;try{return xt()}finally{lt=Ct}},e.unstable_scheduleCallback=function(Tt,xt,Ct){var wt=e.unstable_now();switch(typeof Ct=="object"&&Ct!==null?(Ct=Ct.delay,Ct=typeof Ct=="number"&&0<Ct?wt+Ct:wt):Ct=wt,Tt){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=Ct+It,Tt={id:rt++,callback:xt,priorityLevel:Tt,startTime:Ct,expirationTime:It,sortIndex:-1},Ct>wt?(Tt.sortIndex=Ct,o($,Tt),s(b)===null&&Tt===s($)&&(Et?(ot(Bt),Bt=-1):Et=!0,jt(at,Ct-wt))):(Tt.sortIndex=It,o(b,Tt),gt||dt||(gt=!0,Ft(yt))),Tt},e.unstable_shouldYield=zt,e.unstable_wrapCallback=function(Tt){var xt=lt;return function(){var Ct=lt;lt=xt;try{return Tt.apply(this,arguments)}finally{lt=Ct}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,o){ha(e,o),ha(e+"Capture",o)}function ha(e,o){for(ea[e]=o,e=0;e<o.length;e++)da.add(o[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,o,s,a){if(s!==null&&s.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,o,s,a){if(o===null||typeof o>"u"||pa(e,o,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v(e,o,s,a,c,h,d){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=o,this.sanitizeURL=h,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var o=e[0];z[o]=new v(o,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var o=e.replace(ra,sa);z[o]=new v(o,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var o=e.replace(ra,sa);z[o]=new v(o,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var o=e.replace(ra,sa);z[o]=new v(o,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,o,s,a){var c=z.hasOwnProperty(o)?z[o]:null;(c!==null?c.type!==0:a||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,s,c,a)&&(s=null),a||c===null?oa(o)&&(s===null?e.removeAttribute(o):e.setAttribute(o,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(o=c.attributeName,a=c.attributeNamespace,s===null?e.removeAttribute(o):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?e.setAttributeNS(a,o,s):e.setAttribute(o,s))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+e}var Na=!1;function Oa(e,o){if(!e||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch($){var a=$}Reflect.construct(e,[],o)}else{try{o.call()}catch($){a=$}e.call(o.prototype)}else{try{throw Error()}catch($){a=$}e()}}catch($){if($&&a&&typeof $.stack=="string"){for(var c=$.stack.split(`
`),h=a.stack.split(`
`),d=c.length-1,_=h.length-1;1<=d&&0<=_&&c[d]!==h[_];)_--;for(;1<=d&&0<=_;d--,_--)if(c[d]!==h[_]){if(d!==1||_!==1)do if(d--,_--,0>_||c[d]!==h[_]){var b=`
`+c[d].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=d&&0<=_);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var o=e.render;return e=e.displayName,e||(e=o.displayName||o.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return o=e.displayName||null,o!==null?o:Qa(e.type)||"Memo";case Ha:o=e._payload,e=e._init;try{return Qa(e(o))}catch{}}return null}function Ra(e){var o=e.type;switch(e.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=o.render,e=e.displayName||e.name||"",o.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var o=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua(e){var o=Ta(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,o),a=""+e[o];if(!e.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(e,o,{configurable:!0,get:function(){return c.call(this)},set:function(d){a=""+d,h.call(this,d)}}),Object.defineProperty(e,o,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[o]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var o=e._valueTracker;if(!o)return!0;var s=o.getValue(),a="";return e&&(a=Ta(e)?e.checked?"true":"false":e.value),e=a,e!==s?(o.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,o){var s=o.checked;return A({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Za(e,o){var s=o.defaultValue==null?"":o.defaultValue,a=o.checked!=null?o.checked:o.defaultChecked;s=Sa(o.value!=null?o.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(e,o){o=o.checked,o!=null&&ta(e,"checked",o,!1)}function bb(e,o){ab(e,o);var s=Sa(o.value),a=o.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}o.hasOwnProperty("value")?cb(e,o.type,s):o.hasOwnProperty("defaultValue")&&cb(e,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(e.defaultChecked=!!o.defaultChecked)}function db(e,o,s){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var a=o.type;if(!(a!=="submit"&&a!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+e._wrapperState.initialValue,s||o===e.value||(e.value=o),e.defaultValue=o}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function cb(e,o,s){(o!=="number"||Xa(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var eb=Array.isArray;function fb(e,o,s,a){if(e=e.options,o){o={};for(var c=0;c<s.length;c++)o["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=o.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Sa(s),o=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}o!==null||e[c].disabled||(o=e[c])}o!==null&&(o.selected=!0)}}function gb(e,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},o,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,o){var s=o.value;if(s==null){if(s=o.children,o=o.defaultValue,s!=null){if(o!=null)throw Error(p(92));if(eb(s)){if(1<s.length)throw Error(p(93));s=s[0]}o=s}o==null&&(o=""),s=o}e._wrapperState={initialValue:Sa(s)}}function ib(e,o){var s=Sa(o.value),a=Sa(o.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),o.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function jb(e){var o=e.textContent;o===e._wrapperState.initialValue&&o!==""&&o!==null&&(e.value=o)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,o){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(o):e==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,s,a,c){MSApp.execUnsafeLocalFunction(function(){return e(o,s,a,c)})}:e}(function(e,o){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;o.firstChild;)e.appendChild(o.firstChild)}});function ob(e,o){if(o){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=o;return}}e.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(o){o=o+e.charAt(0).toUpperCase()+e.substring(1),pb[o]=pb[e]})});function rb(e,o,s){return o==null||typeof o=="boolean"||o===""?"":s||typeof o!="number"||o===0||pb.hasOwnProperty(e)&&pb[e]?(""+o).trim():o+"px"}function sb(e,o){e=e.style;for(var s in o)if(o.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=rb(s,o[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,c):e[s]=c}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,o){if(o){if(tb[e]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p(62))}}function vb(e,o){if(e.indexOf("-")===-1)return typeof o.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var o=e.stateNode;o&&(o=Db(o),yb(e.stateNode,e.type,o))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,o=Ab;if(Ab=zb=null,Bb(e),o)for(e=0;e<o.length;e++)Bb(o[e])}}function Gb(e,o){return e(o)}function Hb(){}var Ib=!1;function Jb(e,o,s){if(Ib)return e(o,s);Ib=!0;try{return Gb(e,o,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,o){var s=e.stateNode;if(s===null)return null;var a=Db(s);if(a===null)return null;s=a[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(p(231,o,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,o,s,a,c,h,d,_,b){var $=Array.prototype.slice.call(arguments,3);try{o.apply(s,$)}catch(rt){this.onError(rt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,o,s,a,c,h,d,_,b){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,o,s,a,c,h,d,_,b){if(Tb.apply(this,arguments),Ob){if(Ob){var $=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=$)}}function Vb(e){var o=e,s=e;if(e.alternate)for(;o.return;)o=o.return;else{e=o;do o=e,o.flags&4098&&(s=o.return),e=o.return;while(e)}return o.tag===3?s:null}function Wb(e){if(e.tag===13){var o=e.memoizedState;if(o===null&&(e=e.alternate,e!==null&&(o=e.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var o=e.alternate;if(!o){if(o=Vb(e),o===null)throw Error(p(188));return o!==e?null:e}for(var s=e,a=o;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return Xb(c),e;if(h===a)return Xb(c),o;h=h.sibling}throw Error(p(188))}if(s.return!==a.return)s=c,a=h;else{for(var d=!1,_=c.child;_;){if(_===s){d=!0,s=c,a=h;break}if(_===a){d=!0,a=c,s=h;break}_=_.sibling}if(!d){for(_=h.child;_;){if(_===s){d=!0,s=h,a=c;break}if(_===a){d=!0,a=h,s=c;break}_=_.sibling}if(!d)throw Error(p(189))}}if(s.alternate!==a)throw Error(p(190))}if(s.tag!==3)throw Error(p(188));return s.stateNode.current===s?e:o}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var o=$b(e);if(o!==null)return o;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,o){var s=e.pendingLanes;if(s===0)return 0;var a=0,c=e.suspendedLanes,h=e.pingedLanes,d=s&268435455;if(d!==0){var _=d&~c;_!==0?a=tc(_):(h&=d,h!==0&&(a=tc(h)))}else d=s&~c,d!==0?a=tc(d):h!==0&&(a=tc(h));if(a===0)return 0;if(o!==0&&o!==a&&!(o&c)&&(c=a&-a,h=o&-o,c>=h||c===16&&(h&4194240)!==0))return o;if(a&4&&(a|=s&16),o=e.entangledLanes,o!==0)for(e=e.entanglements,o&=a;0<o;)s=31-oc(o),c=1<<s,a|=e[s],o&=~c;return a}function vc(e,o){switch(e){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,o){for(var s=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var d=31-oc(h),_=1<<d,b=c[d];b===-1?(!(_&s)||_&a)&&(c[d]=vc(_,o)):b<=o&&(e.expiredLanes|=_),h&=~_}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var o=[],s=0;31>s;s++)o.push(e);return o}function Ac(e,o,s){e.pendingLanes|=o,o!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,o=31-oc(o),e[o]=s}function Bc(e,o){var s=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-oc(s),h=1<<c;o[c]=0,a[c]=-1,e[c]=-1,s&=~h}}function Cc(e,o){var s=e.entangledLanes|=o;for(e=e.entanglements;s;){var a=31-oc(s),c=1<<a;c&o|e[a]&o&&(e[a]|=o),s&=~c}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,o){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc(e,o,s,a,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:o,domEventName:s,eventSystemFlags:a,nativeEvent:h,targetContainers:[c]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),e):(e.eventSystemFlags|=a,o=e.targetContainers,c!==null&&o.indexOf(c)===-1&&o.push(c),e)}function Uc(e,o,s,a,c){switch(o){case"focusin":return Lc=Tc(Lc,e,o,s,a,c),!0;case"dragenter":return Mc=Tc(Mc,e,o,s,a,c),!0;case"mouseover":return Nc=Tc(Nc,e,o,s,a,c),!0;case"pointerover":var h=c.pointerId;return Oc.set(h,Tc(Oc.get(h)||null,e,o,s,a,c)),!0;case"gotpointercapture":return h=c.pointerId,Pc.set(h,Tc(Pc.get(h)||null,e,o,s,a,c)),!0}return!1}function Vc(e){var o=Wc(e.target);if(o!==null){var s=Vb(o);if(s!==null){if(o=s.tag,o===13){if(o=Wb(s),o!==null){e.blockedOn=o,Ic(e.priority,function(){Gc(s)});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var o=e.targetContainers;0<o.length;){var s=Yc(e.domEventName,e.eventSystemFlags,o[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);wb=a,s.target.dispatchEvent(a),wb=null}else return o=Cb(s),o!==null&&Fc(o),e.blockedOn=s,!1;o.shift()}return!0}function Zc(e,o,s){Xc(e)&&s.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,o){e.blockedOn===o&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function o(c){return ad(c,e)}if(0<Kc.length){ad(Kc[0],e);for(var s=1;s<Kc.length;s++){var a=Kc[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(o),Pc.forEach(o),s=0;s<Qc.length;s++)a=Qc[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,o,s,a){var c=C,h=cd.transition;cd.transition=null;try{C=1,fd(e,o,s,a)}finally{C=c,cd.transition=h}}function gd(e,o,s,a){var c=C,h=cd.transition;cd.transition=null;try{C=4,fd(e,o,s,a)}finally{C=c,cd.transition=h}}function fd(e,o,s,a){if(dd){var c=Yc(e,o,s,a);if(c===null)hd(e,o,a,id,s),Sc(e,a);else if(Uc(c,e,o,s,a))a.stopPropagation();else if(Sc(e,a),o&4&&-1<Rc.indexOf(e)){for(;c!==null;){var h=Cb(c);if(h!==null&&Ec(h),h=Yc(e,o,s,a),h===null&&hd(e,o,a,id,s),h===c)break;c=h}c!==null&&a.stopPropagation()}else hd(e,o,a,null,s)}}var id=null;function Yc(e,o,s,a){if(id=null,e=xb(a),e=Wc(e),e!==null)if(o=Vb(e),o===null)e=null;else if(s=o.tag,s===13){if(e=Wb(o),e!==null)return e;e=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;e=null}else o!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,o=ld,s=o.length,a,c="value"in kd?kd.value:kd.textContent,h=c.length;for(e=0;e<s&&o[e]===c[e];e++);var d=s-e;for(a=1;a<=d&&o[s-a]===c[h-a];a++);return md=c.slice(e,1<a?1-a:void 0)}function od(e){var o=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&o===13&&(e=13)):e=o,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function o(s,a,c,h,d){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=h,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(e):(e=Od[e])?!!o[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var o=Md[e.key]||e.key;if(o!=="Unidentified")return o}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(e,o){switch(e){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,o){switch(e){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return e=o.data,e===ee&&fe?null:e;default:return null}}function ke(e,o){if(ie)return e==="compositionend"||!ae&&ge(e,o)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var o=e&&e.nodeName&&e.nodeName.toLowerCase();return o==="input"?!!le[e.type]:o==="textarea"}function ne(e,o,s,a){Eb(a),o=oe(o,"onChange"),0<o.length&&(s=new td("onChange","change",null,s,a),e.push({event:s,listeners:o}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var o=ue(e);if(Wa(o))return e}function ve(e,o){if(e==="change")return o}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,e,xb(e)),Jb(re,o)}}function Ce(e,o,s){e==="focusin"?(Ae(),pe=o,qe=s,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,o){if(e==="click")return te(o)}function Fe(e,o){if(e==="input"||e==="change")return te(o)}function Ge(e,o){return e===o&&(e!==0||1/e===1/o)||e!==e&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,o){if(He(e,o))return!0;if(typeof e!="object"||e===null||typeof o!="object"||o===null)return!1;var s=Object.keys(e),a=Object.keys(o);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!ja.call(o,c)||!He(e[c],o[c]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,o){var s=Je(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=o&&a>=o)return{node:s,offset:o-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(e,o){return e&&o?e===o?!0:e&&e.nodeType===3?!1:o&&o.nodeType===3?Le(e,o.parentNode):"contains"in e?e.contains(o):e.compareDocumentPosition?!!(e.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var e=window,o=Xa();o instanceof e.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)e=o.contentWindow;else break;o=Xa(e.document)}return o}function Ne(e){var o=e&&e.nodeName&&e.nodeName.toLowerCase();return o&&(o==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||o==="textarea"||e.contentEditable==="true")}function Oe(e){var o=Me(),s=e.focusedElem,a=e.selectionRange;if(o!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(a!==null&&Ne(s)){if(o=a.start,e=a.end,e===void 0&&(e=o),"selectionStart"in s)s.selectionStart=o,s.selectionEnd=Math.min(e,s.value.length);else if(e=(o=s.ownerDocument||document)&&o.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,h=Math.min(a.start,c);a=a.end===void 0?h:Math.min(a.end,c),!e.extend&&h>a&&(c=a,a=h,h=c),c=Ke(s,h);var d=Ke(s,a);c&&d&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(o=o.createRange(),o.setStart(c.node,c.offset),e.removeAllRanges(),h>a?(e.addRange(o),e.extend(d.node,d.offset)):(o.setEnd(d.node,d.offset),e.addRange(o)))}}for(o=[],e=s;e=e.parentNode;)e.nodeType===1&&o.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<o.length;s++)e=o[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,o,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(o=new td("onSelect","select",null,o,s),e.push({event:o,listeners:a}),o.target=Qe)))}function Ve(e,o){var s={};return s[e.toLowerCase()]=o.toLowerCase(),s["Webkit"+e]="webkit"+o,s["Moz"+e]="moz"+o,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var o=We[e],s;for(s in o)if(o.hasOwnProperty(s)&&s in Ye)return Xe[e]=o[s];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,o){df.set(e,o),fa(o,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,o,s){var a=e.type||"unknown-event";e.currentTarget=s,Ub(a,o,void 0,e),e.currentTarget=null}function se(e,o){o=(o&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],c=a.event;a=a.listeners;e:{var h=void 0;if(o)for(var d=a.length-1;0<=d;d--){var _=a[d],b=_.instance,$=_.currentTarget;if(_=_.listener,b!==h&&c.isPropagationStopped())break e;nf(c,_,$),h=b}else for(d=0;d<a.length;d++){if(_=a[d],b=_.instance,$=_.currentTarget,_=_.listener,b!==h&&c.isPropagationStopped())break e;nf(c,_,$),h=b}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,o){var s=o[of];s===void 0&&(s=o[of]=new Set);var a=e+"__bubble";s.has(a)||(pf(o,e,2,!1),s.add(a))}function qf(e,o,s){var a=0;o&&(a|=4),pf(s,e,a,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,e),qf(s,!0,e))});var o=e.nodeType===9?e:e.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(e,o,s,a){switch(jd(o)){case 1:var c=ed;break;case 4:c=gd;break;default:c=fd}s=c.bind(null,o,s,e),c=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(o,s,{capture:!0,passive:c}):e.addEventListener(o,s,!0):c!==void 0?e.addEventListener(o,s,{passive:c}):e.addEventListener(o,s,!1)}function hd(e,o,s,a,c){var h=a;if(!(o&1)&&!(o&2)&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var _=a.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(d===4)for(d=a.return;d!==null;){var b=d.tag;if((b===3||b===4)&&(b=d.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;d=d.return}for(;_!==null;){if(d=Wc(_),d===null)return;if(b=d.tag,b===5||b===6){a=h=d;continue e}_=_.parentNode}}a=a.return}Jb(function(){var $=h,rt=xb(s),nt=[];e:{var lt=df.get(e);if(lt!==void 0){var dt=td,gt=e;switch(e){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":dt=Rd;break;case"focusin":gt="focus",dt=Fd;break;case"focusout":gt="blur",dt=Fd;break;case"beforeblur":case"afterblur":dt=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=Vd;break;case $e:case af:case bf:dt=Hd;break;case cf:dt=Xd;break;case"scroll":dt=vd;break;case"wheel":dt=Zd;break;case"copy":case"cut":case"paste":dt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Td}var Et=(o&4)!==0,ht=!Et&&e==="scroll",ot=Et?lt!==null?lt+"Capture":null:lt;Et=[];for(var ct=$,it;ct!==null;){it=ct;var at=it.stateNode;if(it.tag===5&&at!==null&&(it=at,ot!==null&&(at=Kb(ct,ot),at!=null&&Et.push(tf(ct,at,it)))),ht)break;ct=ct.return}0<Et.length&&(lt=new dt(lt,gt,null,s,rt),nt.push({event:lt,listeners:Et}))}}if(!(o&7)){e:{if(lt=e==="mouseover"||e==="pointerover",dt=e==="mouseout"||e==="pointerout",lt&&s!==wb&&(gt=s.relatedTarget||s.fromElement)&&(Wc(gt)||gt[uf]))break e;if((dt||lt)&&(lt=rt.window===rt?rt:(lt=rt.ownerDocument)?lt.defaultView||lt.parentWindow:window,dt?(gt=s.relatedTarget||s.toElement,dt=$,gt=gt?Wc(gt):null,gt!==null&&(ht=Vb(gt),gt!==ht||gt.tag!==5&&gt.tag!==6)&&(gt=null)):(dt=null,gt=$),dt!==gt)){if(Et=Bd,at="onMouseLeave",ot="onMouseEnter",ct="mouse",(e==="pointerout"||e==="pointerover")&&(Et=Td,at="onPointerLeave",ot="onPointerEnter",ct="pointer"),ht=dt==null?lt:ue(dt),it=gt==null?lt:ue(gt),lt=new Et(at,ct+"leave",dt,s,rt),lt.target=ht,lt.relatedTarget=it,at=null,Wc(rt)===$&&(Et=new Et(ot,ct+"enter",gt,s,rt),Et.target=it,Et.relatedTarget=ht,at=Et),ht=at,dt&&gt)t:{for(Et=dt,ot=gt,ct=0,it=Et;it;it=vf(it))ct++;for(it=0,at=ot;at;at=vf(at))it++;for(;0<ct-it;)Et=vf(Et),ct--;for(;0<it-ct;)ot=vf(ot),it--;for(;ct--;){if(Et===ot||ot!==null&&Et===ot.alternate)break t;Et=vf(Et),ot=vf(ot)}Et=null}else Et=null;dt!==null&&wf(nt,lt,dt,Et,!1),gt!==null&&ht!==null&&wf(nt,ht,gt,Et,!0)}}e:{if(lt=$?ue($):window,dt=lt.nodeName&&lt.nodeName.toLowerCase(),dt==="select"||dt==="input"&&lt.type==="file")var yt=ve;else if(me(lt))if(we)yt=Fe;else{yt=De;var St=Ce}else(dt=lt.nodeName)&&dt.toLowerCase()==="input"&&(lt.type==="checkbox"||lt.type==="radio")&&(yt=Ee);if(yt&&(yt=yt(e,$))){ne(nt,yt,s,rt);break e}St&&St(e,lt,$),e==="focusout"&&(St=lt._wrapperState)&&St.controlled&&lt.type==="number"&&cb(lt,"number",lt.value)}switch(St=$?ue($):window,e){case"focusin":(me(St)||St.contentEditable==="true")&&(Qe=St,Re=$,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(nt,s,rt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(nt,s,rt)}var Rt;if(ae)e:{switch(e){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else ie?ge(e,s)&&(Bt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Bt="onCompositionStart");Bt&&(de&&s.locale!=="ko"&&(ie||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&ie&&(Rt=nd()):(kd=rt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),St=oe($,Bt),0<St.length&&(Bt=new Ld(Bt,e,null,s,rt),nt.push({event:Bt,listeners:St}),Rt?Bt.data=Rt:(Rt=he(s),Rt!==null&&(Bt.data=Rt)))),(Rt=ce?je(e,s):ke(e,s))&&($=oe($,"onBeforeInput"),0<$.length&&(rt=new Ld("onBeforeInput","beforeinput",null,s,rt),nt.push({event:rt,listeners:$}),rt.data=Rt))}se(nt,o)})}function tf(e,o,s){return{instance:e,listener:o,currentTarget:s}}function oe(e,o){for(var s=o+"Capture",a=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=Kb(e,s),h!=null&&a.unshift(tf(e,h,c)),h=Kb(e,o),h!=null&&a.push(tf(e,h,c))),e=e.return}return a}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,o,s,a,c){for(var h=o._reactName,d=[];s!==null&&s!==a;){var _=s,b=_.alternate,$=_.stateNode;if(b!==null&&b===a)break;_.tag===5&&$!==null&&(_=$,c?(b=Kb(s,h),b!=null&&d.unshift(tf(s,b,_))):c||(b=Kb(s,h),b!=null&&d.push(tf(s,b,_)))),s=s.return}d.length!==0&&e.push({event:o,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,o,s){if(o=zf(o),zf(e)!==o&&s)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,o){return e==="textarea"||e==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,o){var s=o,a=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){e.removeChild(c),bd(o);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);bd(o)}function Lf(e){for(;e!=null;e=e.nextSibling){var o=e.nodeType;if(o===1||o===3)break;if(o===8){if(o=e.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var o=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return e;o--}else s==="/$"&&o++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var o=e[Of];if(o)return o;for(var s=e.parentNode;s;){if(o=s[uf]||s[Of]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(e=Mf(e);e!==null;){if(s=e[Of])return s;e=Mf(e)}return o}e=s,s=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,o){Tf++,Sf[Tf]=e.current,e.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,o){var s=e.type.contextTypes;if(!s)return Vf;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===o)return a.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in s)c[h]=o[h];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=c),c}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,o,s){if(H.current!==Vf)throw Error(p(168));G(H,o),G(Wf,s)}function bg(e,o,s){var a=e.stateNode;if(o=o.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in o))throw Error(p(108,Ra(e)||"Unknown",c));return A({},s,a)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,o,s){var a=e.stateNode;if(!a)throw Error(p(169));s?(e=bg(e,o,Xf),a.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,o=C;try{var s=eg;for(C=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(c){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),c}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,o){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=o}function ug(e,o,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var a=rg;e=sg;var c=32-oc(a)-1;a&=~(1<<c),s+=1;var h=32-oc(o)+c;if(30<h){var d=c-c%5;h=(a&(1<<d)-1).toString(32),a>>=d,c-=d,rg=1<<32-oc(o)+c|s<<c|a,sg=h+e}else rg=1<<h|s<<c|a,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,o){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=o,s.return=e,o=e.deletions,o===null?(e.deletions=[s],e.flags|=16):o.push(s)}function Cg(e,o){switch(e.tag){case 5:var s=e.type;return o=o.nodeType!==1||s.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(e.stateNode=o,xg=e,yg=Lf(o.firstChild),!0):!1;case 6:return o=e.pendingProps===""||o.nodeType!==3?null:o,o!==null?(e.stateNode=o,xg=e,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(s=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:o,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=o,s.return=e,e.child=s,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var o=yg;if(o){var s=o;if(!Cg(e,o)){if(Dg(e))throw Error(p(418));o=Lf(s.nextSibling);var a=xg;o&&Cg(e,o)?Ag(a,s):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var o;if((o=e.tag!==3)&&!(o=e.tag!==5)&&(o=e.type,o=o!=="head"&&o!=="body"&&!Ef(e.type,e.memoizedProps)),o&&(o=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;o;)Ag(e,o),o=Lf(o.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,o=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(o===0){yg=Lf(e.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,o){if(e&&e.defaultProps){o=A({},o),e=e.defaultProps;for(var s in e)o[s]===void 0&&(o[s]=e[s]);return o}return o}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(e){var o=Mg.current;E(Mg),e._currentValue=o}function Sg(e,o,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&o)!==o?(e.childLanes|=o,a!==null&&(a.childLanes|=o)):a!==null&&(a.childLanes&o)!==o&&(a.childLanes|=o),e===s)break;e=e.return}}function Tg(e,o){Ng=e,Pg=Og=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&o&&(Ug=!0),e.firstContext=null)}function Vg(e){var o=e._currentValue;if(Pg!==e)if(e={context:e,memoizedValue:o,next:null},Og===null){if(Ng===null)throw Error(p(308));Og=e,Ng.dependencies={lanes:0,firstContext:e}}else Og=Og.next=e;return o}var Wg=null;function Xg(e){Wg===null?Wg=[e]:Wg.push(e)}function Yg(e,o,s,a){var c=o.interleaved;return c===null?(s.next=s,Xg(o)):(s.next=c.next,c.next=s),o.interleaved=s,Zg(e,a)}function Zg(e,o){e.lanes|=o;var s=e.alternate;for(s!==null&&(s.lanes|=o),s=e,e=e.return;e!==null;)e.childLanes|=o,s=e.alternate,s!==null&&(s.childLanes|=o),s=e,e=e.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(e,o){e=e.updateQueue,o.updateQueue===e&&(o.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ch(e,o){return{eventTime:e,lane:o,tag:0,payload:null,callback:null,next:null}}function dh(e,o,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var c=a.pending;return c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o,Zg(e,s)}return c=a.interleaved,c===null?(o.next=o,Xg(a)):(o.next=c.next,c.next=o),a.interleaved=o,Zg(e,s)}function eh(e,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194240)!==0)){var a=o.lanes;a&=e.pendingLanes,s|=a,o.lanes=s,Cc(e,s)}}function fh(e,o){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var d={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?c=h=d:h=h.next=d,s=s.next}while(s!==null);h===null?c=h=o:h=h.next=o}else c=h=o;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=o:e.next=o,s.lastBaseUpdate=o}function gh(e,o,s,a){var c=e.updateQueue;$g=!1;var h=c.firstBaseUpdate,d=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var b=_,$=b.next;b.next=null,d===null?h=$:d.next=$,d=b;var rt=e.alternate;rt!==null&&(rt=rt.updateQueue,_=rt.lastBaseUpdate,_!==d&&(_===null?rt.firstBaseUpdate=$:_.next=$,rt.lastBaseUpdate=b))}if(h!==null){var nt=c.baseState;d=0,rt=$=b=null,_=h;do{var lt=_.lane,dt=_.eventTime;if((a&lt)===lt){rt!==null&&(rt=rt.next={eventTime:dt,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var gt=e,Et=_;switch(lt=o,dt=s,Et.tag){case 1:if(gt=Et.payload,typeof gt=="function"){nt=gt.call(dt,nt,lt);break e}nt=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Et.payload,lt=typeof gt=="function"?gt.call(dt,nt,lt):gt,lt==null)break e;nt=A({},nt,lt);break e;case 2:$g=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,lt=c.effects,lt===null?c.effects=[_]:lt.push(_))}else dt={eventTime:dt,lane:lt,tag:_.tag,payload:_.payload,callback:_.callback,next:null},rt===null?($=rt=dt,b=nt):rt=rt.next=dt,d|=lt;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;lt=_,_=lt.next,lt.next=null,c.lastBaseUpdate=lt,c.shared.pending=null}}while(1);if(rt===null&&(b=nt),c.baseState=b,c.firstBaseUpdate=$,c.lastBaseUpdate=rt,o=c.shared.interleaved,o!==null){c=o;do d|=c.lane,c=c.next;while(c!==o)}else h===null&&(c.shared.lanes=0);hh|=d,e.lanes=d,e.memoizedState=nt}}function ih(e,o,s){if(e=o.effects,o.effects=null,e!==null)for(o=0;o<e.length;o++){var a=e[o],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(p(191,c));c.call(a)}}}var jh=new aa.Component().refs;function kh(e,o,s,a){o=e.memoizedState,s=s(a,o),s=s==null?o:A({},o,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var nh={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,o,s){e=e._reactInternals;var a=L(),c=lh(e),h=ch(a,c);h.payload=o,s!=null&&(h.callback=s),o=dh(e,h,c),o!==null&&(mh(o,e,c,a),eh(o,e,c))},enqueueReplaceState:function(e,o,s){e=e._reactInternals;var a=L(),c=lh(e),h=ch(a,c);h.tag=1,h.payload=o,s!=null&&(h.callback=s),o=dh(e,h,c),o!==null&&(mh(o,e,c,a),eh(o,e,c))},enqueueForceUpdate:function(e,o){e=e._reactInternals;var s=L(),a=lh(e),c=ch(s,a);c.tag=2,o!=null&&(c.callback=o),o=dh(e,c,a),o!==null&&(mh(o,e,a,s),eh(o,e,a))}};function oh(e,o,s,a,c,h,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,d):o.prototype&&o.prototype.isPureReactComponent?!Ie(s,a)||!Ie(c,h):!0}function ph(e,o,s){var a=!1,c=Vf,h=o.contextType;return typeof h=="object"&&h!==null?h=Vg(h):(c=Zf(o)?Xf:H.current,a=o.contextTypes,h=(a=a!=null)?Yf(e,c):Vf),o=new o(s,h),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nh,e.stateNode=o,o._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),o}function qh(e,o,s,a){e=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,a),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,a),o.state!==e&&nh.enqueueReplaceState(o,o.state,null)}function rh(e,o,s,a){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs=jh,ah(e);var h=o.contextType;typeof h=="object"&&h!==null?c.context=Vg(h):(h=Zf(o)?Xf:H.current,c.context=Yf(e,h)),c.state=e.memoizedState,h=o.getDerivedStateFromProps,typeof h=="function"&&(kh(e,o,h,s),c.state=e.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(o=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),o!==c.state&&nh.enqueueReplaceState(c,c.state,null),gh(e,s,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function sh(e,o,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p(309));var a=s.stateNode}if(!a)throw Error(p(147,e));var c=a,h=""+e;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===h?o.ref:(o=function(d){var _=c.refs;_===jh&&(_=c.refs={}),d===null?delete _[h]:_[h]=d},o._stringRef=h,o)}if(typeof e!="string")throw Error(p(284));if(!s._owner)throw Error(p(290,e))}return e}function th(e,o){throw e=Object.prototype.toString.call(o),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e))}function uh(e){var o=e._init;return o(e._payload)}function vh(e){function o(ot,ct){if(e){var it=ot.deletions;it===null?(ot.deletions=[ct],ot.flags|=16):it.push(ct)}}function s(ot,ct){if(!e)return null;for(;ct!==null;)o(ot,ct),ct=ct.sibling;return null}function a(ot,ct){for(ot=new Map;ct!==null;)ct.key!==null?ot.set(ct.key,ct):ot.set(ct.index,ct),ct=ct.sibling;return ot}function c(ot,ct){return ot=wh(ot,ct),ot.index=0,ot.sibling=null,ot}function h(ot,ct,it){return ot.index=it,e?(it=ot.alternate,it!==null?(it=it.index,it<ct?(ot.flags|=2,ct):it):(ot.flags|=2,ct)):(ot.flags|=1048576,ct)}function d(ot){return e&&ot.alternate===null&&(ot.flags|=2),ot}function _(ot,ct,it,at){return ct===null||ct.tag!==6?(ct=xh(it,ot.mode,at),ct.return=ot,ct):(ct=c(ct,it),ct.return=ot,ct)}function b(ot,ct,it,at){var yt=it.type;return yt===ya?rt(ot,ct,it.props.children,at,it.key):ct!==null&&(ct.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Ha&&uh(yt)===ct.type)?(at=c(ct,it.props),at.ref=sh(ot,ct,it),at.return=ot,at):(at=yh(it.type,it.key,it.props,null,ot.mode,at),at.ref=sh(ot,ct,it),at.return=ot,at)}function $(ot,ct,it,at){return ct===null||ct.tag!==4||ct.stateNode.containerInfo!==it.containerInfo||ct.stateNode.implementation!==it.implementation?(ct=zh(it,ot.mode,at),ct.return=ot,ct):(ct=c(ct,it.children||[]),ct.return=ot,ct)}function rt(ot,ct,it,at,yt){return ct===null||ct.tag!==7?(ct=Ah(it,ot.mode,at,yt),ct.return=ot,ct):(ct=c(ct,it),ct.return=ot,ct)}function nt(ot,ct,it){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return ct=xh(""+ct,ot.mode,it),ct.return=ot,ct;if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va:return it=yh(ct.type,ct.key,ct.props,null,ot.mode,it),it.ref=sh(ot,null,ct),it.return=ot,it;case wa:return ct=zh(ct,ot.mode,it),ct.return=ot,ct;case Ha:var at=ct._init;return nt(ot,at(ct._payload),it)}if(eb(ct)||Ka(ct))return ct=Ah(ct,ot.mode,it,null),ct.return=ot,ct;th(ot,ct)}return null}function lt(ot,ct,it,at){var yt=ct!==null?ct.key:null;if(typeof it=="string"&&it!==""||typeof it=="number")return yt!==null?null:_(ot,ct,""+it,at);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case va:return it.key===yt?b(ot,ct,it,at):null;case wa:return it.key===yt?$(ot,ct,it,at):null;case Ha:return yt=it._init,lt(ot,ct,yt(it._payload),at)}if(eb(it)||Ka(it))return yt!==null?null:rt(ot,ct,it,at,null);th(ot,it)}return null}function dt(ot,ct,it,at,yt){if(typeof at=="string"&&at!==""||typeof at=="number")return ot=ot.get(it)||null,_(ct,ot,""+at,yt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case va:return ot=ot.get(at.key===null?it:at.key)||null,b(ct,ot,at,yt);case wa:return ot=ot.get(at.key===null?it:at.key)||null,$(ct,ot,at,yt);case Ha:var St=at._init;return dt(ot,ct,it,St(at._payload),yt)}if(eb(at)||Ka(at))return ot=ot.get(it)||null,rt(ct,ot,at,yt,null);th(ct,at)}return null}function gt(ot,ct,it,at){for(var yt=null,St=null,Rt=ct,Bt=ct=0,Lt=null;Rt!==null&&Bt<it.length;Bt++){Rt.index>Bt?(Lt=Rt,Rt=null):Lt=Rt.sibling;var Pt=lt(ot,Rt,it[Bt],at);if(Pt===null){Rt===null&&(Rt=Lt);break}e&&Rt&&Pt.alternate===null&&o(ot,Rt),ct=h(Pt,ct,Bt),St===null?yt=Pt:St.sibling=Pt,St=Pt,Rt=Lt}if(Bt===it.length)return s(ot,Rt),I&&tg(ot,Bt),yt;if(Rt===null){for(;Bt<it.length;Bt++)Rt=nt(ot,it[Bt],at),Rt!==null&&(ct=h(Rt,ct,Bt),St===null?yt=Rt:St.sibling=Rt,St=Rt);return I&&tg(ot,Bt),yt}for(Rt=a(ot,Rt);Bt<it.length;Bt++)Lt=dt(Rt,ot,Bt,it[Bt],at),Lt!==null&&(e&&Lt.alternate!==null&&Rt.delete(Lt.key===null?Bt:Lt.key),ct=h(Lt,ct,Bt),St===null?yt=Lt:St.sibling=Lt,St=Lt);return e&&Rt.forEach(function(zt){return o(ot,zt)}),I&&tg(ot,Bt),yt}function Et(ot,ct,it,at){var yt=Ka(it);if(typeof yt!="function")throw Error(p(150));if(it=yt.call(it),it==null)throw Error(p(151));for(var St=yt=null,Rt=ct,Bt=ct=0,Lt=null,Pt=it.next();Rt!==null&&!Pt.done;Bt++,Pt=it.next()){Rt.index>Bt?(Lt=Rt,Rt=null):Lt=Rt.sibling;var zt=lt(ot,Rt,Pt.value,at);if(zt===null){Rt===null&&(Rt=Lt);break}e&&Rt&&zt.alternate===null&&o(ot,Rt),ct=h(zt,ct,Bt),St===null?yt=zt:St.sibling=zt,St=zt,Rt=Lt}if(Pt.done)return s(ot,Rt),I&&tg(ot,Bt),yt;if(Rt===null){for(;!Pt.done;Bt++,Pt=it.next())Pt=nt(ot,Pt.value,at),Pt!==null&&(ct=h(Pt,ct,Bt),St===null?yt=Pt:St.sibling=Pt,St=Pt);return I&&tg(ot,Bt),yt}for(Rt=a(ot,Rt);!Pt.done;Bt++,Pt=it.next())Pt=dt(Rt,ot,Bt,Pt.value,at),Pt!==null&&(e&&Pt.alternate!==null&&Rt.delete(Pt.key===null?Bt:Pt.key),ct=h(Pt,ct,Bt),St===null?yt=Pt:St.sibling=Pt,St=Pt);return e&&Rt.forEach(function(Wt){return o(ot,Wt)}),I&&tg(ot,Bt),yt}function ht(ot,ct,it,at){if(typeof it=="object"&&it!==null&&it.type===ya&&it.key===null&&(it=it.props.children),typeof it=="object"&&it!==null){switch(it.$$typeof){case va:e:{for(var yt=it.key,St=ct;St!==null;){if(St.key===yt){if(yt=it.type,yt===ya){if(St.tag===7){s(ot,St.sibling),ct=c(St,it.props.children),ct.return=ot,ot=ct;break e}}else if(St.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Ha&&uh(yt)===St.type){s(ot,St.sibling),ct=c(St,it.props),ct.ref=sh(ot,St,it),ct.return=ot,ot=ct;break e}s(ot,St);break}else o(ot,St);St=St.sibling}it.type===ya?(ct=Ah(it.props.children,ot.mode,at,it.key),ct.return=ot,ot=ct):(at=yh(it.type,it.key,it.props,null,ot.mode,at),at.ref=sh(ot,ct,it),at.return=ot,ot=at)}return d(ot);case wa:e:{for(St=it.key;ct!==null;){if(ct.key===St)if(ct.tag===4&&ct.stateNode.containerInfo===it.containerInfo&&ct.stateNode.implementation===it.implementation){s(ot,ct.sibling),ct=c(ct,it.children||[]),ct.return=ot,ot=ct;break e}else{s(ot,ct);break}else o(ot,ct);ct=ct.sibling}ct=zh(it,ot.mode,at),ct.return=ot,ot=ct}return d(ot);case Ha:return St=it._init,ht(ot,ct,St(it._payload),at)}if(eb(it))return gt(ot,ct,it,at);if(Ka(it))return Et(ot,ct,it,at);th(ot,it)}return typeof it=="string"&&it!==""||typeof it=="number"?(it=""+it,ct!==null&&ct.tag===6?(s(ot,ct.sibling),ct=c(ct,it),ct.return=ot,ot=ct):(s(ot,ct),ct=xh(it,ot.mode,at),ct.return=ot,ot=ct),d(ot)):s(ot,ct)}return ht}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(e){if(e===Dh)throw Error(p(174));return e}function Ih(e,o){switch(G(Gh,o),G(Fh,e),G(Eh,Dh),e=o.nodeType,e){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:e=e===8?o.parentNode:o,o=e.namespaceURI||null,e=e.tagName,o=lb(o,e)}E(Eh),G(Eh,o)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(e){Hh(Gh.current);var o=Hh(Eh.current),s=lb(o,e.type);o!==s&&(G(Fh,e),G(Eh,s))}function Lh(e){Fh.current===e&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(e){for(var o=e;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nh=[];function Oh(){for(var e=0;e<Nh.length;e++)Nh[e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321))}function Wh(e,o){if(o===null)return!1;for(var s=0;s<o.length&&s<e.length;s++)if(!He(e[s],o[s]))return!1;return!0}function Xh(e,o,s,a,c,h){if(Rh=h,N=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ph.current=e===null||e.memoizedState===null?Yh:Zh,e=s(a,c),Th){h=0;do{if(Th=!1,Uh=0,25<=h)throw Error(p(301));h+=1,P=O=null,o.updateQueue=null,Ph.current=$h,e=s(a,c)}while(Th)}if(Ph.current=ai,o=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,o)throw Error(p(300));return e}function bi(){var e=Uh!==0;return Uh=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=e:P=P.next=e,P}function di(){if(O===null){var e=N.alternate;e=e!==null?e.memoizedState:null}else e=O.next;var o=P===null?N.memoizedState:P.next;if(o!==null)P=o,O=e;else{if(e===null)throw Error(p(310));O=e,e={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=e:P=P.next=e}return P}function ei(e,o){return typeof o=="function"?o(e):o}function fi(e){var o=di(),s=o.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var a=O,c=a.baseQueue,h=s.pending;if(h!==null){if(c!==null){var d=c.next;c.next=h.next,h.next=d}a.baseQueue=c=h,s.pending=null}if(c!==null){h=c.next,a=a.baseState;var _=d=null,b=null,$=h;do{var rt=$.lane;if((Rh&rt)===rt)b!==null&&(b=b.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),a=$.hasEagerState?$.eagerState:e(a,$.action);else{var nt={lane:rt,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};b===null?(_=b=nt,d=a):b=b.next=nt,N.lanes|=rt,hh|=rt}$=$.next}while($!==null&&$!==h);b===null?d=a:b.next=_,He(a,o.memoizedState)||(Ug=!0),o.memoizedState=a,o.baseState=d,o.baseQueue=b,s.lastRenderedState=a}if(e=s.interleaved,e!==null){c=e;do h=c.lane,N.lanes|=h,hh|=h,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[o.memoizedState,s.dispatch]}function gi(e){var o=di(),s=o.queue;if(s===null)throw Error(p(311));s.lastRenderedReducer=e;var a=s.dispatch,c=s.pending,h=o.memoizedState;if(c!==null){s.pending=null;var d=c=c.next;do h=e(h,d.action),d=d.next;while(d!==c);He(h,o.memoizedState)||(Ug=!0),o.memoizedState=h,o.baseQueue===null&&(o.baseState=h),s.lastRenderedState=h}return[h,a]}function hi(){}function ii(e,o){var s=N,a=di(),c=o(),h=!He(a.memoizedState,c);if(h&&(a.memoizedState=c,Ug=!0),a=a.queue,ji(ki.bind(null,s,a,e),[e]),a.getSnapshot!==o||h||P!==null&&P.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,a,c,o),void 0,null),R===null)throw Error(p(349));Rh&30||ni(s,o,c)}return c}function ni(e,o,s){e.flags|=16384,e={getSnapshot:o,value:s},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.stores=[e]):(s=o.stores,s===null?o.stores=[e]:s.push(e))}function mi(e,o,s,a){o.value=s,o.getSnapshot=a,oi(o)&&pi(e)}function ki(e,o,s){return s(function(){oi(o)&&pi(e)})}function oi(e){var o=e.getSnapshot;e=e.value;try{var s=o();return!He(e,s)}catch{return!0}}function pi(e){var o=Zg(e,1);o!==null&&mh(o,e,1,-1)}function qi(e){var o=ci();return typeof e=="function"&&(e=e()),o.memoizedState=o.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},o.queue=e,e=e.dispatch=ri.bind(null,N,e),[o.memoizedState,e]}function li(e,o,s,a){return e={tag:e,create:o,destroy:s,deps:a,next:null},o=N.updateQueue,o===null?(o={lastEffect:null,stores:null},N.updateQueue=o,o.lastEffect=e.next=e):(s=o.lastEffect,s===null?o.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,o.lastEffect=e)),e}function si(){return di().memoizedState}function ti(e,o,s,a){var c=ci();N.flags|=e,c.memoizedState=li(1|o,s,void 0,a===void 0?null:a)}function ui(e,o,s,a){var c=di();a=a===void 0?null:a;var h=void 0;if(O!==null){var d=O.memoizedState;if(h=d.destroy,a!==null&&Wh(a,d.deps)){c.memoizedState=li(o,s,h,a);return}}N.flags|=e,c.memoizedState=li(1|o,s,h,a)}function vi(e,o){return ti(8390656,8,e,o)}function ji(e,o){return ui(2048,8,e,o)}function wi(e,o){return ui(4,2,e,o)}function xi(e,o){return ui(4,4,e,o)}function yi(e,o){if(typeof o=="function")return e=e(),o(e),function(){o(null)};if(o!=null)return e=e(),o.current=e,function(){o.current=null}}function zi(e,o,s){return s=s!=null?s.concat([e]):null,ui(4,4,yi.bind(null,o,e),s)}function Ai(){}function Bi(e,o){var s=di();o=o===void 0?null:o;var a=s.memoizedState;return a!==null&&o!==null&&Wh(o,a[1])?a[0]:(s.memoizedState=[e,o],e)}function Ci(e,o){var s=di();o=o===void 0?null:o;var a=s.memoizedState;return a!==null&&o!==null&&Wh(o,a[1])?a[0]:(e=e(),s.memoizedState=[e,o],e)}function Di(e,o,s){return Rh&21?(He(s,o)||(s=yc(),N.lanes|=s,hh|=s,e.baseState=!0),o):(e.baseState&&(e.baseState=!1,Ug=!0),e.memoizedState=s)}function Ei(e,o){var s=C;C=s!==0&&4>s?s:4,e(!0);var a=Qh.transition;Qh.transition={};try{e(!1),o()}finally{C=s,Qh.transition=a}}function Fi(){return di().memoizedState}function Gi(e,o,s){var a=lh(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(e))Ii(o,s);else if(s=Yg(e,o,s,a),s!==null){var c=L();mh(s,e,a,c),Ji(s,o,a)}}function ri(e,o,s){var a=lh(e),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(e))Ii(o,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=o.lastRenderedReducer,h!==null))try{var d=o.lastRenderedState,_=h(d,s);if(c.hasEagerState=!0,c.eagerState=_,He(_,d)){var b=o.interleaved;b===null?(c.next=c,Xg(o)):(c.next=b.next,b.next=c),o.interleaved=c;return}}catch{}finally{}s=Yg(e,o,c,a),s!==null&&(c=L(),mh(s,e,a,c),Ji(s,o,a))}}function Hi(e){var o=e.alternate;return e===N||o!==null&&o===N}function Ii(e,o){Th=Sh=!0;var s=e.pending;s===null?o.next=o:(o.next=s.next,s.next=o),e.pending=o}function Ji(e,o,s){if(s&4194240){var a=o.lanes;a&=e.pendingLanes,s|=a,o.lanes=s,Cc(e,s)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(e,o){return ci().memoizedState=[e,o===void 0?null:o],e},useContext:Vg,useEffect:vi,useImperativeHandle:function(e,o,s){return s=s!=null?s.concat([e]):null,ti(4194308,4,yi.bind(null,o,e),s)},useLayoutEffect:function(e,o){return ti(4194308,4,e,o)},useInsertionEffect:function(e,o){return ti(4,2,e,o)},useMemo:function(e,o){var s=ci();return o=o===void 0?null:o,e=e(),s.memoizedState=[e,o],e},useReducer:function(e,o,s){var a=ci();return o=s!==void 0?s(o):o,a.memoizedState=a.baseState=o,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},a.queue=e,e=e.dispatch=Gi.bind(null,N,e),[a.memoizedState,e]},useRef:function(e){var o=ci();return e={current:e},o.memoizedState=e},useState:qi,useDebugValue:Ai,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=qi(!1),o=e[0];return e=Ei.bind(null,e[1]),ci().memoizedState=e,[o,e]},useMutableSource:function(){},useSyncExternalStore:function(e,o,s){var a=N,c=ci();if(I){if(s===void 0)throw Error(p(407));s=s()}else{if(s=o(),R===null)throw Error(p(349));Rh&30||ni(a,o,s)}c.memoizedState=s;var h={value:s,getSnapshot:o};return c.queue=h,vi(ki.bind(null,a,h,e),[e]),a.flags|=2048,li(9,mi.bind(null,a,h,s,o),void 0,null),s},useId:function(){var e=ci(),o=R.identifierPrefix;if(I){var s=sg,a=rg;s=(a&~(1<<32-oc(a)-1)).toString(32)+s,o=":"+o+"R"+s,s=Uh++,0<s&&(o+="H"+s.toString(32)),o+=":"}else s=Vh++,o=":"+o+"r"+s.toString(32)+":";return e.memoizedState=o},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var o=di();return Di(o,O.memoizedState,e)},useTransition:function(){var e=fi(ei)[0],o=di().memoizedState;return[e,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var o=di();return O===null?o.memoizedState=e:Di(o,O.memoizedState,e)},useTransition:function(){var e=gi(ei)[0],o=di().memoizedState;return[e,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(e,o){try{var s="",a=o;do s+=Pa(a),a=a.return;while(a);var c=s}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:o,stack:c,digest:null}}function Li(e,o,s){return{value:e,source:null,stack:s??null,digest:o??null}}function Mi(e,o){try{console.error(o.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(e,o,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var a=o.value;return s.callback=function(){Pi||(Pi=!0,Qi=a),Mi(e,o)},s}function Ri(e,o,s){s=ch(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=o.value;s.payload=function(){return a(c)},s.callback=function(){Mi(e,o)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){Mi(e,o),typeof a!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var d=o.stack;this.componentDidCatch(o.value,{componentStack:d!==null?d:""})}),s}function Ti(e,o,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Ni;var c=new Set;a.set(o,c)}else c=a.get(o),c===void 0&&(c=new Set,a.set(o,c));c.has(s)||(c.add(s),e=Ui.bind(null,e,o,s),o.then(e,e))}function Vi(e){do{var o;if((o=e.tag===13)&&(o=e.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return e;e=e.return}while(e!==null);return null}function Wi(e,o,s,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===o?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(o=ch(-1,1),o.tag=2,dh(s,o,1))),s.lanes|=1),e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(e,o,s,a){o.child=e===null?Ch(o,null,s,a):Bh(o,e.child,s,a)}function Zi(e,o,s,a,c){s=s.render;var h=o.ref;return Tg(o,c),a=Xh(e,o,s,a,h,c),s=bi(),e!==null&&!Ug?(o.updateQueue=e.updateQueue,o.flags&=-2053,e.lanes&=~c,$i(e,o,c)):(I&&s&&vg(o),o.flags|=1,Yi(e,o,a,c),o.child)}function aj(e,o,s,a,c){if(e===null){var h=s.type;return typeof h=="function"&&!bj(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(o.tag=15,o.type=h,cj(e,o,h,a,c)):(e=yh(s.type,null,a,o,o.mode,c),e.ref=o.ref,e.return=o,o.child=e)}if(h=e.child,!(e.lanes&c)){var d=h.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(d,a)&&e.ref===o.ref)return $i(e,o,c)}return o.flags|=1,e=wh(h,a),e.ref=o.ref,e.return=o,o.child=e}function cj(e,o,s,a,c){if(e!==null){var h=e.memoizedProps;if(Ie(h,a)&&e.ref===o.ref)if(Ug=!1,o.pendingProps=a=h,(e.lanes&c)!==0)e.flags&131072&&(Ug=!0);else return o.lanes=e.lanes,$i(e,o,c)}return dj(e,o,s,a,c)}function ej(e,o,s){var a=o.pendingProps,c=a.children,h=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=s;else{if(!(s&1073741824))return e=h!==null?h.baseLanes|s:s,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:e,cachePool:null,transitions:null},o.updateQueue=null,G(fj,gj),gj|=e,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:s,G(fj,gj),gj|=a}else h!==null?(a=h.baseLanes|s,o.memoizedState=null):a=s,G(fj,gj),gj|=a;return Yi(e,o,c,s),o.child}function hj(e,o){var s=o.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(o.flags|=512,o.flags|=2097152)}function dj(e,o,s,a,c){var h=Zf(s)?Xf:H.current;return h=Yf(o,h),Tg(o,c),s=Xh(e,o,s,a,h,c),a=bi(),e!==null&&!Ug?(o.updateQueue=e.updateQueue,o.flags&=-2053,e.lanes&=~c,$i(e,o,c)):(I&&a&&vg(o),o.flags|=1,Yi(e,o,s,c),o.child)}function ij(e,o,s,a,c){if(Zf(s)){var h=!0;cg(o)}else h=!1;if(Tg(o,c),o.stateNode===null)jj(e,o),ph(o,s,a),rh(o,s,a,c),a=!0;else if(e===null){var d=o.stateNode,_=o.memoizedProps;d.props=_;var b=d.context,$=s.contextType;typeof $=="object"&&$!==null?$=Vg($):($=Zf(s)?Xf:H.current,$=Yf(o,$));var rt=s.getDerivedStateFromProps,nt=typeof rt=="function"||typeof d.getSnapshotBeforeUpdate=="function";nt||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==a||b!==$)&&qh(o,d,a,$),$g=!1;var lt=o.memoizedState;d.state=lt,gh(o,a,d,c),b=o.memoizedState,_!==a||lt!==b||Wf.current||$g?(typeof rt=="function"&&(kh(o,s,rt,a),b=o.memoizedState),(_=$g||oh(o,s,_,a,lt,b,$))?(nt||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(o.flags|=4194308)):(typeof d.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=a,o.memoizedState=b),d.props=a,d.state=b,d.context=$,a=_):(typeof d.componentDidMount=="function"&&(o.flags|=4194308),a=!1)}else{d=o.stateNode,bh(e,o),_=o.memoizedProps,$=o.type===o.elementType?_:Lg(o.type,_),d.props=$,nt=o.pendingProps,lt=d.context,b=s.contextType,typeof b=="object"&&b!==null?b=Vg(b):(b=Zf(s)?Xf:H.current,b=Yf(o,b));var dt=s.getDerivedStateFromProps;(rt=typeof dt=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==nt||lt!==b)&&qh(o,d,a,b),$g=!1,lt=o.memoizedState,d.state=lt,gh(o,a,d,c);var gt=o.memoizedState;_!==nt||lt!==gt||Wf.current||$g?(typeof dt=="function"&&(kh(o,s,dt,a),gt=o.memoizedState),($=$g||oh(o,s,$,a,lt,gt,b)||!1)?(rt||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(a,gt,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(a,gt,b)),typeof d.componentDidUpdate=="function"&&(o.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&lt===e.memoizedState||(o.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&lt===e.memoizedState||(o.flags|=1024),o.memoizedProps=a,o.memoizedState=gt),d.props=a,d.state=gt,d.context=b,a=$):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&lt===e.memoizedState||(o.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&lt===e.memoizedState||(o.flags|=1024),a=!1)}return kj(e,o,s,a,h,c)}function kj(e,o,s,a,c,h){hj(e,o);var d=(o.flags&128)!==0;if(!a&&!d)return c&&dg(o,s,!1),$i(e,o,h);a=o.stateNode,Xi.current=o;var _=d&&typeof s.getDerivedStateFromError!="function"?null:a.render();return o.flags|=1,e!==null&&d?(o.child=Bh(o,e.child,null,h),o.child=Bh(o,null,_,h)):Yi(e,o,_,h),o.memoizedState=a.state,c&&dg(o,s,!0),o.child}function lj(e){var o=e.stateNode;o.pendingContext?ag(e,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(e,o.context,!1),Ih(e,o.containerInfo)}function mj(e,o,s,a,c){return Ig(),Jg(c),o.flags|=256,Yi(e,o,s,a),o.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(e){return{baseLanes:e,cachePool:null,transitions:null}}function pj(e,o,s){var a=o.pendingProps,c=M.current,h=!1,d=(o.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(c&2)!==0),_?(h=!0,o.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),G(M,c&1),e===null)return Eg(o),e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(o.mode&1?e.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(d=a.children,e=a.fallback,h?(a=o.mode,h=o.child,d={mode:"hidden",children:d},!(a&1)&&h!==null?(h.childLanes=0,h.pendingProps=d):h=qj(d,a,0,null),e=Ah(e,a,s,null),h.return=o,e.return=o,h.sibling=e,o.child=h,o.child.memoizedState=oj(s),o.memoizedState=nj,e):rj(o,d));if(c=e.memoizedState,c!==null&&(_=c.dehydrated,_!==null))return sj(e,o,d,a,_,c,s);if(h){h=a.fallback,d=o.mode,c=e.child,_=c.sibling;var b={mode:"hidden",children:a.children};return!(d&1)&&o.child!==c?(a=o.child,a.childLanes=0,a.pendingProps=b,o.deletions=null):(a=wh(c,b),a.subtreeFlags=c.subtreeFlags&14680064),_!==null?h=wh(_,h):(h=Ah(h,d,s,null),h.flags|=2),h.return=o,a.return=o,a.sibling=h,o.child=a,a=h,h=o.child,d=e.child.memoizedState,d=d===null?oj(s):{baseLanes:d.baseLanes|s,cachePool:null,transitions:d.transitions},h.memoizedState=d,h.childLanes=e.childLanes&~s,o.memoizedState=nj,a}return h=e.child,e=h.sibling,a=wh(h,{mode:"visible",children:a.children}),!(o.mode&1)&&(a.lanes=s),a.return=o,a.sibling=null,e!==null&&(s=o.deletions,s===null?(o.deletions=[e],o.flags|=16):s.push(e)),o.child=a,o.memoizedState=null,a}function rj(e,o){return o=qj({mode:"visible",children:o},e.mode,0,null),o.return=e,e.child=o}function tj(e,o,s,a){return a!==null&&Jg(a),Bh(o,e.child,null,s),e=rj(o,o.pendingProps.children),e.flags|=2,o.memoizedState=null,e}function sj(e,o,s,a,c,h,d){if(s)return o.flags&256?(o.flags&=-257,a=Li(Error(p(422))),tj(e,o,d,a)):o.memoizedState!==null?(o.child=e.child,o.flags|=128,null):(h=a.fallback,c=o.mode,a=qj({mode:"visible",children:a.children},c,0,null),h=Ah(h,c,d,null),h.flags|=2,a.return=o,h.return=o,a.sibling=h,o.child=a,o.mode&1&&Bh(o,e.child,null,d),o.child.memoizedState=oj(d),o.memoizedState=nj,h);if(!(o.mode&1))return tj(e,o,d,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var _=a.dgst;return a=_,h=Error(p(419)),a=Li(h,a,void 0),tj(e,o,d,a)}if(_=(d&e.childLanes)!==0,Ug||_){if(a=R,a!==null){switch(d&-d){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|d)?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,Zg(e,c),mh(a,e,c,-1))}return uj(),a=Li(Error(p(421))),tj(e,o,d,a)}return c.data==="$?"?(o.flags|=128,o.child=e.child,o=vj.bind(null,e),c._reactRetry=o,null):(e=h.treeContext,yg=Lf(c.nextSibling),xg=o,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=o),o=rj(o,a.children),o.flags|=4096,o)}function wj(e,o,s){e.lanes|=o;var a=e.alternate;a!==null&&(a.lanes|=o),Sg(e.return,o,s)}function xj(e,o,s,a,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(h.isBackwards=o,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=s,h.tailMode=c)}function yj(e,o,s){var a=o.pendingProps,c=a.revealOrder,h=a.tail;if(Yi(e,o,a.children,s),a=M.current,a&2)a=a&1|2,o.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=o.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wj(e,s,o);else if(e.tag===19)wj(e,s,o);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===o)break e;for(;e.sibling===null;){if(e.return===null||e.return===o)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(G(M,a),!(o.mode&1))o.memoizedState=null;else switch(c){case"forwards":for(s=o.child,c=null;s!==null;)e=s.alternate,e!==null&&Mh(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=o.child,o.child=null):(c=s.sibling,s.sibling=null),xj(o,!1,c,s,h);break;case"backwards":for(s=null,c=o.child,o.child=null;c!==null;){if(e=c.alternate,e!==null&&Mh(e)===null){o.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}xj(o,!0,s,null,h);break;case"together":xj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jj(e,o){!(o.mode&1)&&e!==null&&(e.alternate=null,o.alternate=null,o.flags|=2)}function $i(e,o,s){if(e!==null&&(o.dependencies=e.dependencies),hh|=o.lanes,!(s&o.childLanes))return null;if(e!==null&&o.child!==e.child)throw Error(p(153));if(o.child!==null){for(e=o.child,s=wh(e,e.pendingProps),o.child=s,s.return=o;e.sibling!==null;)e=e.sibling,s=s.sibling=wh(e,e.pendingProps),s.return=o;s.sibling=null}return o.child}function zj(e,o,s){switch(o.tag){case 3:lj(o),Ig();break;case 5:Kh(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:Ih(o,o.stateNode.containerInfo);break;case 10:var a=o.type._context,c=o.memoizedProps.value;G(Mg,a._currentValue),a._currentValue=c;break;case 13:if(a=o.memoizedState,a!==null)return a.dehydrated!==null?(G(M,M.current&1),o.flags|=128,null):s&o.child.childLanes?pj(e,o,s):(G(M,M.current&1),e=$i(e,o,s),e!==null?e.sibling:null);G(M,M.current&1);break;case 19:if(a=(s&o.childLanes)!==0,e.flags&128){if(a)return yj(e,o,s);o.flags|=128}if(c=o.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(M,M.current),a)break;return null;case 22:case 23:return o.lanes=0,ej(e,o,s)}return $i(e,o,s)}var Aj,Bj,Cj,Dj;Aj=function(e,o){for(var s=o.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(e,o,s,a){var c=e.memoizedProps;if(c!==a){e=o.stateNode,Hh(Eh.current);var h=null;switch(s){case"input":c=Ya(e,c),a=Ya(e,a),h=[];break;case"select":c=A({},c,{value:void 0}),a=A({},a,{value:void 0}),h=[];break;case"textarea":c=gb(e,c),a=gb(e,a),h=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Bf)}ub(s,a);var d;s=null;for($ in c)if(!a.hasOwnProperty($)&&c.hasOwnProperty($)&&c[$]!=null)if($==="style"){var _=c[$];for(d in _)_.hasOwnProperty(d)&&(s||(s={}),s[d]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(ea.hasOwnProperty($)?h||(h=[]):(h=h||[]).push($,null));for($ in a){var b=a[$];if(_=c!=null?c[$]:void 0,a.hasOwnProperty($)&&b!==_&&(b!=null||_!=null))if($==="style")if(_){for(d in _)!_.hasOwnProperty(d)||b&&b.hasOwnProperty(d)||(s||(s={}),s[d]="");for(d in b)b.hasOwnProperty(d)&&_[d]!==b[d]&&(s||(s={}),s[d]=b[d])}else s||(h||(h=[]),h.push($,s)),s=b;else $==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,_=_?_.__html:void 0,b!=null&&_!==b&&(h=h||[]).push($,b)):$==="children"?typeof b!="string"&&typeof b!="number"||(h=h||[]).push($,""+b):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(ea.hasOwnProperty($)?(b!=null&&$==="onScroll"&&D("scroll",e),h||_===b||(h=[])):(h=h||[]).push($,b))}s&&(h=h||[]).push("style",s);var $=h;(o.updateQueue=$)&&(o.flags|=4)}};Dj=function(e,o,s,a){s!==a&&(o.flags|=4)};function Ej(e,o){if(!I)switch(e.tailMode){case"hidden":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?o||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function S(e){var o=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(o)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=s,o}function Fj(e,o,s){var a=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf(o.type)&&$f(),S(o),null;case 3:return a=o.stateNode,Jh(),E(Wf),E(H),Oh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gg(o)?o.flags|=4:e===null||e.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(e,o),S(o),null;case 5:Lh(o);var c=Hh(Gh.current);if(s=o.type,e!==null&&o.stateNode!=null)Cj(e,o,s,a,c),e.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!a){if(o.stateNode===null)throw Error(p(166));return S(o),null}if(e=Hh(Eh.current),Gg(o)){a=o.stateNode,s=o.type;var h=o.memoizedProps;switch(a[Of]=o,a[Pf]=h,e=(o.mode&1)!==0,s){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,h),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},D("invalid",a);break;case"textarea":hb(a,h),D("invalid",a)}ub(s,h),c=null;for(var d in h)if(h.hasOwnProperty(d)){var _=h[d];d==="children"?typeof _=="string"?a.textContent!==_&&(h.suppressHydrationWarning!==!0&&Af(a.textContent,_,e),c=["children",_]):typeof _=="number"&&a.textContent!==""+_&&(h.suppressHydrationWarning!==!0&&Af(a.textContent,_,e),c=["children",""+_]):ea.hasOwnProperty(d)&&_!=null&&d==="onScroll"&&D("scroll",a)}switch(s){case"input":Va(a),db(a,h,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=Bf)}a=c,o.updateQueue=a,a!==null&&(o.flags|=4)}else{d=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=d.createElement(s,{is:a.is}):(e=d.createElement(s),s==="select"&&(d=e,a.multiple?d.multiple=!0:a.size&&(d.size=a.size))):e=d.createElementNS(e,s),e[Of]=o,e[Pf]=a,Aj(e,o,!1,!1),o.stateNode=e;e:{switch(d=vb(s,a),s){case"dialog":D("cancel",e),D("close",e),c=a;break;case"iframe":case"object":case"embed":D("load",e),c=a;break;case"video":case"audio":for(c=0;c<lf.length;c++)D(lf[c],e);c=a;break;case"source":D("error",e),c=a;break;case"img":case"image":case"link":D("error",e),D("load",e),c=a;break;case"details":D("toggle",e),c=a;break;case"input":Za(e,a),c=Ya(e,a),D("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=A({},a,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,a),c=gb(e,a),D("invalid",e);break;default:c=a}ub(s,c),_=c;for(h in _)if(_.hasOwnProperty(h)){var b=_[h];h==="style"?sb(e,b):h==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&nb(e,b)):h==="children"?typeof b=="string"?(s!=="textarea"||b!=="")&&ob(e,b):typeof b=="number"&&ob(e,""+b):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ea.hasOwnProperty(h)?b!=null&&h==="onScroll"&&D("scroll",e):b!=null&&ta(e,h,b,d))}switch(s){case"input":Va(e),db(e,a,!1);break;case"textarea":Va(e),jb(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Sa(a.value));break;case"select":e.multiple=!!a.multiple,h=a.value,h!=null?fb(e,!!a.multiple,h,!1):a.defaultValue!=null&&fb(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if(e&&o.stateNode!=null)Dj(e,o,e.memoizedProps,a);else{if(typeof a!="string"&&o.stateNode===null)throw Error(p(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(o)){if(a=o.stateNode,s=o.memoizedProps,a[Of]=o,(h=a.nodeValue!==s)&&(e=xg,e!==null))switch(e.tag){case 3:Af(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,s,(e.mode&1)!==0)}h&&(o.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Of]=o,o.stateNode=a}return S(o),null;case 13:if(E(M),a=o.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,h=!1;else if(h=Gg(o),a!==null&&a.dehydrated!==null){if(e===null){if(!h)throw Error(p(318));if(h=o.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(p(317));h[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),h=!1}else zg!==null&&(Gj(zg),zg=null),h=!0;if(!h)return o.flags&65536?o:null}return o.flags&128?(o.lanes=s,o):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(o.child.flags|=8192,o.mode&1&&(e===null||M.current&1?T===0&&(T=3):uj())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return Jh(),Bj(e,o),e===null&&sf(o.stateNode.containerInfo),S(o),null;case 10:return Rg(o.type._context),S(o),null;case 17:return Zf(o.type)&&$f(),S(o),null;case 19:if(E(M),h=o.memoizedState,h===null)return S(o),null;if(a=(o.flags&128)!==0,d=h.rendering,d===null)if(a)Ej(h,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=o.child;e!==null;){if(d=Mh(e),d!==null){for(o.flags|=128,Ej(h,!1),a=d.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),o.subtreeFlags=0,a=s,s=o.child;s!==null;)h=s,e=a,h.flags&=14680066,d=h.alternate,d===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=d.childLanes,h.lanes=d.lanes,h.child=d.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=d.memoizedProps,h.memoizedState=d.memoizedState,h.updateQueue=d.updateQueue,h.type=d.type,e=d.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return G(M,M.current&1|2),o.child}e=e.sibling}h.tail!==null&&B()>Hj&&(o.flags|=128,a=!0,Ej(h,!1),o.lanes=4194304)}else{if(!a)if(e=Mh(d),e!==null){if(o.flags|=128,a=!0,s=e.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),Ej(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!I)return S(o),null}else 2*B()-h.renderingStartTime>Hj&&s!==1073741824&&(o.flags|=128,a=!0,Ej(h,!1),o.lanes=4194304);h.isBackwards?(d.sibling=o.child,o.child=d):(s=h.last,s!==null?s.sibling=d:o.child=d,h.last=d)}return h.tail!==null?(o=h.tail,h.rendering=o,h.tail=o.sibling,h.renderingStartTime=B(),o.sibling=null,s=M.current,G(M,a?s&1|2:s&1),o):(S(o),null);case 22:case 23:return Ij(),a=o.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(o.flags|=8192),a&&o.mode&1?gj&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p(156,o.tag))}function Jj(e,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),e=o.flags,e&65536?(o.flags=e&-65537|128,o):null;case 3:return Jh(),E(Wf),E(H),Oh(),e=o.flags,e&65536&&!(e&128)?(o.flags=e&-65537|128,o):null;case 5:return Lh(o),null;case 13:if(E(M),e=o.memoizedState,e!==null&&e.dehydrated!==null){if(o.alternate===null)throw Error(p(340));Ig()}return e=o.flags,e&65536?(o.flags=e&-65537|128,o):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(o.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(e,o){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){W(e,o,a)}else s.current=null}function Nj(e,o,s){try{s()}catch(a){W(e,o,a)}}var Oj=!1;function Pj(e,o){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var d=0,_=-1,b=-1,$=0,rt=0,nt=e,lt=null;t:for(;;){for(var dt;nt!==s||c!==0&&nt.nodeType!==3||(_=d+c),nt!==h||a!==0&&nt.nodeType!==3||(b=d+a),nt.nodeType===3&&(d+=nt.nodeValue.length),(dt=nt.firstChild)!==null;)lt=nt,nt=dt;for(;;){if(nt===e)break t;if(lt===s&&++$===c&&(_=d),lt===h&&++rt===a&&(b=d),(dt=nt.nextSibling)!==null)break;nt=lt,lt=nt.parentNode}nt=dt}s=_===-1||b===-1?null:{start:_,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:e,selectionRange:s},dd=!1,V=o;V!==null;)if(o=V,e=o.child,(o.subtreeFlags&1028)!==0&&e!==null)e.return=o,V=e;else for(;V!==null;){o=V;try{var gt=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(gt!==null){var Et=gt.memoizedProps,ht=gt.memoizedState,ot=o.stateNode,ct=ot.getSnapshotBeforeUpdate(o.elementType===o.type?Et:Lg(o.type,Et),ht);ot.__reactInternalSnapshotBeforeUpdate=ct}break;case 3:var it=o.stateNode.containerInfo;it.nodeType===1?it.textContent="":it.nodeType===9&&it.documentElement&&it.removeChild(it.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(at){W(o,o.return,at)}if(e=o.sibling,e!==null){e.return=o.return,V=e;break}V=o.return}return gt=Oj,Oj=!1,gt}function Qj(e,o,s){var a=o.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&Nj(o,s,h)}c=c.next}while(c!==a)}}function Rj(e,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==o)}}function Sj(e){var o=e.ref;if(o!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof o=="function"?o(e):o.current=e}}function Tj(e){var o=e.alternate;o!==null&&(e.alternate=null,Tj(o)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(o=e.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uj(e){return e.tag===5||e.tag===3||e.tag===4}function Vj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wj(e,o,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,o?s.nodeType===8?s.parentNode.insertBefore(e,o):s.insertBefore(e,o):(s.nodeType===8?(o=s.parentNode,o.insertBefore(e,s)):(o=s,o.appendChild(e)),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=Bf));else if(a!==4&&(e=e.child,e!==null))for(Wj(e,o,s),e=e.sibling;e!==null;)Wj(e,o,s),e=e.sibling}function Xj(e,o,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,o?s.insertBefore(e,o):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Xj(e,o,s),e=e.sibling;e!==null;)Xj(e,o,s),e=e.sibling}var X=null,Yj=!1;function Zj(e,o,s){for(s=s.child;s!==null;)ak(e,o,s),s=s.sibling}function ak(e,o,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U||Mj(s,o);case 6:var a=X,c=Yj;X=null,Zj(e,o,s),X=a,Yj=c,X!==null&&(Yj?(e=X,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):X.removeChild(s.stateNode));break;case 18:X!==null&&(Yj?(e=X,s=s.stateNode,e.nodeType===8?Kf(e.parentNode,s):e.nodeType===1&&Kf(e,s),bd(e)):Kf(X,s.stateNode));break;case 4:a=X,c=Yj,X=s.stateNode.containerInfo,Yj=!0,Zj(e,o,s),X=a,Yj=c;break;case 0:case 11:case 14:case 15:if(!U&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var h=c,d=h.destroy;h=h.tag,d!==void 0&&(h&2||h&4)&&Nj(s,o,d),c=c.next}while(c!==a)}Zj(e,o,s);break;case 1:if(!U&&(Mj(s,o),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(_){W(s,o,_)}Zj(e,o,s);break;case 21:Zj(e,o,s);break;case 22:s.mode&1?(U=(a=U)||s.memoizedState!==null,Zj(e,o,s),U=a):Zj(e,o,s);break;default:Zj(e,o,s)}}function bk(e){var o=e.updateQueue;if(o!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Lj),o.forEach(function(a){var c=ck.bind(null,e,a);s.has(a)||(s.add(a),a.then(c,c))})}}function dk(e,o){var s=o.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var h=e,d=o,_=d;e:for(;_!==null;){switch(_.tag){case 5:X=_.stateNode,Yj=!1;break e;case 3:X=_.stateNode.containerInfo,Yj=!0;break e;case 4:X=_.stateNode.containerInfo,Yj=!0;break e}_=_.return}if(X===null)throw Error(p(160));ak(h,d,c),X=null,Yj=!1;var b=c.alternate;b!==null&&(b.return=null),c.return=null}catch($){W(c,o,$)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ek(o,e),o=o.sibling}function ek(e,o){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dk(o,e),fk(e),a&4){try{Qj(3,e,e.return),Rj(3,e)}catch(Et){W(e,e.return,Et)}try{Qj(5,e,e.return)}catch(Et){W(e,e.return,Et)}}break;case 1:dk(o,e),fk(e),a&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(o,e),fk(e),a&512&&s!==null&&Mj(s,s.return),e.flags&32){var c=e.stateNode;try{ob(c,"")}catch(Et){W(e,e.return,Et)}}if(a&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,d=s!==null?s.memoizedProps:h,_=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{_==="input"&&h.type==="radio"&&h.name!=null&&ab(c,h),vb(_,d);var $=vb(_,h);for(d=0;d<b.length;d+=2){var rt=b[d],nt=b[d+1];rt==="style"?sb(c,nt):rt==="dangerouslySetInnerHTML"?nb(c,nt):rt==="children"?ob(c,nt):ta(c,rt,nt,$)}switch(_){case"input":bb(c,h);break;case"textarea":ib(c,h);break;case"select":var lt=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var dt=h.value;dt!=null?fb(c,!!h.multiple,dt,!1):lt!==!!h.multiple&&(h.defaultValue!=null?fb(c,!!h.multiple,h.defaultValue,!0):fb(c,!!h.multiple,h.multiple?[]:"",!1))}c[Pf]=h}catch(Et){W(e,e.return,Et)}}break;case 6:if(dk(o,e),fk(e),a&4){if(e.stateNode===null)throw Error(p(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(Et){W(e,e.return,Et)}}break;case 3:if(dk(o,e),fk(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(Et){W(e,e.return,Et)}break;case 4:dk(o,e),fk(e);break;case 13:dk(o,e),fk(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(gk=B())),a&4&&bk(e);break;case 22:if(rt=s!==null&&s.memoizedState!==null,e.mode&1?(U=($=U)||rt,dk(o,e),U=$):dk(o,e),fk(e),a&8192){if($=e.memoizedState!==null,(e.stateNode.isHidden=$)&&!rt&&e.mode&1)for(V=e,rt=e.child;rt!==null;){for(nt=V=rt;V!==null;){switch(lt=V,dt=lt.child,lt.tag){case 0:case 11:case 14:case 15:Qj(4,lt,lt.return);break;case 1:Mj(lt,lt.return);var gt=lt.stateNode;if(typeof gt.componentWillUnmount=="function"){a=lt,s=lt.return;try{o=a,gt.props=o.memoizedProps,gt.state=o.memoizedState,gt.componentWillUnmount()}catch(Et){W(a,s,Et)}}break;case 5:Mj(lt,lt.return);break;case 22:if(lt.memoizedState!==null){hk(nt);continue}}dt!==null?(dt.return=lt,V=dt):hk(nt)}rt=rt.sibling}e:for(rt=null,nt=e;;){if(nt.tag===5){if(rt===null){rt=nt;try{c=nt.stateNode,$?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(_=nt.stateNode,b=nt.memoizedProps.style,d=b!=null&&b.hasOwnProperty("display")?b.display:null,_.style.display=rb("display",d))}catch(Et){W(e,e.return,Et)}}}else if(nt.tag===6){if(rt===null)try{nt.stateNode.nodeValue=$?"":nt.memoizedProps}catch(Et){W(e,e.return,Et)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===e)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===e)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===e)break e;rt===nt&&(rt=null),nt=nt.return}rt===nt&&(rt=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:dk(o,e),fk(e),a&4&&bk(e);break;case 21:break;default:dk(o,e),fk(e)}}function fk(e){var o=e.flags;if(o&2){try{e:{for(var s=e.return;s!==null;){if(Uj(s)){var a=s;break e}s=s.return}throw Error(p(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ob(c,""),a.flags&=-33);var h=Vj(e);Xj(e,h,c);break;case 3:case 4:var d=a.stateNode.containerInfo,_=Vj(e);Wj(e,_,d);break;default:throw Error(p(161))}}catch(b){W(e,e.return,b)}e.flags&=-3}o&4096&&(e.flags&=-4097)}function ik(e,o,s){V=e,jk(e)}function jk(e,o,s){for(var a=(e.mode&1)!==0;V!==null;){var c=V,h=c.child;if(c.tag===22&&a){var d=c.memoizedState!==null||Kj;if(!d){var _=c.alternate,b=_!==null&&_.memoizedState!==null||U;_=Kj;var $=U;if(Kj=d,(U=b)&&!$)for(V=c;V!==null;)d=V,b=d.child,d.tag===22&&d.memoizedState!==null?kk(c):b!==null?(b.return=d,V=b):kk(c);for(;h!==null;)V=h,jk(h),h=h.sibling;V=c,Kj=_,U=$}lk(e)}else c.subtreeFlags&8772&&h!==null?(h.return=c,V=h):lk(e)}}function lk(e){for(;V!==null;){var o=V;if(o.flags&8772){var s=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Rj(5,o);break;case 1:var a=o.stateNode;if(o.flags&4&&!U)if(s===null)a.componentDidMount();else{var c=o.elementType===o.type?s.memoizedProps:Lg(o.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=o.updateQueue;h!==null&&ih(o,h,a);break;case 3:var d=o.updateQueue;if(d!==null){if(s=null,o.child!==null)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}ih(o,d,s)}break;case 5:var _=o.stateNode;if(s===null&&o.flags&4){s=_;var b=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&s.focus();break;case"img":b.src&&(s.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var $=o.alternate;if($!==null){var rt=$.memoizedState;if(rt!==null){var nt=rt.dehydrated;nt!==null&&bd(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||o.flags&512&&Sj(o)}catch(lt){W(o,o.return,lt)}}if(o===e){V=null;break}if(s=o.sibling,s!==null){s.return=o.return,V=s;break}V=o.return}}function hk(e){for(;V!==null;){var o=V;if(o===e){V=null;break}var s=o.sibling;if(s!==null){s.return=o.return,V=s;break}V=o.return}}function kk(e){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var s=o.return;try{Rj(4,o)}catch(b){W(o,s,b)}break;case 1:var a=o.stateNode;if(typeof a.componentDidMount=="function"){var c=o.return;try{a.componentDidMount()}catch(b){W(o,c,b)}}var h=o.return;try{Sj(o)}catch(b){W(o,h,b)}break;case 5:var d=o.return;try{Sj(o)}catch(b){W(o,d,b)}}}catch(b){W(o,o.return,b)}if(o===e){V=null;break}var _=o.sibling;if(_!==null){_.return=o.return,V=_;break}V=o.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function mh(e,o,s,a){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(e,s,a),(!(K&2)||e!==R)&&(e===R&&(!(K&2)&&(rk|=s),T===4&&Dk(e,Z)),Ek(e,a),s===1&&K===0&&!(o.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(e,o){var s=e.callbackNode;wc(e,o);var a=uc(e,e===R?Z:0);if(a===0)s!==null&&bc(s),e.callbackNode=null,e.callbackPriority=0;else if(o=a&-a,e.callbackPriority!==o){if(s!=null&&bc(s),o===1)e.tag===0?ig(Fk.bind(null,e)):hg(Fk.bind(null,e)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(a)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Gk(s,Hk.bind(null,e))}e.callbackPriority=o,e.callbackNode=s}}function Hk(e,o){if(Bk=-1,Ck=0,K&6)throw Error(p(327));var s=e.callbackNode;if(Ik()&&e.callbackNode!==s)return null;var a=uc(e,e===R?Z:0);if(a===0)return null;if(a&30||a&e.expiredLanes||o)o=Jk(e,a);else{o=a;var c=K;K|=2;var h=Kk();(R!==e||Z!==o)&&(vk=null,Hj=B()+500,Lk(e,o));do try{Mk();break}catch(_){Nk(e,_)}while(1);Qg(),nk.current=h,K=c,Y!==null?o=0:(R=null,Z=0,o=T)}if(o!==0){if(o===2&&(c=xc(e),c!==0&&(a=c,o=Ok(e,c))),o===1)throw s=qk,Lk(e,0),Dk(e,a),Ek(e,B()),s;if(o===6)Dk(e,a);else{if(c=e.current.alternate,!(a&30)&&!Pk(c)&&(o=Jk(e,a),o===2&&(h=xc(e),h!==0&&(a=h,o=Ok(e,h))),o===1))throw s=qk,Lk(e,0),Dk(e,a),Ek(e,B()),s;switch(e.finishedWork=c,e.finishedLanes=a,o){case 0:case 1:throw Error(p(345));case 2:Qk(e,uk,vk);break;case 3:if(Dk(e,a),(a&130023424)===a&&(o=gk+500-B(),10<o)){if(uc(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){L(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),o);break}Qk(e,uk,vk);break;case 4:if(Dk(e,a),(a&4194240)===a)break;for(o=e.eventTimes,c=-1;0<a;){var d=31-oc(a);h=1<<d,d=o[d],d>c&&(c=d),a&=~h}if(a=c,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*mk(a/1960))-a,10<a){e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),a);break}Qk(e,uk,vk);break;case 5:Qk(e,uk,vk);break;default:throw Error(p(329))}}}return Ek(e,B()),e.callbackNode===s?Hk.bind(null,e):null}function Ok(e,o){var s=tk;return e.current.memoizedState.isDehydrated&&(Lk(e,o).flags|=256),e=Jk(e,o),e!==2&&(o=uk,uk=s,o!==null&&Gj(o)),e}function Gj(e){uk===null?uk=e:uk.push.apply(uk,e)}function Pk(e){for(var o=e;;){if(o.flags&16384){var s=o.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],h=c.getSnapshot;c=c.value;try{if(!He(h(),c))return!1}catch{return!1}}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Dk(e,o){for(o&=~sk,o&=~rk,e.suspendedLanes|=o,e.pingedLanes&=~o,e=e.expirationTimes;0<o;){var s=31-oc(o),a=1<<s;e[s]=-1,o&=~a}}function Fk(e){if(K&6)throw Error(p(327));Ik();var o=uc(e,0);if(!(o&1))return Ek(e,B()),null;var s=Jk(e,o);if(e.tag!==0&&s===2){var a=xc(e);a!==0&&(o=a,s=Ok(e,a))}if(s===1)throw s=qk,Lk(e,0),Dk(e,o),Ek(e,B()),s;if(s===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=o,Qk(e,uk,vk),Ek(e,B()),null}function Rk(e,o){var s=K;K|=1;try{return e(o)}finally{K=s,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(e){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var o=K;K|=1;var s=pk.transition,a=C;try{if(pk.transition=null,C=1,e)return e()}finally{C=a,pk.transition=s,K=o,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(e,o){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gf(s)),Y!==null)for(s=Y.return;s!==null;){var a=s;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(a);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(a.type._context);break;case 22:case 23:Ij()}s=s.return}if(R=e,Y=e=wh(e.current,null),Z=gj=o,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(o=0;o<Wg.length;o++)if(s=Wg[o],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,h=s.pending;if(h!==null){var d=h.next;h.next=c,a.next=d}s.pending=a}Wg=null}return e}function Nk(e,o){do{var s=Y;try{if(Qg(),Ph.current=ai,Sh){for(var a=N.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T=1,qk=o,Y=null;break}e:{var h=e,d=s.return,_=s,b=o;if(o=Z,_.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var $=b,rt=_,nt=rt.tag;if(!(rt.mode&1)&&(nt===0||nt===11||nt===15)){var lt=rt.alternate;lt?(rt.updateQueue=lt.updateQueue,rt.memoizedState=lt.memoizedState,rt.lanes=lt.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var dt=Vi(d);if(dt!==null){dt.flags&=-257,Wi(dt,d,_,h,o),dt.mode&1&&Ti(h,$,o),o=dt,b=$;var gt=o.updateQueue;if(gt===null){var Et=new Set;Et.add(b),o.updateQueue=Et}else gt.add(b);break e}else{if(!(o&1)){Ti(h,$,o),uj();break e}b=Error(p(426))}}else if(I&&_.mode&1){var ht=Vi(d);if(ht!==null){!(ht.flags&65536)&&(ht.flags|=256),Wi(ht,d,_,h,o),Jg(Ki(b,_));break e}}h=b=Ki(b,_),T!==4&&(T=2),tk===null?tk=[h]:tk.push(h),h=d;do{switch(h.tag){case 3:h.flags|=65536,o&=-o,h.lanes|=o;var ot=Oi(h,b,o);fh(h,ot);break e;case 1:_=b;var ct=h.type,it=h.stateNode;if(!(h.flags&128)&&(typeof ct.getDerivedStateFromError=="function"||it!==null&&typeof it.componentDidCatch=="function"&&(Si===null||!Si.has(it)))){h.flags|=65536,o&=-o,h.lanes|=o;var at=Ri(h,_,o);fh(h,at);break e}}h=h.return}while(h!==null)}Tk(s)}catch(yt){o=yt,Y===s&&s!==null&&(Y=s=s.return);continue}break}while(1)}function Kk(){var e=nk.current;return nk.current=ai,e===null?ai:e}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(e,o){var s=K;K|=2;var a=Kk();(R!==e||Z!==o)&&(vk=null,Lk(e,o));do try{Uk();break}catch(c){Nk(e,c)}while(1);if(Qg(),K=s,nk.current=a,Y!==null)throw Error(p(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(e){var o=Wk(e.alternate,e,gj);e.memoizedProps=e.pendingProps,o===null?Tk(e):Y=o,ok.current=null}function Tk(e){var o=e;do{var s=o.alternate;if(e=o.return,o.flags&32768){if(s=Jj(s,o),s!==null){s.flags&=32767,Y=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(s=Fj(s,o,gj),s!==null){Y=s;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=e}while(o!==null);T===0&&(T=5)}function Qk(e,o,s){var a=C,c=pk.transition;try{pk.transition=null,C=1,Xk(e,o,s,a)}finally{pk.transition=c,C=a}return null}function Xk(e,o,s,a){do Ik();while(xk!==null);if(K&6)throw Error(p(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var h=s.lanes|s.childLanes;if(Bc(e,h),e===R&&(Y=R=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),h=(s.flags&15990)!==0,s.subtreeFlags&15990||h){h=pk.transition,pk.transition=null;var d=C;C=1;var _=K;K|=4,ok.current=null,Pj(e,s),ek(s,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=s,ik(s),dc(),K=_,C=d,pk.transition=h}else e.current=s;if(wk&&(wk=!1,xk=e,yk=c),h=e.pendingLanes,h===0&&(Si=null),mc(s.stateNode),Ek(e,B()),o!==null)for(a=e.onRecoverableError,s=0;s<o.length;s++)c=o[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(Pi)throw Pi=!1,e=Qi,Qi=null,e;return yk&1&&e.tag!==0&&Ik(),h=e.pendingLanes,h&1?e===Ak?zk++:(zk=0,Ak=e):zk=0,jg(),null}function Ik(){if(xk!==null){var e=Dc(yk),o=pk.transition,s=C;try{if(pk.transition=null,C=16>e?16:e,xk===null)var a=!1;else{if(e=xk,xk=null,yk=0,K&6)throw Error(p(331));var c=K;for(K|=4,V=e.current;V!==null;){var h=V,d=h.child;if(V.flags&16){var _=h.deletions;if(_!==null){for(var b=0;b<_.length;b++){var $=_[b];for(V=$;V!==null;){var rt=V;switch(rt.tag){case 0:case 11:case 15:Qj(8,rt,h)}var nt=rt.child;if(nt!==null)nt.return=rt,V=nt;else for(;V!==null;){rt=V;var lt=rt.sibling,dt=rt.return;if(Tj(rt),rt===$){V=null;break}if(lt!==null){lt.return=dt,V=lt;break}V=dt}}}var gt=h.alternate;if(gt!==null){var Et=gt.child;if(Et!==null){gt.child=null;do{var ht=Et.sibling;Et.sibling=null,Et=ht}while(Et!==null)}}V=h}}if(h.subtreeFlags&2064&&d!==null)d.return=h,V=d;else e:for(;V!==null;){if(h=V,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Qj(9,h,h.return)}var ot=h.sibling;if(ot!==null){ot.return=h.return,V=ot;break e}V=h.return}}var ct=e.current;for(V=ct;V!==null;){d=V;var it=d.child;if(d.subtreeFlags&2064&&it!==null)it.return=d,V=it;else e:for(d=ct;V!==null;){if(_=V,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Rj(9,_)}}catch(yt){W(_,_.return,yt)}if(_===d){V=null;break e}var at=_.sibling;if(at!==null){at.return=_.return,V=at;break e}V=_.return}}if(K=c,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}a=!0}return a}finally{C=s,pk.transition=o}}return!1}function Yk(e,o,s){o=Ki(s,o),o=Oi(e,o,1),e=dh(e,o,1),o=L(),e!==null&&(Ac(e,1,o),Ek(e,o))}function W(e,o,s){if(e.tag===3)Yk(e,e,s);else for(;o!==null;){if(o.tag===3){Yk(o,e,s);break}else if(o.tag===1){var a=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Si===null||!Si.has(a))){e=Ki(s,e),e=Ri(o,e,1),o=dh(o,e,1),e=L(),o!==null&&(Ac(o,1,e),Ek(o,e));break}}o=o.return}}function Ui(e,o,s){var a=e.pingCache;a!==null&&a.delete(o),o=L(),e.pingedLanes|=e.suspendedLanes&s,R===e&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(e,0):sk|=s),Ek(e,o)}function Zk(e,o){o===0&&(e.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var s=L();e=Zg(e,o),e!==null&&(Ac(e,o,s),Ek(e,s))}function vj(e){var o=e.memoizedState,s=0;o!==null&&(s=o.retryLane),Zk(e,s)}function ck(e,o){var s=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(p(314))}a!==null&&a.delete(o),Zk(e,s)}var Wk;Wk=function(e,o,s){if(e!==null)if(e.memoizedProps!==o.pendingProps||Wf.current)Ug=!0;else{if(!(e.lanes&s)&&!(o.flags&128))return Ug=!1,zj(e,o,s);Ug=!!(e.flags&131072)}else Ug=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var a=o.type;jj(e,o),e=o.pendingProps;var c=Yf(o,H.current);Tg(o,s),c=Xh(null,o,a,e,c,s);var h=bi();return o.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(a)?(h=!0,cg(o)):h=!1,o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,ah(o),c.updater=nh,o.stateNode=c,c._reactInternals=o,rh(o,a,e,s),o=kj(null,o,a,!0,h,s)):(o.tag=0,I&&h&&vg(o),Yi(null,o,c,s),o=o.child),o;case 16:a=o.elementType;e:{switch(jj(e,o),e=o.pendingProps,c=a._init,a=c(a._payload),o.type=a,c=o.tag=$k(a),e=Lg(a,e),c){case 0:o=dj(null,o,a,e,s);break e;case 1:o=ij(null,o,a,e,s);break e;case 11:o=Zi(null,o,a,e,s);break e;case 14:o=aj(null,o,a,Lg(a.type,e),s);break e}throw Error(p(306,a,""))}return o;case 0:return a=o.type,c=o.pendingProps,c=o.elementType===a?c:Lg(a,c),dj(e,o,a,c,s);case 1:return a=o.type,c=o.pendingProps,c=o.elementType===a?c:Lg(a,c),ij(e,o,a,c,s);case 3:e:{if(lj(o),e===null)throw Error(p(387));a=o.pendingProps,h=o.memoizedState,c=h.element,bh(e,o),gh(o,a,null,s);var d=o.memoizedState;if(a=d.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},o.updateQueue.baseState=h,o.memoizedState=h,o.flags&256){c=Ki(Error(p(423)),o),o=mj(e,o,a,s,c);break e}else if(a!==c){c=Ki(Error(p(424)),o),o=mj(e,o,a,s,c);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,s=Ch(o,null,a,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),a===c){o=$i(e,o,s);break e}Yi(e,o,a,s)}o=o.child}return o;case 5:return Kh(o),e===null&&Eg(o),a=o.type,c=o.pendingProps,h=e!==null?e.memoizedProps:null,d=c.children,Ef(a,c)?d=null:h!==null&&Ef(a,h)&&(o.flags|=32),hj(e,o),Yi(e,o,d,s),o.child;case 6:return e===null&&Eg(o),null;case 13:return pj(e,o,s);case 4:return Ih(o,o.stateNode.containerInfo),a=o.pendingProps,e===null?o.child=Bh(o,null,a,s):Yi(e,o,a,s),o.child;case 11:return a=o.type,c=o.pendingProps,c=o.elementType===a?c:Lg(a,c),Zi(e,o,a,c,s);case 7:return Yi(e,o,o.pendingProps,s),o.child;case 8:return Yi(e,o,o.pendingProps.children,s),o.child;case 12:return Yi(e,o,o.pendingProps.children,s),o.child;case 10:e:{if(a=o.type._context,c=o.pendingProps,h=o.memoizedProps,d=c.value,G(Mg,a._currentValue),a._currentValue=d,h!==null)if(He(h.value,d)){if(h.children===c.children&&!Wf.current){o=$i(e,o,s);break e}}else for(h=o.child,h!==null&&(h.return=o);h!==null;){var _=h.dependencies;if(_!==null){d=h.child;for(var b=_.firstContext;b!==null;){if(b.context===a){if(h.tag===1){b=ch(-1,s&-s),b.tag=2;var $=h.updateQueue;if($!==null){$=$.shared;var rt=$.pending;rt===null?b.next=b:(b.next=rt.next,rt.next=b),$.pending=b}}h.lanes|=s,b=h.alternate,b!==null&&(b.lanes|=s),Sg(h.return,s,o),_.lanes|=s;break}b=b.next}}else if(h.tag===10)d=h.type===o.type?null:h.child;else if(h.tag===18){if(d=h.return,d===null)throw Error(p(341));d.lanes|=s,_=d.alternate,_!==null&&(_.lanes|=s),Sg(d,s,o),d=h.sibling}else d=h.child;if(d!==null)d.return=h;else for(d=h;d!==null;){if(d===o){d=null;break}if(h=d.sibling,h!==null){h.return=d.return,d=h;break}d=d.return}h=d}Yi(e,o,c.children,s),o=o.child}return o;case 9:return c=o.type,a=o.pendingProps.children,Tg(o,s),c=Vg(c),a=a(c),o.flags|=1,Yi(e,o,a,s),o.child;case 14:return a=o.type,c=Lg(a,o.pendingProps),c=Lg(a.type,c),aj(e,o,a,c,s);case 15:return cj(e,o,o.type,o.pendingProps,s);case 17:return a=o.type,c=o.pendingProps,c=o.elementType===a?c:Lg(a,c),jj(e,o),o.tag=1,Zf(a)?(e=!0,cg(o)):e=!1,Tg(o,s),ph(o,a,c),rh(o,a,c,s),kj(null,o,a,!0,e,s);case 19:return yj(e,o,s);case 22:return ej(e,o,s)}throw Error(p(156,o.tag))};function Gk(e,o){return ac(e,o)}function al(e,o,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,o,s,a){return new al(e,o,s,a)}function bj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $k(e){if(typeof e=="function")return bj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function wh(e,o){var s=e.alternate;return s===null?(s=Bg(e.tag,o,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=o,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,o=e.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function yh(e,o,s,a,c,h){var d=2;if(a=e,typeof e=="function")bj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Ah(s.children,c,h,o);case za:d=8,c|=8;break;case Aa:return e=Bg(12,s,o,c|2),e.elementType=Aa,e.lanes=h,e;case Ea:return e=Bg(13,s,o,c),e.elementType=Ea,e.lanes=h,e;case Fa:return e=Bg(19,s,o,c),e.elementType=Fa,e.lanes=h,e;case Ia:return qj(s,c,h,o);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,a=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return o=Bg(d,s,o,c),o.elementType=e,o.type=a,o.lanes=h,o}function Ah(e,o,s,a){return e=Bg(7,e,a,o),e.lanes=s,e}function qj(e,o,s,a){return e=Bg(22,e,a,o),e.elementType=Ia,e.lanes=s,e.stateNode={isHidden:!1},e}function xh(e,o,s){return e=Bg(6,e,null,o),e.lanes=s,e}function zh(e,o,s){return o=Bg(4,e.children!==null?e.children:[],e.key,o),o.lanes=s,o.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},o}function bl(e,o,s,a,c){this.tag=o,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function cl(e,o,s,a,c,h,d,_,b){return e=new bl(e,o,s,_,b),o===1?(o=1,h===!0&&(o|=8)):o=0,h=Bg(3,null,null,o),e.current=h,h.stateNode=e,h.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(h),e}function dl(e,o,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:e,containerInfo:o,implementation:s}}function el(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var o=e;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p(171))}if(e.tag===1){var s=e.type;if(Zf(s))return bg(e,s,o)}return o}function fl(e,o,s,a,c,h,d,_,b){return e=cl(s,a,!0,e,c,h,d,_,b),e.context=el(null),s=e.current,a=L(),c=lh(s),h=ch(a,c),h.callback=o??null,dh(s,h,c),e.current.lanes=c,Ac(e,c,a),Ek(e,a),e}function gl(e,o,s,a){var c=o.current,h=L(),d=lh(c);return s=el(s),o.context===null?o.context=s:o.pendingContext=s,o=ch(h,d),o.payload={element:e},a=a===void 0?null:a,a!==null&&(o.callback=a),e=dh(c,o,d),e!==null&&(mh(e,c,d,h),eh(e,c,d)),d}function hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function il(e,o){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<o?s:o}}function jl(e,o){il(e,o),(e=e.alternate)&&il(e,o)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(e){console.error(e)};function ml(e){this._internalRoot=e}nl.prototype.render=ml.prototype.render=function(e){var o=this._internalRoot;if(o===null)throw Error(p(409));gl(e,o,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var o=e.containerInfo;Sk(function(){gl(null,e,null,null)}),o[uf]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var o=Hc();e={blockedOn:null,target:e,priority:o};for(var s=0;s<Qc.length&&o!==0&&o<Qc[s].priority;s++);Qc.splice(s,0,e),s===0&&Vc(e)}};function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(e,o,s,a,c){if(c){if(typeof a=="function"){var h=a;a=function(){var $=hl(d);h.call($)}}var d=fl(o,a,e,0,null,!1,!1,"",ql);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Sk(),d}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var _=a;a=function(){var $=hl(b);_.call($)}}var b=cl(e,0,!1,null,null,!1,!1,"",ql);return e._reactRootContainer=b,e[uf]=b.current,sf(e.nodeType===8?e.parentNode:e),Sk(function(){gl(o,b,s,a)}),b}function sl(e,o,s,a,c){var h=s._reactRootContainer;if(h){var d=h;if(typeof c=="function"){var _=c;c=function(){var b=hl(d);_.call(b)}}gl(o,d,e,c)}else d=rl(s,o,e,c,a);return hl(d)}Ec=function(e){switch(e.tag){case 3:var o=e.stateNode;if(o.current.memoizedState.isDehydrated){var s=tc(o.pendingLanes);s!==0&&(Cc(o,s|1),Ek(o,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var a=Zg(e,1);if(a!==null){var c=L();mh(a,e,1,c)}}),jl(e,1)}};Fc=function(e){if(e.tag===13){var o=Zg(e,134217728);if(o!==null){var s=L();mh(o,e,134217728,s)}jl(e,134217728)}};Gc=function(e){if(e.tag===13){var o=lh(e),s=Zg(e,o);if(s!==null){var a=L();mh(s,e,o,a)}jl(e,o)}};Hc=function(){return C};Ic=function(e,o){var s=C;try{return C=e,o()}finally{C=s}};yb=function(e,o,s){switch(o){case"input":if(bb(e,s),o=s.name,s.type==="radio"&&o!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<s.length;o++){var a=s[o];if(a!==e&&a.form===e.form){var c=Db(a);if(!c)throw Error(p(90));Wa(a),bb(a,c)}}}break;case"textarea":ib(e,s);break;case"select":o=s.value,o!=null&&fb(e,!!s.multiple,o,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(e,o){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(o))throw Error(p(200));return dl(e,o,null,s)};reactDom_production_min.createRoot=function(e,o){if(!ol(e))throw Error(p(299));var s=!1,a="",c=ll;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(a=o.identifierPrefix),o.onRecoverableError!==void 0&&(c=o.onRecoverableError)),o=cl(e,1,!1,null,null,s,!1,a,c),e[uf]=o.current,sf(e.nodeType===8?e.parentNode:e),new ml(o)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var o=e._reactInternals;if(o===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(o),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Sk(e)};reactDom_production_min.hydrate=function(e,o,s){if(!pl(o))throw Error(p(200));return sl(null,e,o,!0,s)};reactDom_production_min.hydrateRoot=function(e,o,s){if(!ol(e))throw Error(p(405));var a=s!=null&&s.hydratedSources||null,c=!1,h="",d=ll;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),o=fl(o,null,e,1,s??null,c,!1,h,d),e[uf]=o.current,sf(e),a)for(e=0;e<a.length;e++)s=a[e],c=s._getVersion,c=c(s._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[s,c]:o.mutableSourceEagerHydrationData.push(s,c);return new nl(o)};reactDom_production_min.render=function(e,o,s){if(!pl(o))throw Error(p(200));return sl(null,e,o,!1,s)};reactDom_production_min.unmountComponentAtNode=function(e){if(!pl(e))throw Error(p(40));return e._reactRootContainer?(Sk(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,o,s,a){if(!pl(s))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return sl(e,o,s,!1,a)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client$1.createRoot=m.createRoot,client$1.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends$2.apply(this,arguments)}var Action;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(e){e===void 0&&(e={});function o(a,c){let{pathname:h,search:d,hash:_}=a.location;return createLocation("",{pathname:h,search:d,hash:_},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(a,c){return typeof c=="string"?c:createPath(c)}return getUrlBasedHistory(o,s,null,e)}function invariant(e,o){if(e===!1||e===null||typeof e>"u")throw new Error(o)}function warning(e,o){if(!e){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,o){return{usr:e.state,key:e.key,idx:o}}function createLocation(e,o,s,a){return s===void 0&&(s=null),_extends$2({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof o=="string"?parsePath(o):o,{state:s,key:o&&o.key||a||createKey()})}function createPath(e){let{pathname:o="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(o+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(o+=a.charAt(0)==="#"?a:"#"+a),o}function parsePath(e){let o={};if(e){let s=e.indexOf("#");s>=0&&(o.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(o.search=e.substr(a),e=e.substr(0,a)),e&&(o.pathname=e)}return o}function getUrlBasedHistory(e,o,s,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:h=!1}=a,d=c.history,_=Action.Pop,b=null,$=rt();$==null&&($=0,d.replaceState(_extends$2({},d.state,{idx:$}),""));function rt(){return(d.state||{idx:null}).idx}function nt(){_=Action.Pop;let ht=rt(),ot=ht==null?null:ht-$;$=ht,b&&b({action:_,location:Et.location,delta:ot})}function lt(ht,ot){_=Action.Push;let ct=createLocation(Et.location,ht,ot);s&&s(ct,ht),$=rt()+1;let it=getHistoryState(ct,$),at=Et.createHref(ct);try{d.pushState(it,"",at)}catch(yt){if(yt instanceof DOMException&&yt.name==="DataCloneError")throw yt;c.location.assign(at)}h&&b&&b({action:_,location:Et.location,delta:1})}function dt(ht,ot){_=Action.Replace;let ct=createLocation(Et.location,ht,ot);s&&s(ct,ht),$=rt();let it=getHistoryState(ct,$),at=Et.createHref(ct);d.replaceState(it,"",at),h&&b&&b({action:_,location:Et.location,delta:0})}function gt(ht){let ot=c.location.origin!=="null"?c.location.origin:c.location.href,ct=typeof ht=="string"?ht:createPath(ht);return invariant(ot,"No window.location.(origin|href) available to create URL for href: "+ct),new URL(ct,ot)}let Et={get action(){return _},get location(){return e(c,d)},listen(ht){if(b)throw new Error("A history only accepts one active listener");return c.addEventListener(PopStateEventType,nt),b=ht,()=>{c.removeEventListener(PopStateEventType,nt),b=null}},createHref(ht){return o(c,ht)},createURL:gt,encodeLocation(ht){let ot=gt(ht);return{pathname:ot.pathname,search:ot.search,hash:ot.hash}},push:lt,replace:dt,go(ht){return d.go(ht)}};return Et}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));function matchRoutes(e,o,s){s===void 0&&(s="/");let a=typeof o=="string"?parsePath(o):o,c=stripBasename(a.pathname||"/",s);if(c==null)return null;let h=flattenRoutes(e);rankRouteBranches(h);let d=null;for(let _=0;d==null&&_<h.length;++_)d=matchRouteBranch(h[_],safelyDecodeURI(c));return d}function flattenRoutes(e,o,s,a){o===void 0&&(o=[]),s===void 0&&(s=[]),a===void 0&&(a="");let c=(h,d,_)=>{let b={relativePath:_===void 0?h.path||"":_,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};b.relativePath.startsWith("/")&&(invariant(b.relativePath.startsWith(a),'Absolute route path "'+b.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),b.relativePath=b.relativePath.slice(a.length));let $=joinPaths([a,b.relativePath]),rt=s.concat(b);h.children&&h.children.length>0&&(invariant(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+$+'".')),flattenRoutes(h.children,o,rt,$)),!(h.path==null&&!h.index)&&o.push({path:$,score:computeScore($,h.index),routesMeta:rt})};return e.forEach((h,d)=>{var _;if(h.path===""||!((_=h.path)!=null&&_.includes("?")))c(h,d);else for(let b of explodeOptionalSegments(h.path))c(h,d,b)}),o}function explodeOptionalSegments(e){let o=e.split("/");if(o.length===0)return[];let[s,...a]=o,c=s.endsWith("?"),h=s.replace(/\?$/,"");if(a.length===0)return c?[h,""]:[h];let d=explodeOptionalSegments(a.join("/")),_=[];return _.push(...d.map(b=>b===""?h:[h,b].join("/"))),c&&_.push(...d),_.map(b=>e.startsWith("/")&&b===""?"/":b)}function rankRouteBranches(e){e.sort((o,s)=>o.score!==s.score?s.score-o.score:compareIndexes(o.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,o){let s=e.split("/"),a=s.length;return s.some(isSplat)&&(a+=splatPenalty),o&&(a+=indexRouteValue),s.filter(c=>!isSplat(c)).reduce((c,h)=>c+(paramRe.test(h)?dynamicSegmentValue:h===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(e,o){return e.length===o.length&&e.slice(0,-1).every((a,c)=>a===o[c])?e[e.length-1]-o[o.length-1]:0}function matchRouteBranch(e,o){let{routesMeta:s}=e,a={},c="/",h=[];for(let d=0;d<s.length;++d){let _=s[d],b=d===s.length-1,$=c==="/"?o:o.slice(c.length)||"/",rt=matchPath({path:_.relativePath,caseSensitive:_.caseSensitive,end:b},$);if(!rt)return null;Object.assign(a,rt.params);let nt=_.route;h.push({params:a,pathname:joinPaths([c,rt.pathname]),pathnameBase:normalizePathname(joinPaths([c,rt.pathnameBase])),route:nt}),rt.pathnameBase!=="/"&&(c=joinPaths([c,rt.pathnameBase]))}return h}function matchPath(e,o){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=compilePath(e.path,e.caseSensitive,e.end),c=o.match(s);if(!c)return null;let h=c[0],d=h.replace(/(.)\/+$/,"$1"),_=c.slice(1);return{params:a.reduce(($,rt,nt)=>{let{paramName:lt,isOptional:dt}=rt;if(lt==="*"){let Et=_[nt]||"";d=h.slice(0,h.length-Et.length).replace(/(.)\/+$/,"$1")}const gt=_[nt];return dt&&!gt?$[lt]=void 0:$[lt]=safelyDecodeURIComponent(gt||"",lt),$},{}),pathname:h,pathnameBase:d,pattern:e}}function compilePath(e,o,s){o===void 0&&(o=!1),s===void 0&&(s=!0),warning(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(d,_,b)=>(a.push({paramName:_,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,o?void 0:"i"),a]}function safelyDecodeURI(e){try{return decodeURI(e)}catch(o){return warning(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),e}}function safelyDecodeURIComponent(e,o){try{return decodeURIComponent(e)}catch(s){return warning(!1,'The value for the URL param "'+o+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+s+").")),e}}function stripBasename(e,o){if(o==="/")return e;if(!e.toLowerCase().startsWith(o.toLowerCase()))return null;let s=o.endsWith("/")?o.length-1:o.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function resolvePath(e,o){o===void 0&&(o="/");let{pathname:s,search:a="",hash:c=""}=typeof e=="string"?parsePath(e):e;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,o):o,search:normalizeSearch(a),hash:normalizeHash(c)}}function resolvePathname(e,o){let s=o.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(e,o,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(e){return e.filter((o,s)=>s===0||o.route.path&&o.route.path.length>0)}function getResolveToMatches(e,o){let s=getPathContributingMatches(e);return o?s.map((a,c)=>c===e.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function resolveTo(e,o,s,a){a===void 0&&(a=!1);let c;typeof e=="string"?c=parsePath(e):(c=_extends$2({},e),invariant(!c.pathname||!c.pathname.includes("?"),getInvalidPathError("?","pathname","search",c)),invariant(!c.pathname||!c.pathname.includes("#"),getInvalidPathError("#","pathname","hash",c)),invariant(!c.search||!c.search.includes("#"),getInvalidPathError("#","search","hash",c)));let h=e===""||c.pathname==="",d=h?"/":c.pathname,_;if(d==null)_=s;else{let nt=o.length-1;if(!a&&d.startsWith("..")){let lt=d.split("/");for(;lt[0]==="..";)lt.shift(),nt-=1;c.pathname=lt.join("/")}_=nt>=0?o[nt]:"/"}let b=resolvePath(c,_),$=d&&d!=="/"&&d.endsWith("/"),rt=(h||d===".")&&s.endsWith("/");return!b.pathname.endsWith("/")&&($||rt)&&(b.pathname+="/"),b}const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(e,o){let{relative:s}=o===void 0?{}:o;useInRouterContext()||invariant(!1);let{basename:a,navigator:c}=reactExports.useContext(NavigationContext),{hash:h,pathname:d,search:_}=useResolvedPath(e,{relative:s}),b=d;return a!=="/"&&(b=d==="/"?a:joinPaths([a,d])),c.createHref({pathname:b,search:_,hash:h})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let e=reactExports.useContext(DataRouterContext),{basename:o,future:s,navigator:a}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),{pathname:h}=useLocation(),d=JSON.stringify(getResolveToMatches(c,s.v7_relativeSplatPath)),_=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{_.current=!0}),reactExports.useCallback(function($,rt){if(rt===void 0&&(rt={}),!_.current)return;if(typeof $=="number"){a.go($);return}let nt=resolveTo($,JSON.parse(d),h,rt.relative==="path");e==null&&o!=="/"&&(nt.pathname=nt.pathname==="/"?o:joinPaths([o,nt.pathname])),(rt.replace?a.replace:a.push)(nt,rt.state,rt)},[o,a,d,h,e])}function useParams(){let{matches:e}=reactExports.useContext(RouteContext),o=e[e.length-1];return o?o.params:{}}function useResolvedPath(e,o){let{relative:s}=o===void 0?{}:o,{future:a}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),{pathname:h}=useLocation(),d=JSON.stringify(getResolveToMatches(c,a.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(d),h,s==="path"),[e,d,h,s])}function useRoutes(e,o){return useRoutesImpl(e,o)}function useRoutesImpl(e,o,s,a){useInRouterContext()||invariant(!1);let{navigator:c}=reactExports.useContext(NavigationContext),{matches:h}=reactExports.useContext(RouteContext),d=h[h.length-1],_=d?d.params:{};d&&d.pathname;let b=d?d.pathnameBase:"/";d&&d.route;let $=useLocation(),rt;if(o){var nt;let ht=typeof o=="string"?parsePath(o):o;b==="/"||(nt=ht.pathname)!=null&&nt.startsWith(b)||invariant(!1),rt=ht}else rt=$;let lt=rt.pathname||"/",dt=b==="/"?lt:lt.slice(b.length)||"/",gt=matchRoutes(e,{pathname:dt}),Et=_renderMatches(gt&&gt.map(ht=>Object.assign({},ht,{params:Object.assign({},_,ht.params),pathname:joinPaths([b,c.encodeLocation?c.encodeLocation(ht.pathname).pathname:ht.pathname]),pathnameBase:ht.pathnameBase==="/"?b:joinPaths([b,c.encodeLocation?c.encodeLocation(ht.pathnameBase).pathname:ht.pathnameBase])})),h,s,a);return o&&Et?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},rt),navigationType:Action.Pop}},Et):Et}function DefaultErrorComponent(){let e=useRouteError(),o=isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},h=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},o),s?reactExports.createElement("pre",{style:c},s):null,h)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,s){return s.location!==o.location||s.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:s.error,location:s.location,revalidation:o.revalidation||s.revalidation}}componentDidCatch(o,s){console.error("React Router caught the following error during render",o,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(e){let{routeContext:o,match:s,children:a}=e,c=reactExports.useContext(DataRouterContext);return c&&c.static&&c.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:o},a)}function _renderMatches(e,o,s,a){var c;if(o===void 0&&(o=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var h;if((h=s)!=null&&h.errors)e=s.matches;else return null}let d=e,_=(c=s)==null?void 0:c.errors;if(_!=null){let rt=d.findIndex(nt=>nt.route.id&&(_==null?void 0:_[nt.route.id]));rt>=0||invariant(!1),d=d.slice(0,Math.min(d.length,rt+1))}let b=!1,$=-1;if(s&&a&&a.v7_partialHydration)for(let rt=0;rt<d.length;rt++){let nt=d[rt];if((nt.route.HydrateFallback||nt.route.hydrateFallbackElement)&&($=rt),nt.route.id){let{loaderData:lt,errors:dt}=s,gt=nt.route.loader&&lt[nt.route.id]===void 0&&(!dt||dt[nt.route.id]===void 0);if(nt.route.lazy||gt){b=!0,$>=0?d=d.slice(0,$+1):d=[d[0]];break}}}return d.reduceRight((rt,nt,lt)=>{let dt,gt=!1,Et=null,ht=null;s&&(dt=_&&nt.route.id?_[nt.route.id]:void 0,Et=nt.route.errorElement||defaultErrorElement,b&&($<0&&lt===0?(warningOnce("route-fallback",!1),gt=!0,ht=null):$===lt&&(gt=!0,ht=nt.route.hydrateFallbackElement||null)));let ot=o.concat(d.slice(0,lt+1)),ct=()=>{let it;return dt?it=Et:gt?it=ht:nt.route.Component?it=reactExports.createElement(nt.route.Component,null):nt.route.element?it=nt.route.element:it=rt,reactExports.createElement(RenderedRoute,{match:nt,routeContext:{outlet:rt,matches:ot,isDataRoute:s!=null},children:it})};return s&&(nt.route.ErrorBoundary||nt.route.errorElement||lt===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:Et,error:dt,children:ct(),routeContext:{outlet:null,matches:ot,isDataRoute:!0}}):ct()},null)}var DataRouterHook$1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DataRouterStateHook$1||{});function useDataRouterContext(e){let o=reactExports.useContext(DataRouterContext);return o||invariant(!1),o}function useDataRouterState(e){let o=reactExports.useContext(DataRouterStateContext);return o||invariant(!1),o}function useRouteContext(e){let o=reactExports.useContext(RouteContext);return o||invariant(!1),o}function useCurrentRouteId(e){let o=useRouteContext(),s=o.matches[o.matches.length-1];return s.route.id||invariant(!1),s.route.id}function useRouteError(){var e;let o=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),a=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return o!==void 0?o:(e=s.errors)==null?void 0:e[a]}function useNavigateStable(){let{router:e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),o=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{s.current=!0}),reactExports.useCallback(function(c,h){h===void 0&&(h={}),s.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,_extends$1({fromRouteId:o},h)))},[e,o])}const alreadyWarned={};function warningOnce(e,o,s){!o&&!alreadyWarned[e]&&(alreadyWarned[e]=!0)}function Route(e){invariant(!1)}function Router(e){let{basename:o="/",children:s=null,location:a,navigationType:c=Action.Pop,navigator:h,static:d=!1,future:_}=e;useInRouterContext()&&invariant(!1);let b=o.replace(/^\/*/,"/"),$=reactExports.useMemo(()=>({basename:b,navigator:h,static:d,future:_extends$1({v7_relativeSplatPath:!1},_)}),[b,_,h,d]);typeof a=="string"&&(a=parsePath(a));let{pathname:rt="/",search:nt="",hash:lt="",state:dt=null,key:gt="default"}=a,Et=reactExports.useMemo(()=>{let ht=stripBasename(rt,b);return ht==null?null:{location:{pathname:ht,search:nt,hash:lt,state:dt,key:gt},navigationType:c}},[b,rt,nt,lt,dt,gt,c]);return Et==null?null:reactExports.createElement(NavigationContext.Provider,{value:$},reactExports.createElement(LocationContext.Provider,{children:s,value:Et}))}function Routes(e){let{children:o,location:s}=e;return useRoutes(createRoutesFromChildren(o),s)}new Promise(()=>{});function createRoutesFromChildren(e,o){o===void 0&&(o=[]);let s=[];return reactExports.Children.forEach(e,(a,c)=>{if(!reactExports.isValidElement(a))return;let h=[...o,c];if(a.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(a.props.children,h));return}a.type!==Route&&invariant(!1),!a.props.index||!a.props.children||invariant(!1);let d={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=createRoutesFromChildren(a.props.children,h)),s.push(d)}),s}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,o){if(e==null)return{};var s={},a=Object.keys(e),c,h;for(h=0;h<a.length;h++)c=a[h],!(o.indexOf(c)>=0)&&(s[c]=e[c]);return s}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,o){return e.button===0&&(!o||o==="_self")&&!isModifiedEvent(e)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(e){let{basename:o,children:s,future:a,window:c}=e,h=reactExports.useRef();h.current==null&&(h.current=createBrowserHistory({window:c,v5Compat:!0}));let d=h.current,[_,b]=reactExports.useState({action:d.action,location:d.location}),{v7_startTransition:$}=a||{},rt=reactExports.useCallback(nt=>{$&&startTransitionImpl?startTransitionImpl(()=>b(nt)):b(nt)},[b,$]);return reactExports.useLayoutEffect(()=>d.listen(rt),[d,rt]),reactExports.createElement(Router,{basename:o,children:s,location:_.location,navigationType:_.action,navigator:d,future:a})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(o,s){let{onClick:a,relative:c,reloadDocument:h,replace:d,state:_,target:b,to:$,preventScrollReset:rt,unstable_viewTransition:nt}=o,lt=_objectWithoutPropertiesLoose(o,_excluded),{basename:dt}=reactExports.useContext(NavigationContext),gt,Et=!1;if(typeof $=="string"&&ABSOLUTE_URL_REGEX.test($)&&(gt=$,isBrowser))try{let it=new URL(window.location.href),at=$.startsWith("//")?new URL(it.protocol+$):new URL($),yt=stripBasename(at.pathname,dt);at.origin===it.origin&&yt!=null?$=yt+at.search+at.hash:Et=!0}catch{}let ht=useHref($,{relative:c}),ot=useLinkClickHandler($,{replace:d,state:_,target:b,preventScrollReset:rt,relative:c,unstable_viewTransition:nt});function ct(it){a&&a(it),it.defaultPrevented||ot(it)}return reactExports.createElement("a",_extends({},lt,{href:gt||ht,onClick:Et||h?a:ct,ref:s,target:b}))});var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(e,o){let{target:s,replace:a,state:c,preventScrollReset:h,relative:d,unstable_viewTransition:_}=o===void 0?{}:o,b=useNavigate(),$=useLocation(),rt=useResolvedPath(e,{relative:d});return reactExports.useCallback(nt=>{if(shouldProcessLinkClick(nt,s)){nt.preventDefault();let lt=a!==void 0?a:createPath($)===createPath(rt);b(e,{replace:lt,state:c,preventScrollReset:h,relative:d,unstable_viewTransition:_})}},[$,b,rt,a,c,s,e,h,d,_])}const slideshow="",listImg="/general-images/slideshow/list_painting.jpeg",jazzImg="/general-images/slideshow/swing_dance.jpg",orchestraImg="/general-images/slideshow/orchestra.jpeg",slidesData=[{image:listImg,caption:"7 Dec: Visual Art Bingo Night at List",link:"https://events.brown.edu/event/276122-va-bingo-night"},{image:jazzImg,caption:'8 Dec: "All That Jazz" Ball at Sayles',link:"https://events.brown.edu/event/276062-all-that-jazz-ball"},{image:orchestraImg,caption:"9 Dec: Orchestra Concert at Lindemann",link:"https://events.brown.edu/event/272867-brown-university-orchestra-concert"}],Slideshow=()=>{const[e,o]=reactExports.useState(0);return reactExports.useEffect(()=>{const s=setTimeout(()=>{o(a=>a===slidesData.length-1?0:a+1)},3e3);return()=>clearTimeout(s)},[e]),jsx("div",{className:"slideshow-container",children:slidesData.map((s,a)=>jsx("div",{className:"mySlides fade",style:{display:a===e?"block":"none"},children:jsxs(Link,{to:s.link,target:"_blank",rel:"noopener noreferrer",children:[jsx("img",{src:s.image,style:{width:"100%"}}),jsx("div",{className:"text",children:s.caption})]})},a))})},about="";function HomePage(){return jsxs("div",{children:[jsx("div",{children:jsx(Slideshow,{})}),jsxs("section",{className:"forms-section",style:{paddingBottom:"2rem"},children:[jsx("h2",{children:"Forms"}),jsxs("div",{className:"forms-list",children:[jsx("div",{className:"form",children:jsx("p",{children:jsxs("span",{children:["New Here?"," ",jsx(Link,{to:"https://forms.gle/ivRhU23p5k1VZt8eA",target:"_blank",rel:"noopener noreferrer",children:"Create a Seller Account!"})]})})}),jsx("div",{className:"form",children:jsx("p",{children:jsxs("span",{children:[jsx(Link,{to:"https://forms.gle/nAkEzaGxkzrqdRfq8",target:"_blank",rel:"noopener noreferrer",children:"Add New Listing"})," ","/"," ",jsx(Link,{to:"https://forms.gle/Lh1svA7T9rWGsP8H7",target:"_blank",rel:"noopener noreferrer",children:"Update Listing"})]})})}),jsx("div",{className:"form",children:jsx("p",{children:jsxs("span",{children:["Sold an Item?"," ",jsx(Link,{to:"https://forms.gle/GLzzYC6okWjEZVJv5",target:"_blank",rel:"noopener noreferrer",children:"Mark as Sold!"})]})})})]})]})]})}const pranaviImage="/general-images/about-us/pranavi.jpg",dorindaImage="/general-images/about-us/dorinda.jpg",jeffreyImage="/general-images/about-us/jeffrey.jpg",marissaImage="/general-images/about-us/marissa.jpg";function AboutPage(){return jsx("div",{children:jsxs("main",{className:"about-page-container",children:[jsxs("section",{className:"about-us",children:[jsx("h1",{children:"Why we're here"}),jsx("p",{children:"Artist's Corner PVD is more than just a marketplace; it's a vibrant, year-round hub for Brown and RISD's creative talent. Born from the desire to extend the spirit of campus art fairs and maker markets, we offer a platform where student creators and art enthusiasts connect beyond the constraints of physical events."}),jsx("p",{children:"Custom-built for our university communities, Artists' Corner is a place where student artists and art lovers can explore and engage in a streamlined, safe environment. With our exclusive focus on Brown and RISD we hope to ensure a unique, intimate experience and foster a strong sense of community."}),jsxs("p",{children:["This website is currently maintained by Pranavi. If you have any questions or feedback, please email "," ",jsx("a",{href:"mailto:artistscorverpvd@brown.edu",children:"artistscorverpvd@brown.edu"}),"!"]})]}),jsxs("section",{className:"team",children:[jsx("h2",{children:"Meet Our Team"}),jsxs("div",{className:"team-members",children:[jsxs("div",{className:"team-member",children:[jsx("img",{src:pranaviImage,alt:"Pranavi Lakshminarayanan"}),jsx("p",{children:"Pranavi Lakshminarayanan"})]}),jsxs("div",{className:"team-member",children:[jsx("img",{src:dorindaImage,alt:"Dorinda Kyeremateng"}),jsx("p",{children:"Dorinda Kyeremateng"})]}),jsxs("div",{className:"team-member",children:[jsx("img",{src:jeffreyImage,alt:"Jeffrey Tao"}),jsx("p",{children:"Jeffrey Tao"})]}),jsxs("div",{className:"team-member",children:[jsx("img",{src:marissaImage,alt:"Marissa Tam"}),jsx("p",{children:"Marissa Tam"})]})]})]})]})})}var dist={},bufferPolyfill={},base64Js={};base64Js.byteLength=byteLength;var toByteArray_1=base64Js.toByteArray=toByteArray,fromByteArray_1=base64Js.fromByteArray=fromByteArray,lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len=code$2.length;i$2<len;++i$2)lookup[i$2]=code$2[i$2],revLookup[code$2.charCodeAt(i$2)]=i$2;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(e){var o=e.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=e.indexOf("=");s===-1&&(s=o);var a=s===o?0:4-s%4;return[s,a]}function byteLength(e){var o=getLens(e),s=o[0],a=o[1];return(s+a)*3/4-a}function _byteLength(e,o,s){return(o+s)*3/4-s}function toByteArray(e){var o,s=getLens(e),a=s[0],c=s[1],h=new Arr(_byteLength(e,a,c)),d=0,_=c>0?a-4:a,b;for(b=0;b<_;b+=4)o=revLookup[e.charCodeAt(b)]<<18|revLookup[e.charCodeAt(b+1)]<<12|revLookup[e.charCodeAt(b+2)]<<6|revLookup[e.charCodeAt(b+3)],h[d++]=o>>16&255,h[d++]=o>>8&255,h[d++]=o&255;return c===2&&(o=revLookup[e.charCodeAt(b)]<<2|revLookup[e.charCodeAt(b+1)]>>4,h[d++]=o&255),c===1&&(o=revLookup[e.charCodeAt(b)]<<10|revLookup[e.charCodeAt(b+1)]<<4|revLookup[e.charCodeAt(b+2)]>>2,h[d++]=o>>8&255,h[d++]=o&255),h}function tripletToBase64(e){return lookup[e>>18&63]+lookup[e>>12&63]+lookup[e>>6&63]+lookup[e&63]}function encodeChunk(e,o,s){for(var a,c=[],h=o;h<s;h+=3)a=(e[h]<<16&16711680)+(e[h+1]<<8&65280)+(e[h+2]&255),c.push(tripletToBase64(a));return c.join("")}function fromByteArray(e){for(var o,s=e.length,a=s%3,c=[],h=16383,d=0,_=s-a;d<_;d+=h)c.push(encodeChunk(e,d,d+h>_?_:d+h));return a===1?(o=e[s-1],c.push(lookup[o>>2]+lookup[o<<4&63]+"==")):a===2&&(o=(e[s-2]<<8)+e[s-1],c.push(lookup[o>>10]+lookup[o>>4&63]+lookup[o<<2&63]+"=")),c.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(e,o,s,a,c){var h,d,_=c*8-a-1,b=(1<<_)-1,$=b>>1,rt=-7,nt=s?c-1:0,lt=s?-1:1,dt=e[o+nt];for(nt+=lt,h=dt&(1<<-rt)-1,dt>>=-rt,rt+=_;rt>0;h=h*256+e[o+nt],nt+=lt,rt-=8);for(d=h&(1<<-rt)-1,h>>=-rt,rt+=a;rt>0;d=d*256+e[o+nt],nt+=lt,rt-=8);if(h===0)h=1-$;else{if(h===b)return d?NaN:(dt?-1:1)*(1/0);d=d+Math.pow(2,a),h=h-$}return(dt?-1:1)*d*Math.pow(2,h-a)};ieee754.write=function(e,o,s,a,c,h){var d,_,b,$=h*8-c-1,rt=(1<<$)-1,nt=rt>>1,lt=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,dt=a?0:h-1,gt=a?1:-1,Et=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(_=isNaN(o)?1:0,d=rt):(d=Math.floor(Math.log(o)/Math.LN2),o*(b=Math.pow(2,-d))<1&&(d--,b*=2),d+nt>=1?o+=lt/b:o+=lt*Math.pow(2,1-nt),o*b>=2&&(d++,b/=2),d+nt>=rt?(_=0,d=rt):d+nt>=1?(_=(o*b-1)*Math.pow(2,c),d=d+nt):(_=o*Math.pow(2,nt-1)*Math.pow(2,c),d=0));c>=8;e[s+dt]=_&255,dt+=gt,_/=256,c-=8);for(d=d<<c|_,$+=c;$>0;e[s+dt]=d&255,dt+=gt,d/=256,$-=8);e[s+dt-gt]|=Et*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const o=base64Js,s=ieee754,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=_,e.SlowBuffer=ct,e.INSPECT_MAX_BYTES=50;const c=2147483647;e.kMaxLength=c,_.TYPED_ARRAY_SUPPORT=h(),!_.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{const st=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(st,j),st.foo()===42}catch{return!1}}Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.buffer}}),Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.byteOffset}});function d(st){if(st>c)throw new RangeError('The value "'+st+'" is invalid for option "size"');const j=new Uint8Array(st);return Object.setPrototypeOf(j,_.prototype),j}function _(st,j,_e){if(typeof st=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return nt(st)}return b(st,j,_e)}_.poolSize=8192;function b(st,j,_e){if(typeof st=="string")return lt(st,j);if(ArrayBuffer.isView(st))return gt(st);if(st==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof st);if(Ot(st,ArrayBuffer)||st&&Ot(st.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ot(st,SharedArrayBuffer)||st&&Ot(st.buffer,SharedArrayBuffer)))return Et(st,j,_e);if(typeof st=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ft=st.valueOf&&st.valueOf();if(ft!=null&&ft!==st)return _.from(ft,j,_e);const mt=ht(st);if(mt)return mt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof st[Symbol.toPrimitive]=="function")return _.from(st[Symbol.toPrimitive]("string"),j,_e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof st)}_.from=function(st,j,_e){return b(st,j,_e)},Object.setPrototypeOf(_.prototype,Uint8Array.prototype),Object.setPrototypeOf(_,Uint8Array);function $(st){if(typeof st!="number")throw new TypeError('"size" argument must be of type number');if(st<0)throw new RangeError('The value "'+st+'" is invalid for option "size"')}function rt(st,j,_e){return $(st),st<=0?d(st):j!==void 0?typeof _e=="string"?d(st).fill(j,_e):d(st).fill(j):d(st)}_.alloc=function(st,j,_e){return rt(st,j,_e)};function nt(st){return $(st),d(st<0?0:ot(st)|0)}_.allocUnsafe=function(st){return nt(st)},_.allocUnsafeSlow=function(st){return nt(st)};function lt(st,j){if((typeof j!="string"||j==="")&&(j="utf8"),!_.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const _e=it(st,j)|0;let ft=d(_e);const mt=ft.write(st,j);return mt!==_e&&(ft=ft.slice(0,mt)),ft}function dt(st){const j=st.length<0?0:ot(st.length)|0,_e=d(j);for(let ft=0;ft<j;ft+=1)_e[ft]=st[ft]&255;return _e}function gt(st){if(Ot(st,Uint8Array)){const j=new Uint8Array(st);return Et(j.buffer,j.byteOffset,j.byteLength)}return dt(st)}function Et(st,j,_e){if(j<0||st.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(st.byteLength<j+(_e||0))throw new RangeError('"length" is outside of buffer bounds');let ft;return j===void 0&&_e===void 0?ft=new Uint8Array(st):_e===void 0?ft=new Uint8Array(st,j):ft=new Uint8Array(st,j,_e),Object.setPrototypeOf(ft,_.prototype),ft}function ht(st){if(_.isBuffer(st)){const j=ot(st.length)|0,_e=d(j);return _e.length===0||st.copy(_e,0,0,j),_e}if(st.length!==void 0)return typeof st.length!="number"||bt(st.length)?d(0):dt(st);if(st.type==="Buffer"&&Array.isArray(st.data))return dt(st.data)}function ot(st){if(st>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return st|0}function ct(st){return+st!=st&&(st=0),_.alloc(+st)}_.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==_.prototype},_.compare=function(j,_e){if(Ot(j,Uint8Array)&&(j=_.from(j,j.offset,j.byteLength)),Ot(_e,Uint8Array)&&(_e=_.from(_e,_e.offset,_e.byteLength)),!_.isBuffer(j)||!_.isBuffer(_e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===_e)return 0;let ft=j.length,mt=_e.length;for(let _t=0,At=Math.min(ft,mt);_t<At;++_t)if(j[_t]!==_e[_t]){ft=j[_t],mt=_e[_t];break}return ft<mt?-1:mt<ft?1:0},_.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(j,_e){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return _.alloc(0);let ft;if(_e===void 0)for(_e=0,ft=0;ft<j.length;++ft)_e+=j[ft].length;const mt=_.allocUnsafe(_e);let _t=0;for(ft=0;ft<j.length;++ft){let At=j[ft];if(Ot(At,Uint8Array))_t+At.length>mt.length?(_.isBuffer(At)||(At=_.from(At)),At.copy(mt,_t)):Uint8Array.prototype.set.call(mt,At,_t);else if(_.isBuffer(At))At.copy(mt,_t);else throw new TypeError('"list" argument must be an Array of Buffers');_t+=At.length}return mt};function it(st,j){if(_.isBuffer(st))return st.length;if(ArrayBuffer.isView(st)||Ot(st,ArrayBuffer))return st.byteLength;if(typeof st!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof st);const _e=st.length,ft=arguments.length>2&&arguments[2]===!0;if(!ft&&_e===0)return 0;let mt=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return _e;case"utf8":case"utf-8":return et(st).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e*2;case"hex":return _e>>>1;case"base64":return vt(st).length;default:if(mt)return ft?-1:et(st).length;j=(""+j).toLowerCase(),mt=!0}}_.byteLength=it;function at(st,j,_e){let ft=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((_e===void 0||_e>this.length)&&(_e=this.length),_e<=0)||(_e>>>=0,j>>>=0,_e<=j))return"";for(st||(st="utf8");;)switch(st){case"hex":return xt(this,j,_e);case"utf8":case"utf-8":return Vt(this,j,_e);case"ascii":return jt(this,j,_e);case"latin1":case"binary":return Tt(this,j,_e);case"base64":return Zt(this,j,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ct(this,j,_e);default:if(ft)throw new TypeError("Unknown encoding: "+st);st=(st+"").toLowerCase(),ft=!0}}_.prototype._isBuffer=!0;function yt(st,j,_e){const ft=st[j];st[j]=st[_e],st[_e]=ft}_.prototype.swap16=function(){const j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _e=0;_e<j;_e+=2)yt(this,_e,_e+1);return this},_.prototype.swap32=function(){const j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _e=0;_e<j;_e+=4)yt(this,_e,_e+3),yt(this,_e+1,_e+2);return this},_.prototype.swap64=function(){const j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _e=0;_e<j;_e+=8)yt(this,_e,_e+7),yt(this,_e+1,_e+6),yt(this,_e+2,_e+5),yt(this,_e+3,_e+4);return this},_.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?Vt(this,0,j):at.apply(this,arguments)},_.prototype.toLocaleString=_.prototype.toString,_.prototype.equals=function(j){if(!_.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:_.compare(this,j)===0},_.prototype.inspect=function(){let j="";const _e=e.INSPECT_MAX_BYTES;return j=this.toString("hex",0,_e).replace(/(.{2})/g,"$1 ").trim(),this.length>_e&&(j+=" ... "),"<Buffer "+j+">"},a&&(_.prototype[a]=_.prototype.inspect),_.prototype.compare=function(j,_e,ft,mt,_t){if(Ot(j,Uint8Array)&&(j=_.from(j,j.offset,j.byteLength)),!_.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(_e===void 0&&(_e=0),ft===void 0&&(ft=j?j.length:0),mt===void 0&&(mt=0),_t===void 0&&(_t=this.length),_e<0||ft>j.length||mt<0||_t>this.length)throw new RangeError("out of range index");if(mt>=_t&&_e>=ft)return 0;if(mt>=_t)return-1;if(_e>=ft)return 1;if(_e>>>=0,ft>>>=0,mt>>>=0,_t>>>=0,this===j)return 0;let At=_t-mt,Mt=ft-_e;const Gt=Math.min(At,Mt),Yt=this.slice(mt,_t),Xt=j.slice(_e,ft);for(let Ht=0;Ht<Gt;++Ht)if(Yt[Ht]!==Xt[Ht]){At=Yt[Ht],Mt=Xt[Ht];break}return At<Mt?-1:Mt<At?1:0};function St(st,j,_e,ft,mt){if(st.length===0)return-1;if(typeof _e=="string"?(ft=_e,_e=0):_e>2147483647?_e=2147483647:_e<-2147483648&&(_e=-2147483648),_e=+_e,bt(_e)&&(_e=mt?0:st.length-1),_e<0&&(_e=st.length+_e),_e>=st.length){if(mt)return-1;_e=st.length-1}else if(_e<0)if(mt)_e=0;else return-1;if(typeof j=="string"&&(j=_.from(j,ft)),_.isBuffer(j))return j.length===0?-1:Rt(st,j,_e,ft,mt);if(typeof j=="number")return j=j&255,typeof Uint8Array.prototype.indexOf=="function"?mt?Uint8Array.prototype.indexOf.call(st,j,_e):Uint8Array.prototype.lastIndexOf.call(st,j,_e):Rt(st,[j],_e,ft,mt);throw new TypeError("val must be string, number or Buffer")}function Rt(st,j,_e,ft,mt){let _t=1,At=st.length,Mt=j.length;if(ft!==void 0&&(ft=String(ft).toLowerCase(),ft==="ucs2"||ft==="ucs-2"||ft==="utf16le"||ft==="utf-16le")){if(st.length<2||j.length<2)return-1;_t=2,At/=2,Mt/=2,_e/=2}function Gt(Xt,Ht){return _t===1?Xt[Ht]:Xt.readUInt16BE(Ht*_t)}let Yt;if(mt){let Xt=-1;for(Yt=_e;Yt<At;Yt++)if(Gt(st,Yt)===Gt(j,Xt===-1?0:Yt-Xt)){if(Xt===-1&&(Xt=Yt),Yt-Xt+1===Mt)return Xt*_t}else Xt!==-1&&(Yt-=Yt-Xt),Xt=-1}else for(_e+Mt>At&&(_e=At-Mt),Yt=_e;Yt>=0;Yt--){let Xt=!0;for(let Ht=0;Ht<Mt;Ht++)if(Gt(st,Yt+Ht)!==Gt(j,Ht)){Xt=!1;break}if(Xt)return Yt}return-1}_.prototype.includes=function(j,_e,ft){return this.indexOf(j,_e,ft)!==-1},_.prototype.indexOf=function(j,_e,ft){return St(this,j,_e,ft,!0)},_.prototype.lastIndexOf=function(j,_e,ft){return St(this,j,_e,ft,!1)};function Bt(st,j,_e,ft){_e=Number(_e)||0;const mt=st.length-_e;ft?(ft=Number(ft),ft>mt&&(ft=mt)):ft=mt;const _t=j.length;ft>_t/2&&(ft=_t/2);let At;for(At=0;At<ft;++At){const Mt=parseInt(j.substr(At*2,2),16);if(bt(Mt))return At;st[_e+At]=Mt}return At}function Lt(st,j,_e,ft){return Nt(et(j,st.length-_e),st,_e,ft)}function Pt(st,j,_e,ft){return Nt(tt(j),st,_e,ft)}function zt(st,j,_e,ft){return Nt(vt(j),st,_e,ft)}function Wt(st,j,_e,ft){return Nt(pt(j,st.length-_e),st,_e,ft)}_.prototype.write=function(j,_e,ft,mt){if(_e===void 0)mt="utf8",ft=this.length,_e=0;else if(ft===void 0&&typeof _e=="string")mt=_e,ft=this.length,_e=0;else if(isFinite(_e))_e=_e>>>0,isFinite(ft)?(ft=ft>>>0,mt===void 0&&(mt="utf8")):(mt=ft,ft=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const _t=this.length-_e;if((ft===void 0||ft>_t)&&(ft=_t),j.length>0&&(ft<0||_e<0)||_e>this.length)throw new RangeError("Attempt to write outside buffer bounds");mt||(mt="utf8");let At=!1;for(;;)switch(mt){case"hex":return Bt(this,j,_e,ft);case"utf8":case"utf-8":return Lt(this,j,_e,ft);case"ascii":case"latin1":case"binary":return Pt(this,j,_e,ft);case"base64":return zt(this,j,_e,ft);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wt(this,j,_e,ft);default:if(At)throw new TypeError("Unknown encoding: "+mt);mt=(""+mt).toLowerCase(),At=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Zt(st,j,_e){return j===0&&_e===st.length?o.fromByteArray(st):o.fromByteArray(st.slice(j,_e))}function Vt(st,j,_e){_e=Math.min(st.length,_e);const ft=[];let mt=j;for(;mt<_e;){const _t=st[mt];let At=null,Mt=_t>239?4:_t>223?3:_t>191?2:1;if(mt+Mt<=_e){let Gt,Yt,Xt,Ht;switch(Mt){case 1:_t<128&&(At=_t);break;case 2:Gt=st[mt+1],(Gt&192)===128&&(Ht=(_t&31)<<6|Gt&63,Ht>127&&(At=Ht));break;case 3:Gt=st[mt+1],Yt=st[mt+2],(Gt&192)===128&&(Yt&192)===128&&(Ht=(_t&15)<<12|(Gt&63)<<6|Yt&63,Ht>2047&&(Ht<55296||Ht>57343)&&(At=Ht));break;case 4:Gt=st[mt+1],Yt=st[mt+2],Xt=st[mt+3],(Gt&192)===128&&(Yt&192)===128&&(Xt&192)===128&&(Ht=(_t&15)<<18|(Gt&63)<<12|(Yt&63)<<6|Xt&63,Ht>65535&&Ht<1114112&&(At=Ht))}}At===null?(At=65533,Mt=1):At>65535&&(At-=65536,ft.push(At>>>10&1023|55296),At=56320|At&1023),ft.push(At),mt+=Mt}return Ft(ft)}const Dt=4096;function Ft(st){const j=st.length;if(j<=Dt)return String.fromCharCode.apply(String,st);let _e="",ft=0;for(;ft<j;)_e+=String.fromCharCode.apply(String,st.slice(ft,ft+=Dt));return _e}function jt(st,j,_e){let ft="";_e=Math.min(st.length,_e);for(let mt=j;mt<_e;++mt)ft+=String.fromCharCode(st[mt]&127);return ft}function Tt(st,j,_e){let ft="";_e=Math.min(st.length,_e);for(let mt=j;mt<_e;++mt)ft+=String.fromCharCode(st[mt]);return ft}function xt(st,j,_e){const ft=st.length;(!j||j<0)&&(j=0),(!_e||_e<0||_e>ft)&&(_e=ft);let mt="";for(let _t=j;_t<_e;++_t)mt+=$t[st[_t]];return mt}function Ct(st,j,_e){const ft=st.slice(j,_e);let mt="";for(let _t=0;_t<ft.length-1;_t+=2)mt+=String.fromCharCode(ft[_t]+ft[_t+1]*256);return mt}_.prototype.slice=function(j,_e){const ft=this.length;j=~~j,_e=_e===void 0?ft:~~_e,j<0?(j+=ft,j<0&&(j=0)):j>ft&&(j=ft),_e<0?(_e+=ft,_e<0&&(_e=0)):_e>ft&&(_e=ft),_e<j&&(_e=j);const mt=this.subarray(j,_e);return Object.setPrototypeOf(mt,_.prototype),mt};function wt(st,j,_e){if(st%1!==0||st<0)throw new RangeError("offset is not uint");if(st+j>_e)throw new RangeError("Trying to access beyond buffer length")}_.prototype.readUintLE=_.prototype.readUIntLE=function(j,_e,ft){j=j>>>0,_e=_e>>>0,ft||wt(j,_e,this.length);let mt=this[j],_t=1,At=0;for(;++At<_e&&(_t*=256);)mt+=this[j+At]*_t;return mt},_.prototype.readUintBE=_.prototype.readUIntBE=function(j,_e,ft){j=j>>>0,_e=_e>>>0,ft||wt(j,_e,this.length);let mt=this[j+--_e],_t=1;for(;_e>0&&(_t*=256);)mt+=this[j+--_e]*_t;return mt},_.prototype.readUint8=_.prototype.readUInt8=function(j,_e){return j=j>>>0,_e||wt(j,1,this.length),this[j]},_.prototype.readUint16LE=_.prototype.readUInt16LE=function(j,_e){return j=j>>>0,_e||wt(j,2,this.length),this[j]|this[j+1]<<8},_.prototype.readUint16BE=_.prototype.readUInt16BE=function(j,_e){return j=j>>>0,_e||wt(j,2,this.length),this[j]<<8|this[j+1]},_.prototype.readUint32LE=_.prototype.readUInt32LE=function(j,_e){return j=j>>>0,_e||wt(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},_.prototype.readUint32BE=_.prototype.readUInt32BE=function(j,_e){return j=j>>>0,_e||wt(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},_.prototype.readBigUInt64LE=Ut(function(j){j=j>>>0,qt(j,"offset");const _e=this[j],ft=this[j+7];(_e===void 0||ft===void 0)&&sr(j,this.length-8);const mt=_e+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24,_t=this[++j]+this[++j]*2**8+this[++j]*2**16+ft*2**24;return BigInt(mt)+(BigInt(_t)<<BigInt(32))}),_.prototype.readBigUInt64BE=Ut(function(j){j=j>>>0,qt(j,"offset");const _e=this[j],ft=this[j+7];(_e===void 0||ft===void 0)&&sr(j,this.length-8);const mt=_e*2**24+this[++j]*2**16+this[++j]*2**8+this[++j],_t=this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ft;return(BigInt(mt)<<BigInt(32))+BigInt(_t)}),_.prototype.readIntLE=function(j,_e,ft){j=j>>>0,_e=_e>>>0,ft||wt(j,_e,this.length);let mt=this[j],_t=1,At=0;for(;++At<_e&&(_t*=256);)mt+=this[j+At]*_t;return _t*=128,mt>=_t&&(mt-=Math.pow(2,8*_e)),mt},_.prototype.readIntBE=function(j,_e,ft){j=j>>>0,_e=_e>>>0,ft||wt(j,_e,this.length);let mt=_e,_t=1,At=this[j+--mt];for(;mt>0&&(_t*=256);)At+=this[j+--mt]*_t;return _t*=128,At>=_t&&(At-=Math.pow(2,8*_e)),At},_.prototype.readInt8=function(j,_e){return j=j>>>0,_e||wt(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},_.prototype.readInt16LE=function(j,_e){j=j>>>0,_e||wt(j,2,this.length);const ft=this[j]|this[j+1]<<8;return ft&32768?ft|4294901760:ft},_.prototype.readInt16BE=function(j,_e){j=j>>>0,_e||wt(j,2,this.length);const ft=this[j+1]|this[j]<<8;return ft&32768?ft|4294901760:ft},_.prototype.readInt32LE=function(j,_e){return j=j>>>0,_e||wt(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},_.prototype.readInt32BE=function(j,_e){return j=j>>>0,_e||wt(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},_.prototype.readBigInt64LE=Ut(function(j){j=j>>>0,qt(j,"offset");const _e=this[j],ft=this[j+7];(_e===void 0||ft===void 0)&&sr(j,this.length-8);const mt=this[j+4]+this[j+5]*2**8+this[j+6]*2**16+(ft<<24);return(BigInt(mt)<<BigInt(32))+BigInt(_e+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24)}),_.prototype.readBigInt64BE=Ut(function(j){j=j>>>0,qt(j,"offset");const _e=this[j],ft=this[j+7];(_e===void 0||ft===void 0)&&sr(j,this.length-8);const mt=(_e<<24)+this[++j]*2**16+this[++j]*2**8+this[++j];return(BigInt(mt)<<BigInt(32))+BigInt(this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ft)}),_.prototype.readFloatLE=function(j,_e){return j=j>>>0,_e||wt(j,4,this.length),s.read(this,j,!0,23,4)},_.prototype.readFloatBE=function(j,_e){return j=j>>>0,_e||wt(j,4,this.length),s.read(this,j,!1,23,4)},_.prototype.readDoubleLE=function(j,_e){return j=j>>>0,_e||wt(j,8,this.length),s.read(this,j,!0,52,8)},_.prototype.readDoubleBE=function(j,_e){return j=j>>>0,_e||wt(j,8,this.length),s.read(this,j,!1,52,8)};function It(st,j,_e,ft,mt,_t){if(!_.isBuffer(st))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>mt||j<_t)throw new RangeError('"value" argument is out of bounds');if(_e+ft>st.length)throw new RangeError("Index out of range")}_.prototype.writeUintLE=_.prototype.writeUIntLE=function(j,_e,ft,mt){if(j=+j,_e=_e>>>0,ft=ft>>>0,!mt){const Mt=Math.pow(2,8*ft)-1;It(this,j,_e,ft,Mt,0)}let _t=1,At=0;for(this[_e]=j&255;++At<ft&&(_t*=256);)this[_e+At]=j/_t&255;return _e+ft},_.prototype.writeUintBE=_.prototype.writeUIntBE=function(j,_e,ft,mt){if(j=+j,_e=_e>>>0,ft=ft>>>0,!mt){const Mt=Math.pow(2,8*ft)-1;It(this,j,_e,ft,Mt,0)}let _t=ft-1,At=1;for(this[_e+_t]=j&255;--_t>=0&&(At*=256);)this[_e+_t]=j/At&255;return _e+ft},_.prototype.writeUint8=_.prototype.writeUInt8=function(j,_e,ft){return j=+j,_e=_e>>>0,ft||It(this,j,_e,1,255,0),this[_e]=j&255,_e+1},_.prototype.writeUint16LE=_.prototype.writeUInt16LE=function(j,_e,ft){return j=+j,_e=_e>>>0,ft||It(this,j,_e,2,65535,0),this[_e]=j&255,this[_e+1]=j>>>8,_e+2},_.prototype.writeUint16BE=_.prototype.writeUInt16BE=function(j,_e,ft){return j=+j,_e=_e>>>0,ft||It(this,j,_e,2,65535,0),this[_e]=j>>>8,this[_e+1]=j&255,_e+2},_.prototype.writeUint32LE=_.prototype.writeUInt32LE=function(j,_e,ft){return j=+j,_e=_e>>>0,ft||It(this,j,_e,4,4294967295,0),this[_e+3]=j>>>24,this[_e+2]=j>>>16,this[_e+1]=j>>>8,this[_e]=j&255,_e+4},_.prototype.writeUint32BE=_.prototype.writeUInt32BE=function(j,_e,ft){return j=+j,_e=_e>>>0,ft||It(this,j,_e,4,4294967295,0),this[_e]=j>>>24,this[_e+1]=j>>>16,this[_e+2]=j>>>8,this[_e+3]=j&255,_e+4};function kt(st,j,_e,ft,mt){tr(j,ft,mt,st,_e,7);let _t=Number(j&BigInt(4294967295));st[_e++]=_t,_t=_t>>8,st[_e++]=_t,_t=_t>>8,st[_e++]=_t,_t=_t>>8,st[_e++]=_t;let At=Number(j>>BigInt(32)&BigInt(4294967295));return st[_e++]=At,At=At>>8,st[_e++]=At,At=At>>8,st[_e++]=At,At=At>>8,st[_e++]=At,_e}function Kt(st,j,_e,ft,mt){tr(j,ft,mt,st,_e,7);let _t=Number(j&BigInt(4294967295));st[_e+7]=_t,_t=_t>>8,st[_e+6]=_t,_t=_t>>8,st[_e+5]=_t,_t=_t>>8,st[_e+4]=_t;let At=Number(j>>BigInt(32)&BigInt(4294967295));return st[_e+3]=At,At=At>>8,st[_e+2]=At,At=At>>8,st[_e+1]=At,At=At>>8,st[_e]=At,_e+8}_.prototype.writeBigUInt64LE=Ut(function(j,_e=0){return kt(this,j,_e,BigInt(0),BigInt("0xffffffffffffffff"))}),_.prototype.writeBigUInt64BE=Ut(function(j,_e=0){return Kt(this,j,_e,BigInt(0),BigInt("0xffffffffffffffff"))}),_.prototype.writeIntLE=function(j,_e,ft,mt){if(j=+j,_e=_e>>>0,!mt){const Gt=Math.pow(2,8*ft-1);It(this,j,_e,ft,Gt-1,-Gt)}let _t=0,At=1,Mt=0;for(this[_e]=j&255;++_t<ft&&(At*=256);)j<0&&Mt===0&&this[_e+_t-1]!==0&&(Mt=1),this[_e+_t]=(j/At>>0)-Mt&255;return _e+ft},_.prototype.writeIntBE=function(j,_e,ft,mt){if(j=+j,_e=_e>>>0,!mt){const Gt=Math.pow(2,8*ft-1);It(this,j,_e,ft,Gt-1,-Gt)}let _t=ft-1,At=1,Mt=0;for(this[_e+_t]=j&255;--_t>=0&&(At*=256);)j<0&&Mt===0&&this[_e+_t+1]!==0&&(Mt=1),this[_e+_t]=(j/At>>0)-Mt&255;return _e+ft},_.prototype.writeInt8=function(j,_e,ft){return j=+j,_e=_e>>>0,ft||It(this,j,_e,1,127,-128),j<0&&(j=255+j+1),this[_e]=j&255,_e+1},_.prototype.writeInt16LE=function(j,_e,ft){return j=+j,_e=_e>>>0,ft||It(this,j,_e,2,32767,-32768),this[_e]=j&255,this[_e+1]=j>>>8,_e+2},_.prototype.writeInt16BE=function(j,_e,ft){return j=+j,_e=_e>>>0,ft||It(this,j,_e,2,32767,-32768),this[_e]=j>>>8,this[_e+1]=j&255,_e+2},_.prototype.writeInt32LE=function(j,_e,ft){return j=+j,_e=_e>>>0,ft||It(this,j,_e,4,2147483647,-2147483648),this[_e]=j&255,this[_e+1]=j>>>8,this[_e+2]=j>>>16,this[_e+3]=j>>>24,_e+4},_.prototype.writeInt32BE=function(j,_e,ft){return j=+j,_e=_e>>>0,ft||It(this,j,_e,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[_e]=j>>>24,this[_e+1]=j>>>16,this[_e+2]=j>>>8,this[_e+3]=j&255,_e+4},_.prototype.writeBigInt64LE=Ut(function(j,_e=0){return kt(this,j,_e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),_.prototype.writeBigInt64BE=Ut(function(j,_e=0){return Kt(this,j,_e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function er(st,j,_e,ft,mt,_t){if(_e+ft>st.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("Index out of range")}function Qt(st,j,_e,ft,mt){return j=+j,_e=_e>>>0,mt||er(st,j,_e,4),s.write(st,j,_e,ft,23,4),_e+4}_.prototype.writeFloatLE=function(j,_e,ft){return Qt(this,j,_e,!0,ft)},_.prototype.writeFloatBE=function(j,_e,ft){return Qt(this,j,_e,!1,ft)};function or(st,j,_e,ft,mt){return j=+j,_e=_e>>>0,mt||er(st,j,_e,8),s.write(st,j,_e,ft,52,8),_e+8}_.prototype.writeDoubleLE=function(j,_e,ft){return or(this,j,_e,!0,ft)},_.prototype.writeDoubleBE=function(j,_e,ft){return or(this,j,_e,!1,ft)},_.prototype.copy=function(j,_e,ft,mt){if(!_.isBuffer(j))throw new TypeError("argument should be a Buffer");if(ft||(ft=0),!mt&&mt!==0&&(mt=this.length),_e>=j.length&&(_e=j.length),_e||(_e=0),mt>0&&mt<ft&&(mt=ft),mt===ft||j.length===0||this.length===0)return 0;if(_e<0)throw new RangeError("targetStart out of bounds");if(ft<0||ft>=this.length)throw new RangeError("Index out of range");if(mt<0)throw new RangeError("sourceEnd out of bounds");mt>this.length&&(mt=this.length),j.length-_e<mt-ft&&(mt=j.length-_e+ft);const _t=mt-ft;return this===j&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_e,ft,mt):Uint8Array.prototype.set.call(j,this.subarray(ft,mt),_e),_t},_.prototype.fill=function(j,_e,ft,mt){if(typeof j=="string"){if(typeof _e=="string"?(mt=_e,_e=0,ft=this.length):typeof ft=="string"&&(mt=ft,ft=this.length),mt!==void 0&&typeof mt!="string")throw new TypeError("encoding must be a string");if(typeof mt=="string"&&!_.isEncoding(mt))throw new TypeError("Unknown encoding: "+mt);if(j.length===1){const At=j.charCodeAt(0);(mt==="utf8"&&At<128||mt==="latin1")&&(j=At)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(_e<0||this.length<_e||this.length<ft)throw new RangeError("Out of range index");if(ft<=_e)return this;_e=_e>>>0,ft=ft===void 0?this.length:ft>>>0,j||(j=0);let _t;if(typeof j=="number")for(_t=_e;_t<ft;++_t)this[_t]=j;else{const At=_.isBuffer(j)?j:_.from(j,mt),Mt=At.length;if(Mt===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(_t=0;_t<ft-_e;++_t)this[_t+_e]=At[_t%Mt]}return this};const rr={};function nr(st,j,_e){rr[st]=class extends _e{constructor(){super(),Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${st}]`,this.stack,delete this.name}get code(){return st}set code(mt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:mt,writable:!0})}toString(){return`${this.name} [${st}]: ${this.message}`}}}nr("ERR_BUFFER_OUT_OF_BOUNDS",function(st){return st?`${st} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),nr("ERR_INVALID_ARG_TYPE",function(st,j){return`The "${st}" argument must be of type number. Received type ${typeof j}`},TypeError),nr("ERR_OUT_OF_RANGE",function(st,j,_e){let ft=`The value of "${st}" is out of range.`,mt=_e;return Number.isInteger(_e)&&Math.abs(_e)>2**32?mt=ar(String(_e)):typeof _e=="bigint"&&(mt=String(_e),(_e>BigInt(2)**BigInt(32)||_e<-(BigInt(2)**BigInt(32)))&&(mt=ar(mt)),mt+="n"),ft+=` It must be ${j}. Received ${mt}`,ft},RangeError);function ar(st){let j="",_e=st.length;const ft=st[0]==="-"?1:0;for(;_e>=ft+4;_e-=3)j=`_${st.slice(_e-3,_e)}${j}`;return`${st.slice(0,_e)}${j}`}function lr(st,j,_e){qt(j,"offset"),(st[j]===void 0||st[j+_e]===void 0)&&sr(j,st.length-(_e+1))}function tr(st,j,_e,ft,mt,_t){if(st>_e||st<j){const At=typeof j=="bigint"?"n":"";let Mt;throw _t>3?j===0||j===BigInt(0)?Mt=`>= 0${At} and < 2${At} ** ${(_t+1)*8}${At}`:Mt=`>= -(2${At} ** ${(_t+1)*8-1}${At}) and < 2 ** ${(_t+1)*8-1}${At}`:Mt=`>= ${j}${At} and <= ${_e}${At}`,new rr.ERR_OUT_OF_RANGE("value",Mt,st)}lr(ft,mt,_t)}function qt(st,j){if(typeof st!="number")throw new rr.ERR_INVALID_ARG_TYPE(j,"number",st)}function sr(st,j,_e){throw Math.floor(st)!==st?(qt(st,_e),new rr.ERR_OUT_OF_RANGE(_e||"offset","an integer",st)):j<0?new rr.ERR_BUFFER_OUT_OF_BOUNDS:new rr.ERR_OUT_OF_RANGE(_e||"offset",`>= ${_e?1:0} and <= ${j}`,st)}const ir=/[^+/0-9A-Za-z-_]/g;function ut(st){if(st=st.split("=")[0],st=st.trim().replace(ir,""),st.length<2)return"";for(;st.length%4!==0;)st=st+"=";return st}function et(st,j){j=j||1/0;let _e;const ft=st.length;let mt=null;const _t=[];for(let At=0;At<ft;++At){if(_e=st.charCodeAt(At),_e>55295&&_e<57344){if(!mt){if(_e>56319){(j-=3)>-1&&_t.push(239,191,189);continue}else if(At+1===ft){(j-=3)>-1&&_t.push(239,191,189);continue}mt=_e;continue}if(_e<56320){(j-=3)>-1&&_t.push(239,191,189),mt=_e;continue}_e=(mt-55296<<10|_e-56320)+65536}else mt&&(j-=3)>-1&&_t.push(239,191,189);if(mt=null,_e<128){if((j-=1)<0)break;_t.push(_e)}else if(_e<2048){if((j-=2)<0)break;_t.push(_e>>6|192,_e&63|128)}else if(_e<65536){if((j-=3)<0)break;_t.push(_e>>12|224,_e>>6&63|128,_e&63|128)}else if(_e<1114112){if((j-=4)<0)break;_t.push(_e>>18|240,_e>>12&63|128,_e>>6&63|128,_e&63|128)}else throw new Error("Invalid code point")}return _t}function tt(st){const j=[];for(let _e=0;_e<st.length;++_e)j.push(st.charCodeAt(_e)&255);return j}function pt(st,j){let _e,ft,mt;const _t=[];for(let At=0;At<st.length&&!((j-=2)<0);++At)_e=st.charCodeAt(At),ft=_e>>8,mt=_e%256,_t.push(mt),_t.push(ft);return _t}function vt(st){return o.toByteArray(ut(st))}function Nt(st,j,_e,ft){let mt;for(mt=0;mt<ft&&!(mt+_e>=j.length||mt>=st.length);++mt)j[mt+_e]=st[mt];return mt}function Ot(st,j){return st instanceof j||st!=null&&st.constructor!=null&&st.constructor.name!=null&&st.constructor.name===j.name}function bt(st){return st!==st}const $t=function(){const st="0123456789abcdef",j=new Array(256);for(let _e=0;_e<16;++_e){const ft=_e*16;for(let mt=0;mt<16;++mt)j[ft+mt]=st[_e]+st[mt]}return j}();function Ut(st){return typeof BigInt>"u"?Jt:st}function Jt(){throw new Error("BigInt not supported")}})(bufferPolyfill);var browser={exports:{}},process=browser.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch{try{return cachedSetTimeout.call(null,e,0)}catch{return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch{try{return cachedClearTimeout.call(null,e)}catch{return cachedClearTimeout.call(this,e)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var o=queue.length;o;){for(currentQueue=queue,queue=[];++queueIndex<o;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,o=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}process.nextTick=function(e){var o=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)o[s-1]=arguments[s];queue.push(new Item(e,o)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(e,o){this.fun=e,this.array=o}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(e){return[]};process.binding=function(e){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(e){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser.exports;(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const o=bufferPolyfill,s=browserExports,a=d=>d&&d.__esModule?d:{default:d},c=a(s),h=globalThis||void 0||self;Object.defineProperty(e,"Buffer",{enumerable:!0,get:()=>o.Buffer}),Object.defineProperty(e,"process",{enumerable:!0,get:()=>c.default}),e.global=h})(dist);var long=Long,wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Long(e,o,s){this.low=e|0,this.high=o|0,this.unsigned=!!s}Long.prototype.__isLong__;Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(e){return(e&&e.__isLong__)===!0}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(e,o){var s,a,c;return o?(e>>>=0,(c=0<=e&&e<256)&&(a=UINT_CACHE[e],a)?a:(s=fromBits(e,(e|0)<0?-1:0,!0),c&&(UINT_CACHE[e]=s),s)):(e|=0,(c=-128<=e&&e<128)&&(a=INT_CACHE[e],a)?a:(s=fromBits(e,e<0?-1:0,!1),c&&(INT_CACHE[e]=s),s))}Long.fromInt=fromInt;function fromNumber(e,o){if(isNaN(e))return o?UZERO:ZERO;if(o){if(e<0)return UZERO;if(e>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(e<=-TWO_PWR_63_DBL)return MIN_VALUE;if(e+1>=TWO_PWR_63_DBL)return MAX_VALUE}return e<0?fromNumber(-e,o).neg():fromBits(e%TWO_PWR_32_DBL|0,e/TWO_PWR_32_DBL|0,o)}Long.fromNumber=fromNumber;function fromBits(e,o,s){return new Long(e,o,s)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(e,o,s){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return ZERO;if(typeof o=="number"?(s=o,o=!1):o=!!o,s=s||10,s<2||36<s)throw RangeError("radix");var a;if((a=e.indexOf("-"))>0)throw Error("interior hyphen");if(a===0)return fromString(e.substring(1),o,s).neg();for(var c=fromNumber(pow_dbl(s,8)),h=ZERO,d=0;d<e.length;d+=8){var _=Math.min(8,e.length-d),b=parseInt(e.substring(d,d+_),s);if(_<8){var $=fromNumber(pow_dbl(s,_));h=h.mul($).add(fromNumber(b))}else h=h.mul(c),h=h.add(fromNumber(b))}return h.unsigned=o,h}Long.fromString=fromString;function fromValue(e,o){return typeof e=="number"?fromNumber(e,o):typeof e=="string"?fromString(e,o):fromBits(e.low,e.high,typeof o=="boolean"?o:e.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low};LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)};LongPrototype.toString=function(o){if(o=o||10,o<2||36<o)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var s=fromNumber(o),a=this.div(s),c=a.mul(s).sub(this);return a.toString(o)+c.toInt().toString(o)}else return"-"+this.neg().toString(o);for(var h=fromNumber(pow_dbl(o,6),this.unsigned),d=this,_="";;){var b=d.div(h),$=d.sub(b.mul(h)).toInt()>>>0,rt=$.toString(o);if(d=b,d.isZero())return rt+_;for(;rt.length<6;)rt="0"+rt;_=""+rt+_}};LongPrototype.getHighBits=function(){return this.high};LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0};LongPrototype.getLowBits=function(){return this.low};LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0};LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var o=this.high!=0?this.high:this.low,s=31;s>0&&!(o&1<<s);s--);return this.high!=0?s+33:s+1};LongPrototype.isZero=function(){return this.high===0&&this.low===0};LongPrototype.eqz=LongPrototype.isZero;LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0};LongPrototype.isPositive=function(){return this.unsigned||this.high>=0};LongPrototype.isOdd=function(){return(this.low&1)===1};LongPrototype.isEven=function(){return(this.low&1)===0};LongPrototype.equals=function(o){return isLong(o)||(o=fromValue(o)),this.unsigned!==o.unsigned&&this.high>>>31===1&&o.high>>>31===1?!1:this.high===o.high&&this.low===o.low};LongPrototype.eq=LongPrototype.equals;LongPrototype.notEquals=function(o){return!this.eq(o)};LongPrototype.neq=LongPrototype.notEquals;LongPrototype.ne=LongPrototype.notEquals;LongPrototype.lessThan=function(o){return this.comp(o)<0};LongPrototype.lt=LongPrototype.lessThan;LongPrototype.lessThanOrEqual=function(o){return this.comp(o)<=0};LongPrototype.lte=LongPrototype.lessThanOrEqual;LongPrototype.le=LongPrototype.lessThanOrEqual;LongPrototype.greaterThan=function(o){return this.comp(o)>0};LongPrototype.gt=LongPrototype.greaterThan;LongPrototype.greaterThanOrEqual=function(o){return this.comp(o)>=0};LongPrototype.gte=LongPrototype.greaterThanOrEqual;LongPrototype.ge=LongPrototype.greaterThanOrEqual;LongPrototype.compare=function(o){if(isLong(o)||(o=fromValue(o)),this.eq(o))return 0;var s=this.isNegative(),a=o.isNegative();return s&&!a?-1:!s&&a?1:this.unsigned?o.high>>>0>this.high>>>0||o.high===this.high&&o.low>>>0>this.low>>>0?-1:1:this.sub(o).isNegative()?-1:1};LongPrototype.comp=LongPrototype.compare;LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)};LongPrototype.neg=LongPrototype.negate;LongPrototype.add=function(o){isLong(o)||(o=fromValue(o));var s=this.high>>>16,a=this.high&65535,c=this.low>>>16,h=this.low&65535,d=o.high>>>16,_=o.high&65535,b=o.low>>>16,$=o.low&65535,rt=0,nt=0,lt=0,dt=0;return dt+=h+$,lt+=dt>>>16,dt&=65535,lt+=c+b,nt+=lt>>>16,lt&=65535,nt+=a+_,rt+=nt>>>16,nt&=65535,rt+=s+d,rt&=65535,fromBits(lt<<16|dt,rt<<16|nt,this.unsigned)};LongPrototype.subtract=function(o){return isLong(o)||(o=fromValue(o)),this.add(o.neg())};LongPrototype.sub=LongPrototype.subtract;LongPrototype.multiply=function(o){if(this.isZero())return ZERO;if(isLong(o)||(o=fromValue(o)),wasm){var s=wasm.mul(this.low,this.high,o.low,o.high);return fromBits(s,wasm.get_high(),this.unsigned)}if(o.isZero())return ZERO;if(this.eq(MIN_VALUE))return o.isOdd()?MIN_VALUE:ZERO;if(o.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return o.isNegative()?this.neg().mul(o.neg()):this.neg().mul(o).neg();if(o.isNegative())return this.mul(o.neg()).neg();if(this.lt(TWO_PWR_24)&&o.lt(TWO_PWR_24))return fromNumber(this.toNumber()*o.toNumber(),this.unsigned);var a=this.high>>>16,c=this.high&65535,h=this.low>>>16,d=this.low&65535,_=o.high>>>16,b=o.high&65535,$=o.low>>>16,rt=o.low&65535,nt=0,lt=0,dt=0,gt=0;return gt+=d*rt,dt+=gt>>>16,gt&=65535,dt+=h*rt,lt+=dt>>>16,dt&=65535,dt+=d*$,lt+=dt>>>16,dt&=65535,lt+=c*rt,nt+=lt>>>16,lt&=65535,lt+=h*$,nt+=lt>>>16,lt&=65535,lt+=d*b,nt+=lt>>>16,lt&=65535,nt+=a*rt+c*$+h*b+d*_,nt&=65535,fromBits(dt<<16|gt,nt<<16|lt,this.unsigned)};LongPrototype.mul=LongPrototype.multiply;LongPrototype.divide=function(o){if(isLong(o)||(o=fromValue(o)),o.isZero())throw Error("division by zero");if(wasm){if(!this.unsigned&&this.high===-2147483648&&o.low===-1&&o.high===-1)return this;var s=(this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,o.low,o.high);return fromBits(s,wasm.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var a,c,h;if(this.unsigned){if(o.unsigned||(o=o.toUnsigned()),o.gt(this))return UZERO;if(o.gt(this.shru(1)))return UONE;h=UZERO}else{if(this.eq(MIN_VALUE)){if(o.eq(ONE)||o.eq(NEG_ONE))return MIN_VALUE;if(o.eq(MIN_VALUE))return ONE;var d=this.shr(1);return a=d.div(o).shl(1),a.eq(ZERO)?o.isNegative()?ONE:NEG_ONE:(c=this.sub(o.mul(a)),h=a.add(c.div(o)),h)}else if(o.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return o.isNegative()?this.neg().div(o.neg()):this.neg().div(o).neg();if(o.isNegative())return this.div(o.neg()).neg();h=ZERO}for(c=this;c.gte(o);){a=Math.max(1,Math.floor(c.toNumber()/o.toNumber()));for(var _=Math.ceil(Math.log(a)/Math.LN2),b=_<=48?1:pow_dbl(2,_-48),$=fromNumber(a),rt=$.mul(o);rt.isNegative()||rt.gt(c);)a-=b,$=fromNumber(a,this.unsigned),rt=$.mul(o);$.isZero()&&($=ONE),h=h.add($),c=c.sub(rt)}return h};LongPrototype.div=LongPrototype.divide;LongPrototype.modulo=function(o){if(isLong(o)||(o=fromValue(o)),wasm){var s=(this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,o.low,o.high);return fromBits(s,wasm.get_high(),this.unsigned)}return this.sub(this.div(o).mul(o))};LongPrototype.mod=LongPrototype.modulo;LongPrototype.rem=LongPrototype.modulo;LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)};LongPrototype.and=function(o){return isLong(o)||(o=fromValue(o)),fromBits(this.low&o.low,this.high&o.high,this.unsigned)};LongPrototype.or=function(o){return isLong(o)||(o=fromValue(o)),fromBits(this.low|o.low,this.high|o.high,this.unsigned)};LongPrototype.xor=function(o){return isLong(o)||(o=fromValue(o)),fromBits(this.low^o.low,this.high^o.high,this.unsigned)};LongPrototype.shiftLeft=function(o){return isLong(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?fromBits(this.low<<o,this.high<<o|this.low>>>32-o,this.unsigned):fromBits(0,this.low<<o-32,this.unsigned)};LongPrototype.shl=LongPrototype.shiftLeft;LongPrototype.shiftRight=function(o){return isLong(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?fromBits(this.low>>>o|this.high<<32-o,this.high>>o,this.unsigned):fromBits(this.high>>o-32,this.high>=0?0:-1,this.unsigned)};LongPrototype.shr=LongPrototype.shiftRight;LongPrototype.shiftRightUnsigned=function(o){if(isLong(o)&&(o=o.toInt()),o&=63,o===0)return this;var s=this.high;if(o<32){var a=this.low;return fromBits(a>>>o|s<<32-o,s>>>o,this.unsigned)}else return o===32?fromBits(s,0,this.unsigned):fromBits(s>>>o-32,0,this.unsigned)};LongPrototype.shru=LongPrototype.shiftRightUnsigned;LongPrototype.shr_u=LongPrototype.shiftRightUnsigned;LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this};LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)};LongPrototype.toBytes=function(o){return o?this.toBytesLE():this.toBytesBE()};LongPrototype.toBytesLE=function(){var o=this.high,s=this.low;return[s&255,s>>>8&255,s>>>16&255,s>>>24,o&255,o>>>8&255,o>>>16&255,o>>>24]};LongPrototype.toBytesBE=function(){var o=this.high,s=this.low;return[o>>>24,o>>>16&255,o>>>8&255,o&255,s>>>24,s>>>16&255,s>>>8&255,s&255]};Long.fromBytes=function(o,s,a){return a?Long.fromBytesLE(o,s):Long.fromBytesBE(o,s)};Long.fromBytesLE=function(o,s){return new Long(o[0]|o[1]<<8|o[2]<<16|o[3]<<24,o[4]|o[5]<<8|o[6]<<16|o[7]<<24,s)};Long.fromBytesBE=function(o,s){return new Long(o[4]<<24|o[5]<<16|o[6]<<8|o[7],o[0]<<24|o[1]<<16|o[2]<<8|o[3],s)};const long$1=getDefaultExportFromCjs(long);var buffer$2={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var o=base64Js,s=ieee754,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=_,e.SlowBuffer=ct,e.INSPECT_MAX_BYTES=50;var c=2147483647;e.kMaxLength=c,_.TYPED_ARRAY_SUPPORT=h(),!_.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var ut=new Uint8Array(1),et={foo:function(){return 42}};return Object.setPrototypeOf(et,Uint8Array.prototype),Object.setPrototypeOf(ut,et),ut.foo()===42}catch{return!1}}Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.buffer}}),Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.byteOffset}});function d(ut){if(ut>c)throw new RangeError('The value "'+ut+'" is invalid for option "size"');var et=new Uint8Array(ut);return Object.setPrototypeOf(et,_.prototype),et}function _(ut,et,tt){if(typeof ut=="number"){if(typeof et=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return nt(ut)}return b(ut,et,tt)}_.poolSize=8192;function b(ut,et,tt){if(typeof ut=="string")return lt(ut,et);if(ArrayBuffer.isView(ut))return gt(ut);if(ut==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ut);if(qt(ut,ArrayBuffer)||ut&&qt(ut.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(qt(ut,SharedArrayBuffer)||ut&&qt(ut.buffer,SharedArrayBuffer)))return Et(ut,et,tt);if(typeof ut=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var pt=ut.valueOf&&ut.valueOf();if(pt!=null&&pt!==ut)return _.from(pt,et,tt);var vt=ht(ut);if(vt)return vt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ut[Symbol.toPrimitive]=="function")return _.from(ut[Symbol.toPrimitive]("string"),et,tt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ut)}_.from=function(ut,et,tt){return b(ut,et,tt)},Object.setPrototypeOf(_.prototype,Uint8Array.prototype),Object.setPrototypeOf(_,Uint8Array);function $(ut){if(typeof ut!="number")throw new TypeError('"size" argument must be of type number');if(ut<0)throw new RangeError('The value "'+ut+'" is invalid for option "size"')}function rt(ut,et,tt){return $(ut),ut<=0?d(ut):et!==void 0?typeof tt=="string"?d(ut).fill(et,tt):d(ut).fill(et):d(ut)}_.alloc=function(ut,et,tt){return rt(ut,et,tt)};function nt(ut){return $(ut),d(ut<0?0:ot(ut)|0)}_.allocUnsafe=function(ut){return nt(ut)},_.allocUnsafeSlow=function(ut){return nt(ut)};function lt(ut,et){if((typeof et!="string"||et==="")&&(et="utf8"),!_.isEncoding(et))throw new TypeError("Unknown encoding: "+et);var tt=it(ut,et)|0,pt=d(tt),vt=pt.write(ut,et);return vt!==tt&&(pt=pt.slice(0,vt)),pt}function dt(ut){for(var et=ut.length<0?0:ot(ut.length)|0,tt=d(et),pt=0;pt<et;pt+=1)tt[pt]=ut[pt]&255;return tt}function gt(ut){if(qt(ut,Uint8Array)){var et=new Uint8Array(ut);return Et(et.buffer,et.byteOffset,et.byteLength)}return dt(ut)}function Et(ut,et,tt){if(et<0||ut.byteLength<et)throw new RangeError('"offset" is outside of buffer bounds');if(ut.byteLength<et+(tt||0))throw new RangeError('"length" is outside of buffer bounds');var pt;return et===void 0&&tt===void 0?pt=new Uint8Array(ut):tt===void 0?pt=new Uint8Array(ut,et):pt=new Uint8Array(ut,et,tt),Object.setPrototypeOf(pt,_.prototype),pt}function ht(ut){if(_.isBuffer(ut)){var et=ot(ut.length)|0,tt=d(et);return tt.length===0||ut.copy(tt,0,0,et),tt}if(ut.length!==void 0)return typeof ut.length!="number"||sr(ut.length)?d(0):dt(ut);if(ut.type==="Buffer"&&Array.isArray(ut.data))return dt(ut.data)}function ot(ut){if(ut>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return ut|0}function ct(ut){return+ut!=ut&&(ut=0),_.alloc(+ut)}_.isBuffer=function(et){return et!=null&&et._isBuffer===!0&&et!==_.prototype},_.compare=function(et,tt){if(qt(et,Uint8Array)&&(et=_.from(et,et.offset,et.byteLength)),qt(tt,Uint8Array)&&(tt=_.from(tt,tt.offset,tt.byteLength)),!_.isBuffer(et)||!_.isBuffer(tt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(et===tt)return 0;for(var pt=et.length,vt=tt.length,Nt=0,Ot=Math.min(pt,vt);Nt<Ot;++Nt)if(et[Nt]!==tt[Nt]){pt=et[Nt],vt=tt[Nt];break}return pt<vt?-1:vt<pt?1:0},_.isEncoding=function(et){switch(String(et).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(et,tt){if(!Array.isArray(et))throw new TypeError('"list" argument must be an Array of Buffers');if(et.length===0)return _.alloc(0);var pt;if(tt===void 0)for(tt=0,pt=0;pt<et.length;++pt)tt+=et[pt].length;var vt=_.allocUnsafe(tt),Nt=0;for(pt=0;pt<et.length;++pt){var Ot=et[pt];if(qt(Ot,Uint8Array))Nt+Ot.length>vt.length?_.from(Ot).copy(vt,Nt):Uint8Array.prototype.set.call(vt,Ot,Nt);else if(_.isBuffer(Ot))Ot.copy(vt,Nt);else throw new TypeError('"list" argument must be an Array of Buffers');Nt+=Ot.length}return vt};function it(ut,et){if(_.isBuffer(ut))return ut.length;if(ArrayBuffer.isView(ut)||qt(ut,ArrayBuffer))return ut.byteLength;if(typeof ut!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ut);var tt=ut.length,pt=arguments.length>2&&arguments[2]===!0;if(!pt&&tt===0)return 0;for(var vt=!1;;)switch(et){case"ascii":case"latin1":case"binary":return tt;case"utf8":case"utf-8":return rr(ut).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt*2;case"hex":return tt>>>1;case"base64":return lr(ut).length;default:if(vt)return pt?-1:rr(ut).length;et=(""+et).toLowerCase(),vt=!0}}_.byteLength=it;function at(ut,et,tt){var pt=!1;if((et===void 0||et<0)&&(et=0),et>this.length||((tt===void 0||tt>this.length)&&(tt=this.length),tt<=0)||(tt>>>=0,et>>>=0,tt<=et))return"";for(ut||(ut="utf8");;)switch(ut){case"hex":return xt(this,et,tt);case"utf8":case"utf-8":return Vt(this,et,tt);case"ascii":return jt(this,et,tt);case"latin1":case"binary":return Tt(this,et,tt);case"base64":return Zt(this,et,tt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ct(this,et,tt);default:if(pt)throw new TypeError("Unknown encoding: "+ut);ut=(ut+"").toLowerCase(),pt=!0}}_.prototype._isBuffer=!0;function yt(ut,et,tt){var pt=ut[et];ut[et]=ut[tt],ut[tt]=pt}_.prototype.swap16=function(){var et=this.length;if(et%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var tt=0;tt<et;tt+=2)yt(this,tt,tt+1);return this},_.prototype.swap32=function(){var et=this.length;if(et%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var tt=0;tt<et;tt+=4)yt(this,tt,tt+3),yt(this,tt+1,tt+2);return this},_.prototype.swap64=function(){var et=this.length;if(et%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var tt=0;tt<et;tt+=8)yt(this,tt,tt+7),yt(this,tt+1,tt+6),yt(this,tt+2,tt+5),yt(this,tt+3,tt+4);return this},_.prototype.toString=function(){var et=this.length;return et===0?"":arguments.length===0?Vt(this,0,et):at.apply(this,arguments)},_.prototype.toLocaleString=_.prototype.toString,_.prototype.equals=function(et){if(!_.isBuffer(et))throw new TypeError("Argument must be a Buffer");return this===et?!0:_.compare(this,et)===0},_.prototype.inspect=function(){var et="",tt=e.INSPECT_MAX_BYTES;return et=this.toString("hex",0,tt).replace(/(.{2})/g,"$1 ").trim(),this.length>tt&&(et+=" ... "),"<Buffer "+et+">"},a&&(_.prototype[a]=_.prototype.inspect),_.prototype.compare=function(et,tt,pt,vt,Nt){if(qt(et,Uint8Array)&&(et=_.from(et,et.offset,et.byteLength)),!_.isBuffer(et))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof et);if(tt===void 0&&(tt=0),pt===void 0&&(pt=et?et.length:0),vt===void 0&&(vt=0),Nt===void 0&&(Nt=this.length),tt<0||pt>et.length||vt<0||Nt>this.length)throw new RangeError("out of range index");if(vt>=Nt&&tt>=pt)return 0;if(vt>=Nt)return-1;if(tt>=pt)return 1;if(tt>>>=0,pt>>>=0,vt>>>=0,Nt>>>=0,this===et)return 0;for(var Ot=Nt-vt,bt=pt-tt,$t=Math.min(Ot,bt),Ut=this.slice(vt,Nt),Jt=et.slice(tt,pt),st=0;st<$t;++st)if(Ut[st]!==Jt[st]){Ot=Ut[st],bt=Jt[st];break}return Ot<bt?-1:bt<Ot?1:0};function St(ut,et,tt,pt,vt){if(ut.length===0)return-1;if(typeof tt=="string"?(pt=tt,tt=0):tt>2147483647?tt=2147483647:tt<-2147483648&&(tt=-2147483648),tt=+tt,sr(tt)&&(tt=vt?0:ut.length-1),tt<0&&(tt=ut.length+tt),tt>=ut.length){if(vt)return-1;tt=ut.length-1}else if(tt<0)if(vt)tt=0;else return-1;if(typeof et=="string"&&(et=_.from(et,pt)),_.isBuffer(et))return et.length===0?-1:Rt(ut,et,tt,pt,vt);if(typeof et=="number")return et=et&255,typeof Uint8Array.prototype.indexOf=="function"?vt?Uint8Array.prototype.indexOf.call(ut,et,tt):Uint8Array.prototype.lastIndexOf.call(ut,et,tt):Rt(ut,[et],tt,pt,vt);throw new TypeError("val must be string, number or Buffer")}function Rt(ut,et,tt,pt,vt){var Nt=1,Ot=ut.length,bt=et.length;if(pt!==void 0&&(pt=String(pt).toLowerCase(),pt==="ucs2"||pt==="ucs-2"||pt==="utf16le"||pt==="utf-16le")){if(ut.length<2||et.length<2)return-1;Nt=2,Ot/=2,bt/=2,tt/=2}function $t(_e,ft){return Nt===1?_e[ft]:_e.readUInt16BE(ft*Nt)}var Ut;if(vt){var Jt=-1;for(Ut=tt;Ut<Ot;Ut++)if($t(ut,Ut)===$t(et,Jt===-1?0:Ut-Jt)){if(Jt===-1&&(Jt=Ut),Ut-Jt+1===bt)return Jt*Nt}else Jt!==-1&&(Ut-=Ut-Jt),Jt=-1}else for(tt+bt>Ot&&(tt=Ot-bt),Ut=tt;Ut>=0;Ut--){for(var st=!0,j=0;j<bt;j++)if($t(ut,Ut+j)!==$t(et,j)){st=!1;break}if(st)return Ut}return-1}_.prototype.includes=function(et,tt,pt){return this.indexOf(et,tt,pt)!==-1},_.prototype.indexOf=function(et,tt,pt){return St(this,et,tt,pt,!0)},_.prototype.lastIndexOf=function(et,tt,pt){return St(this,et,tt,pt,!1)};function Bt(ut,et,tt,pt){tt=Number(tt)||0;var vt=ut.length-tt;pt?(pt=Number(pt),pt>vt&&(pt=vt)):pt=vt;var Nt=et.length;pt>Nt/2&&(pt=Nt/2);for(var Ot=0;Ot<pt;++Ot){var bt=parseInt(et.substr(Ot*2,2),16);if(sr(bt))return Ot;ut[tt+Ot]=bt}return Ot}function Lt(ut,et,tt,pt){return tr(rr(et,ut.length-tt),ut,tt,pt)}function Pt(ut,et,tt,pt){return tr(nr(et),ut,tt,pt)}function zt(ut,et,tt,pt){return tr(lr(et),ut,tt,pt)}function Wt(ut,et,tt,pt){return tr(ar(et,ut.length-tt),ut,tt,pt)}_.prototype.write=function(et,tt,pt,vt){if(tt===void 0)vt="utf8",pt=this.length,tt=0;else if(pt===void 0&&typeof tt=="string")vt=tt,pt=this.length,tt=0;else if(isFinite(tt))tt=tt>>>0,isFinite(pt)?(pt=pt>>>0,vt===void 0&&(vt="utf8")):(vt=pt,pt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Nt=this.length-tt;if((pt===void 0||pt>Nt)&&(pt=Nt),et.length>0&&(pt<0||tt<0)||tt>this.length)throw new RangeError("Attempt to write outside buffer bounds");vt||(vt="utf8");for(var Ot=!1;;)switch(vt){case"hex":return Bt(this,et,tt,pt);case"utf8":case"utf-8":return Lt(this,et,tt,pt);case"ascii":case"latin1":case"binary":return Pt(this,et,tt,pt);case"base64":return zt(this,et,tt,pt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wt(this,et,tt,pt);default:if(Ot)throw new TypeError("Unknown encoding: "+vt);vt=(""+vt).toLowerCase(),Ot=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Zt(ut,et,tt){return et===0&&tt===ut.length?o.fromByteArray(ut):o.fromByteArray(ut.slice(et,tt))}function Vt(ut,et,tt){tt=Math.min(ut.length,tt);for(var pt=[],vt=et;vt<tt;){var Nt=ut[vt],Ot=null,bt=Nt>239?4:Nt>223?3:Nt>191?2:1;if(vt+bt<=tt){var $t,Ut,Jt,st;switch(bt){case 1:Nt<128&&(Ot=Nt);break;case 2:$t=ut[vt+1],($t&192)===128&&(st=(Nt&31)<<6|$t&63,st>127&&(Ot=st));break;case 3:$t=ut[vt+1],Ut=ut[vt+2],($t&192)===128&&(Ut&192)===128&&(st=(Nt&15)<<12|($t&63)<<6|Ut&63,st>2047&&(st<55296||st>57343)&&(Ot=st));break;case 4:$t=ut[vt+1],Ut=ut[vt+2],Jt=ut[vt+3],($t&192)===128&&(Ut&192)===128&&(Jt&192)===128&&(st=(Nt&15)<<18|($t&63)<<12|(Ut&63)<<6|Jt&63,st>65535&&st<1114112&&(Ot=st))}}Ot===null?(Ot=65533,bt=1):Ot>65535&&(Ot-=65536,pt.push(Ot>>>10&1023|55296),Ot=56320|Ot&1023),pt.push(Ot),vt+=bt}return Ft(pt)}var Dt=4096;function Ft(ut){var et=ut.length;if(et<=Dt)return String.fromCharCode.apply(String,ut);for(var tt="",pt=0;pt<et;)tt+=String.fromCharCode.apply(String,ut.slice(pt,pt+=Dt));return tt}function jt(ut,et,tt){var pt="";tt=Math.min(ut.length,tt);for(var vt=et;vt<tt;++vt)pt+=String.fromCharCode(ut[vt]&127);return pt}function Tt(ut,et,tt){var pt="";tt=Math.min(ut.length,tt);for(var vt=et;vt<tt;++vt)pt+=String.fromCharCode(ut[vt]);return pt}function xt(ut,et,tt){var pt=ut.length;(!et||et<0)&&(et=0),(!tt||tt<0||tt>pt)&&(tt=pt);for(var vt="",Nt=et;Nt<tt;++Nt)vt+=ir[ut[Nt]];return vt}function Ct(ut,et,tt){for(var pt=ut.slice(et,tt),vt="",Nt=0;Nt<pt.length-1;Nt+=2)vt+=String.fromCharCode(pt[Nt]+pt[Nt+1]*256);return vt}_.prototype.slice=function(et,tt){var pt=this.length;et=~~et,tt=tt===void 0?pt:~~tt,et<0?(et+=pt,et<0&&(et=0)):et>pt&&(et=pt),tt<0?(tt+=pt,tt<0&&(tt=0)):tt>pt&&(tt=pt),tt<et&&(tt=et);var vt=this.subarray(et,tt);return Object.setPrototypeOf(vt,_.prototype),vt};function wt(ut,et,tt){if(ut%1!==0||ut<0)throw new RangeError("offset is not uint");if(ut+et>tt)throw new RangeError("Trying to access beyond buffer length")}_.prototype.readUintLE=_.prototype.readUIntLE=function(et,tt,pt){et=et>>>0,tt=tt>>>0,pt||wt(et,tt,this.length);for(var vt=this[et],Nt=1,Ot=0;++Ot<tt&&(Nt*=256);)vt+=this[et+Ot]*Nt;return vt},_.prototype.readUintBE=_.prototype.readUIntBE=function(et,tt,pt){et=et>>>0,tt=tt>>>0,pt||wt(et,tt,this.length);for(var vt=this[et+--tt],Nt=1;tt>0&&(Nt*=256);)vt+=this[et+--tt]*Nt;return vt},_.prototype.readUint8=_.prototype.readUInt8=function(et,tt){return et=et>>>0,tt||wt(et,1,this.length),this[et]},_.prototype.readUint16LE=_.prototype.readUInt16LE=function(et,tt){return et=et>>>0,tt||wt(et,2,this.length),this[et]|this[et+1]<<8},_.prototype.readUint16BE=_.prototype.readUInt16BE=function(et,tt){return et=et>>>0,tt||wt(et,2,this.length),this[et]<<8|this[et+1]},_.prototype.readUint32LE=_.prototype.readUInt32LE=function(et,tt){return et=et>>>0,tt||wt(et,4,this.length),(this[et]|this[et+1]<<8|this[et+2]<<16)+this[et+3]*16777216},_.prototype.readUint32BE=_.prototype.readUInt32BE=function(et,tt){return et=et>>>0,tt||wt(et,4,this.length),this[et]*16777216+(this[et+1]<<16|this[et+2]<<8|this[et+3])},_.prototype.readIntLE=function(et,tt,pt){et=et>>>0,tt=tt>>>0,pt||wt(et,tt,this.length);for(var vt=this[et],Nt=1,Ot=0;++Ot<tt&&(Nt*=256);)vt+=this[et+Ot]*Nt;return Nt*=128,vt>=Nt&&(vt-=Math.pow(2,8*tt)),vt},_.prototype.readIntBE=function(et,tt,pt){et=et>>>0,tt=tt>>>0,pt||wt(et,tt,this.length);for(var vt=tt,Nt=1,Ot=this[et+--vt];vt>0&&(Nt*=256);)Ot+=this[et+--vt]*Nt;return Nt*=128,Ot>=Nt&&(Ot-=Math.pow(2,8*tt)),Ot},_.prototype.readInt8=function(et,tt){return et=et>>>0,tt||wt(et,1,this.length),this[et]&128?(255-this[et]+1)*-1:this[et]},_.prototype.readInt16LE=function(et,tt){et=et>>>0,tt||wt(et,2,this.length);var pt=this[et]|this[et+1]<<8;return pt&32768?pt|4294901760:pt},_.prototype.readInt16BE=function(et,tt){et=et>>>0,tt||wt(et,2,this.length);var pt=this[et+1]|this[et]<<8;return pt&32768?pt|4294901760:pt},_.prototype.readInt32LE=function(et,tt){return et=et>>>0,tt||wt(et,4,this.length),this[et]|this[et+1]<<8|this[et+2]<<16|this[et+3]<<24},_.prototype.readInt32BE=function(et,tt){return et=et>>>0,tt||wt(et,4,this.length),this[et]<<24|this[et+1]<<16|this[et+2]<<8|this[et+3]},_.prototype.readFloatLE=function(et,tt){return et=et>>>0,tt||wt(et,4,this.length),s.read(this,et,!0,23,4)},_.prototype.readFloatBE=function(et,tt){return et=et>>>0,tt||wt(et,4,this.length),s.read(this,et,!1,23,4)},_.prototype.readDoubleLE=function(et,tt){return et=et>>>0,tt||wt(et,8,this.length),s.read(this,et,!0,52,8)},_.prototype.readDoubleBE=function(et,tt){return et=et>>>0,tt||wt(et,8,this.length),s.read(this,et,!1,52,8)};function It(ut,et,tt,pt,vt,Nt){if(!_.isBuffer(ut))throw new TypeError('"buffer" argument must be a Buffer instance');if(et>vt||et<Nt)throw new RangeError('"value" argument is out of bounds');if(tt+pt>ut.length)throw new RangeError("Index out of range")}_.prototype.writeUintLE=_.prototype.writeUIntLE=function(et,tt,pt,vt){if(et=+et,tt=tt>>>0,pt=pt>>>0,!vt){var Nt=Math.pow(2,8*pt)-1;It(this,et,tt,pt,Nt,0)}var Ot=1,bt=0;for(this[tt]=et&255;++bt<pt&&(Ot*=256);)this[tt+bt]=et/Ot&255;return tt+pt},_.prototype.writeUintBE=_.prototype.writeUIntBE=function(et,tt,pt,vt){if(et=+et,tt=tt>>>0,pt=pt>>>0,!vt){var Nt=Math.pow(2,8*pt)-1;It(this,et,tt,pt,Nt,0)}var Ot=pt-1,bt=1;for(this[tt+Ot]=et&255;--Ot>=0&&(bt*=256);)this[tt+Ot]=et/bt&255;return tt+pt},_.prototype.writeUint8=_.prototype.writeUInt8=function(et,tt,pt){return et=+et,tt=tt>>>0,pt||It(this,et,tt,1,255,0),this[tt]=et&255,tt+1},_.prototype.writeUint16LE=_.prototype.writeUInt16LE=function(et,tt,pt){return et=+et,tt=tt>>>0,pt||It(this,et,tt,2,65535,0),this[tt]=et&255,this[tt+1]=et>>>8,tt+2},_.prototype.writeUint16BE=_.prototype.writeUInt16BE=function(et,tt,pt){return et=+et,tt=tt>>>0,pt||It(this,et,tt,2,65535,0),this[tt]=et>>>8,this[tt+1]=et&255,tt+2},_.prototype.writeUint32LE=_.prototype.writeUInt32LE=function(et,tt,pt){return et=+et,tt=tt>>>0,pt||It(this,et,tt,4,4294967295,0),this[tt+3]=et>>>24,this[tt+2]=et>>>16,this[tt+1]=et>>>8,this[tt]=et&255,tt+4},_.prototype.writeUint32BE=_.prototype.writeUInt32BE=function(et,tt,pt){return et=+et,tt=tt>>>0,pt||It(this,et,tt,4,4294967295,0),this[tt]=et>>>24,this[tt+1]=et>>>16,this[tt+2]=et>>>8,this[tt+3]=et&255,tt+4},_.prototype.writeIntLE=function(et,tt,pt,vt){if(et=+et,tt=tt>>>0,!vt){var Nt=Math.pow(2,8*pt-1);It(this,et,tt,pt,Nt-1,-Nt)}var Ot=0,bt=1,$t=0;for(this[tt]=et&255;++Ot<pt&&(bt*=256);)et<0&&$t===0&&this[tt+Ot-1]!==0&&($t=1),this[tt+Ot]=(et/bt>>0)-$t&255;return tt+pt},_.prototype.writeIntBE=function(et,tt,pt,vt){if(et=+et,tt=tt>>>0,!vt){var Nt=Math.pow(2,8*pt-1);It(this,et,tt,pt,Nt-1,-Nt)}var Ot=pt-1,bt=1,$t=0;for(this[tt+Ot]=et&255;--Ot>=0&&(bt*=256);)et<0&&$t===0&&this[tt+Ot+1]!==0&&($t=1),this[tt+Ot]=(et/bt>>0)-$t&255;return tt+pt},_.prototype.writeInt8=function(et,tt,pt){return et=+et,tt=tt>>>0,pt||It(this,et,tt,1,127,-128),et<0&&(et=255+et+1),this[tt]=et&255,tt+1},_.prototype.writeInt16LE=function(et,tt,pt){return et=+et,tt=tt>>>0,pt||It(this,et,tt,2,32767,-32768),this[tt]=et&255,this[tt+1]=et>>>8,tt+2},_.prototype.writeInt16BE=function(et,tt,pt){return et=+et,tt=tt>>>0,pt||It(this,et,tt,2,32767,-32768),this[tt]=et>>>8,this[tt+1]=et&255,tt+2},_.prototype.writeInt32LE=function(et,tt,pt){return et=+et,tt=tt>>>0,pt||It(this,et,tt,4,2147483647,-2147483648),this[tt]=et&255,this[tt+1]=et>>>8,this[tt+2]=et>>>16,this[tt+3]=et>>>24,tt+4},_.prototype.writeInt32BE=function(et,tt,pt){return et=+et,tt=tt>>>0,pt||It(this,et,tt,4,2147483647,-2147483648),et<0&&(et=4294967295+et+1),this[tt]=et>>>24,this[tt+1]=et>>>16,this[tt+2]=et>>>8,this[tt+3]=et&255,tt+4};function kt(ut,et,tt,pt,vt,Nt){if(tt+pt>ut.length)throw new RangeError("Index out of range");if(tt<0)throw new RangeError("Index out of range")}function Kt(ut,et,tt,pt,vt){return et=+et,tt=tt>>>0,vt||kt(ut,et,tt,4),s.write(ut,et,tt,pt,23,4),tt+4}_.prototype.writeFloatLE=function(et,tt,pt){return Kt(this,et,tt,!0,pt)},_.prototype.writeFloatBE=function(et,tt,pt){return Kt(this,et,tt,!1,pt)};function er(ut,et,tt,pt,vt){return et=+et,tt=tt>>>0,vt||kt(ut,et,tt,8),s.write(ut,et,tt,pt,52,8),tt+8}_.prototype.writeDoubleLE=function(et,tt,pt){return er(this,et,tt,!0,pt)},_.prototype.writeDoubleBE=function(et,tt,pt){return er(this,et,tt,!1,pt)},_.prototype.copy=function(et,tt,pt,vt){if(!_.isBuffer(et))throw new TypeError("argument should be a Buffer");if(pt||(pt=0),!vt&&vt!==0&&(vt=this.length),tt>=et.length&&(tt=et.length),tt||(tt=0),vt>0&&vt<pt&&(vt=pt),vt===pt||et.length===0||this.length===0)return 0;if(tt<0)throw new RangeError("targetStart out of bounds");if(pt<0||pt>=this.length)throw new RangeError("Index out of range");if(vt<0)throw new RangeError("sourceEnd out of bounds");vt>this.length&&(vt=this.length),et.length-tt<vt-pt&&(vt=et.length-tt+pt);var Nt=vt-pt;return this===et&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(tt,pt,vt):Uint8Array.prototype.set.call(et,this.subarray(pt,vt),tt),Nt},_.prototype.fill=function(et,tt,pt,vt){if(typeof et=="string"){if(typeof tt=="string"?(vt=tt,tt=0,pt=this.length):typeof pt=="string"&&(vt=pt,pt=this.length),vt!==void 0&&typeof vt!="string")throw new TypeError("encoding must be a string");if(typeof vt=="string"&&!_.isEncoding(vt))throw new TypeError("Unknown encoding: "+vt);if(et.length===1){var Nt=et.charCodeAt(0);(vt==="utf8"&&Nt<128||vt==="latin1")&&(et=Nt)}}else typeof et=="number"?et=et&255:typeof et=="boolean"&&(et=Number(et));if(tt<0||this.length<tt||this.length<pt)throw new RangeError("Out of range index");if(pt<=tt)return this;tt=tt>>>0,pt=pt===void 0?this.length:pt>>>0,et||(et=0);var Ot;if(typeof et=="number")for(Ot=tt;Ot<pt;++Ot)this[Ot]=et;else{var bt=_.isBuffer(et)?et:_.from(et,vt),$t=bt.length;if($t===0)throw new TypeError('The value "'+et+'" is invalid for argument "value"');for(Ot=0;Ot<pt-tt;++Ot)this[Ot+tt]=bt[Ot%$t]}return this};var Qt=/[^+/0-9A-Za-z-_]/g;function or(ut){if(ut=ut.split("=")[0],ut=ut.trim().replace(Qt,""),ut.length<2)return"";for(;ut.length%4!==0;)ut=ut+"=";return ut}function rr(ut,et){et=et||1/0;for(var tt,pt=ut.length,vt=null,Nt=[],Ot=0;Ot<pt;++Ot){if(tt=ut.charCodeAt(Ot),tt>55295&&tt<57344){if(!vt){if(tt>56319){(et-=3)>-1&&Nt.push(239,191,189);continue}else if(Ot+1===pt){(et-=3)>-1&&Nt.push(239,191,189);continue}vt=tt;continue}if(tt<56320){(et-=3)>-1&&Nt.push(239,191,189),vt=tt;continue}tt=(vt-55296<<10|tt-56320)+65536}else vt&&(et-=3)>-1&&Nt.push(239,191,189);if(vt=null,tt<128){if((et-=1)<0)break;Nt.push(tt)}else if(tt<2048){if((et-=2)<0)break;Nt.push(tt>>6|192,tt&63|128)}else if(tt<65536){if((et-=3)<0)break;Nt.push(tt>>12|224,tt>>6&63|128,tt&63|128)}else if(tt<1114112){if((et-=4)<0)break;Nt.push(tt>>18|240,tt>>12&63|128,tt>>6&63|128,tt&63|128)}else throw new Error("Invalid code point")}return Nt}function nr(ut){for(var et=[],tt=0;tt<ut.length;++tt)et.push(ut.charCodeAt(tt)&255);return et}function ar(ut,et){for(var tt,pt,vt,Nt=[],Ot=0;Ot<ut.length&&!((et-=2)<0);++Ot)tt=ut.charCodeAt(Ot),pt=tt>>8,vt=tt%256,Nt.push(vt),Nt.push(pt);return Nt}function lr(ut){return o.toByteArray(or(ut))}function tr(ut,et,tt,pt){for(var vt=0;vt<pt&&!(vt+tt>=et.length||vt>=ut.length);++vt)et[vt+tt]=ut[vt];return vt}function qt(ut,et){return ut instanceof et||ut!=null&&ut.constructor!=null&&ut.constructor.name!=null&&ut.constructor.name===et.name}function sr(ut){return ut!==ut}var ir=function(){for(var ut="0123456789abcdef",et=new Array(256),tt=0;tt<16;++tt)for(var pt=tt*16,vt=0;vt<16;++vt)et[pt+vt]=ut[tt]+ut[vt];return et}()})(buffer$2);const buffer=getDefaultExportFromCjs(buffer$2);var commonjsGlobal$1=typeof window<"u"?window:typeof dist.global<"u"?dist.global:typeof self<"u"?self:{};function createCommonjsModule$1(e,o){return o={exports:{}},e(o,o.exports),o.exports}var map$1=createCommonjsModule$1(function(e){if(typeof commonjsGlobal$1.Map<"u")e.exports=commonjsGlobal$1.Map,e.exports.Map=commonjsGlobal$1.Map;else{var o=function(a){this._keys=[],this._values={};for(var c=0;c<a.length;c++)if(a[c]!=null){var h=a[c],d=h[0],_=h[1];this._keys.push(d),this._values[d]={v:_,i:this._keys.length-1}}};o.prototype.clear=function(){this._keys=[],this._values={}},o.prototype.delete=function(s){var a=this._values[s];return a==null?!1:(delete this._values[s],this._keys.splice(a.i,1),!0)},o.prototype.entries=function(){var s=this,a=0;return{next:function(){var h=s._keys[a++];return{value:h!==void 0?[h,s._values[h].v]:void 0,done:h===void 0}}}},o.prototype.forEach=function(s,a){a=a||this;for(var c=0;c<this._keys.length;c++){var h=this._keys[c];s.call(a,this._values[h].v,h,a)}},o.prototype.get=function(s){return this._values[s]?this._values[s].v:void 0},o.prototype.has=function(s){return this._values[s]!=null},o.prototype.keys=function(){var s=this,a=0;return{next:function(){var h=s._keys[a++];return{value:h!==void 0?h:void 0,done:h===void 0}}}},o.prototype.set=function(s,a){return this._values[s]?(this._values[s].v=a,this):(this._keys.push(s),this._values[s]={v:a,i:this._keys.length-1},this)},o.prototype.values=function(){var s=this,a=0;return{next:function(){var h=s._keys[a++];return{value:h!==void 0?s._values[h].v:void 0,done:h===void 0}}}},Object.defineProperty(o.prototype,"size",{enumerable:!0,get:function(){return this._keys.length}}),e.exports=o}});map$1.Map;long$1.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}};long$1.fromExtendedJSON=function(e,o){var s=long$1.fromString(e.$numberLong);return o&&o.relaxed?s.toNumber():s};Object.defineProperty(long$1.prototype,"_bsontype",{value:"Long"});var long_1$1=long$1;function _classCallCheck$b(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$b(e,o,s){return o&&_defineProperties$b(e.prototype,o),s&&_defineProperties$b(e,s),e}var Double$1=function(){function e(o){_classCallCheck$b(this,e),this.value=o}return _createClass$b(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(s){return s&&s.relaxed&&isFinite(this.value)?this.value:{$numberDouble:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(s,a){return a&&a.relaxed?parseFloat(s.$numberDouble):new e(parseFloat(s.$numberDouble))}}]),e}();Object.defineProperty(Double$1.prototype,"_bsontype",{value:"Double"});var double_1$1=Double$1;function _typeof$5(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(s){return typeof s}:_typeof$5=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$5(e)}function _classCallCheck$1$1(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1$1(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$1$1(e,o,s){return o&&_defineProperties$1$1(e.prototype,o),s&&_defineProperties$1$1(e,s),e}function _possibleConstructorReturn$1(e,o){return o&&(_typeof$5(o)==="object"||typeof o=="function")?o:_assertThisInitialized$1(e)}function _assertThisInitialized$1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf$1(e){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$1(e)}function _inherits$1(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),o&&_setPrototypeOf$1(e,o)}function _setPrototypeOf$1(e,o){return _setPrototypeOf$1=Object.setPrototypeOf||function(a,c){return a.__proto__=c,a},_setPrototypeOf$1(e,o)}var Timestamp$1=function(e){_inherits$1(o,e);function o(s,a){var c;return _classCallCheck$1$1(this,o),long_1$1.isLong(s)?c=_possibleConstructorReturn$1(this,_getPrototypeOf$1(o).call(this,s.low,s.high)):c=_possibleConstructorReturn$1(this,_getPrototypeOf$1(o).call(this,s,a)),_possibleConstructorReturn$1(c)}return _createClass$1$1(o,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high,i:this.low}}}}],[{key:"fromInt",value:function(a){return new o(long_1$1.fromInt(a))}},{key:"fromNumber",value:function(a){return new o(long_1$1.fromNumber(a))}},{key:"fromBits",value:function(a,c){return new o(a,c)}},{key:"fromString",value:function(a,c){return new o(long_1$1.fromString(a,c))}},{key:"fromExtendedJSON",value:function(a){return new o(a.$timestamp.i,a.$timestamp.t)}}]),o}(long_1$1);Object.defineProperty(Timestamp$1.prototype,"_bsontype",{value:"Timestamp"});var timestamp$2=Timestamp$1,require$$0$1={};function normalizedFunctionString$3(e){return e.toString().replace("function(","function (")}function insecureRandomBytes$1(e){for(var o=new Uint8Array(e),s=0;s<e;++s)o[s]=Math.floor(Math.random()*256);return o}var randomBytes$2=insecureRandomBytes$1;if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues)randomBytes$2=function(o){return window.crypto.getRandomValues(new Uint8Array(o))};else{try{randomBytes$2=require$$0$1.randomBytes}catch{}randomBytes$2==null&&(randomBytes$2=insecureRandomBytes$1)}var utils$1={normalizedFunctionString:normalizedFunctionString$3,randomBytes:randomBytes$2};dist.global.setTimeout;dist.global.clearTimeout;var performance$2=dist.global.performance||{};performance$2.now||performance$2.mozNow||performance$2.msNow||performance$2.oNow||performance$2.webkitNow;var inherits$2;typeof Object.create=="function"?inherits$2=function(o,s){o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:inherits$2=function(o,s){o.super_=s;var a=function(){};a.prototype=s.prototype,o.prototype=new a,o.prototype.constructor=o};var inherits$1$1=inherits$2;function _typeof$1$1(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1$1=function(s){return typeof s}:_typeof$1$1=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$1$1(e)}var formatRegExp$1=/%[sdj%]/g;function format$1(e){if(!isString$1(e)){for(var o=[],s=0;s<arguments.length;s++)o.push(inspect$1(arguments[s]));return o.join(" ")}for(var s=1,a=arguments,c=a.length,h=String(e).replace(formatRegExp$1,function(_){if(_==="%%")return"%";if(s>=c)return _;switch(_){case"%s":return String(a[s++]);case"%d":return Number(a[s++]);case"%j":try{return JSON.stringify(a[s++])}catch{return"[Circular]"}default:return _}}),d=a[s];s<c;d=a[++s])isNull$1(d)||!isObject$1(d)?h+=" "+d:h+=" "+inspect$1(d);return h}function deprecate$2(e,o){if(isUndefined$1(dist.global.process))return function(){return deprecate$2(e,o).apply(this,arguments)};var s=!1;function a(){return s||(console.error(o),s=!0),e.apply(this,arguments)}return a}var debugs$1={},debugEnviron$1;function debuglog$1(e){if(isUndefined$1(debugEnviron$1)&&(debugEnviron$1={}.NODE_DEBUG||""),e=e.toUpperCase(),!debugs$1[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron$1)){var o=0;debugs$1[e]=function(){var s=format$1.apply(null,arguments);console.error("%s %d: %s",e,o,s)}}else debugs$1[e]=function(){};return debugs$1[e]}function inspect$1(e,o){var s={seen:[],stylize:stylizeNoColor$1};return arguments.length>=3&&(s.depth=arguments[2]),arguments.length>=4&&(s.colors=arguments[3]),isBoolean$1(o)?s.showHidden=o:o&&_extend$1(s,o),isUndefined$1(s.showHidden)&&(s.showHidden=!1),isUndefined$1(s.depth)&&(s.depth=2),isUndefined$1(s.colors)&&(s.colors=!1),isUndefined$1(s.customInspect)&&(s.customInspect=!0),s.colors&&(s.stylize=stylizeWithColor$1),formatValue$1(s,e,s.depth)}inspect$1.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect$1.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor$1(e,o){var s=inspect$1.styles[o];return s?"\x1B["+inspect$1.colors[s][0]+"m"+e+"\x1B["+inspect$1.colors[s][1]+"m":e}function stylizeNoColor$1(e,o){return e}function arrayToHash$1(e){var o={};return e.forEach(function(s,a){o[s]=!0}),o}function formatValue$1(e,o,s){if(e.customInspect&&o&&isFunction$1(o.inspect)&&o.inspect!==inspect$1&&!(o.constructor&&o.constructor.prototype===o)){var a=o.inspect(s,e);return isString$1(a)||(a=formatValue$1(e,a,s)),a}var c=formatPrimitive$1(e,o);if(c)return c;var h=Object.keys(o),d=arrayToHash$1(h);if(e.showHidden&&(h=Object.getOwnPropertyNames(o)),isError$1(o)&&(h.indexOf("message")>=0||h.indexOf("description")>=0))return formatError$1(o);if(h.length===0){if(isFunction$1(o)){var _=o.name?": "+o.name:"";return e.stylize("[Function"+_+"]","special")}if(isRegExp$2(o))return e.stylize(RegExp.prototype.toString.call(o),"regexp");if(isDate$3(o))return e.stylize(Date.prototype.toString.call(o),"date");if(isError$1(o))return formatError$1(o)}var b="",$=!1,rt=["{","}"];if(isArray$1(o)&&($=!0,rt=["[","]"]),isFunction$1(o)){var nt=o.name?": "+o.name:"";b=" [Function"+nt+"]"}if(isRegExp$2(o)&&(b=" "+RegExp.prototype.toString.call(o)),isDate$3(o)&&(b=" "+Date.prototype.toUTCString.call(o)),isError$1(o)&&(b=" "+formatError$1(o)),h.length===0&&(!$||o.length==0))return rt[0]+b+rt[1];if(s<0)return isRegExp$2(o)?e.stylize(RegExp.prototype.toString.call(o),"regexp"):e.stylize("[Object]","special");e.seen.push(o);var lt;return $?lt=formatArray$1(e,o,s,d,h):lt=h.map(function(dt){return formatProperty$1(e,o,s,d,dt,$)}),e.seen.pop(),reduceToSingleString$1(lt,b,rt)}function formatPrimitive$1(e,o){if(isUndefined$1(o))return e.stylize("undefined","undefined");if(isString$1(o)){var s="'"+JSON.stringify(o).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(s,"string")}if(isNumber$1(o))return e.stylize(""+o,"number");if(isBoolean$1(o))return e.stylize(""+o,"boolean");if(isNull$1(o))return e.stylize("null","null")}function formatError$1(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray$1(e,o,s,a,c){for(var h=[],d=0,_=o.length;d<_;++d)hasOwnProperty$1(o,String(d))?h.push(formatProperty$1(e,o,s,a,String(d),!0)):h.push("");return c.forEach(function(b){b.match(/^\d+$/)||h.push(formatProperty$1(e,o,s,a,b,!0))}),h}function formatProperty$1(e,o,s,a,c,h){var d,_,b;if(b=Object.getOwnPropertyDescriptor(o,c)||{value:o[c]},b.get?b.set?_=e.stylize("[Getter/Setter]","special"):_=e.stylize("[Getter]","special"):b.set&&(_=e.stylize("[Setter]","special")),hasOwnProperty$1(a,c)||(d="["+c+"]"),_||(e.seen.indexOf(b.value)<0?(isNull$1(s)?_=formatValue$1(e,b.value,null):_=formatValue$1(e,b.value,s-1),_.indexOf(`
`)>-1&&(h?_=_.split(`
`).map(function($){return"  "+$}).join(`
`).substr(2):_=`
`+_.split(`
`).map(function($){return"   "+$}).join(`
`))):_=e.stylize("[Circular]","special")),isUndefined$1(d)){if(h&&c.match(/^\d+$/))return _;d=JSON.stringify(""+c),d.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(d=d.substr(1,d.length-2),d=e.stylize(d,"name")):(d=d.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),d=e.stylize(d,"string"))}return d+": "+_}function reduceToSingleString$1(e,o,s){var a=e.reduce(function(c,h){return h.indexOf(`
`)>=0,c+h.replace(/\u001b\[\d\d?m/g,"").length+1},0);return a>60?s[0]+(o===""?"":o+`
 `)+" "+e.join(`,
  `)+" "+s[1]:s[0]+o+" "+e.join(", ")+" "+s[1]}function isArray$1(e){return Array.isArray(e)}function isBoolean$1(e){return typeof e=="boolean"}function isNull$1(e){return e===null}function isNullOrUndefined$1(e){return e==null}function isNumber$1(e){return typeof e=="number"}function isString$1(e){return typeof e=="string"}function isSymbol$1(e){return _typeof$1$1(e)==="symbol"}function isUndefined$1(e){return e===void 0}function isRegExp$2(e){return isObject$1(e)&&objectToString$1(e)==="[object RegExp]"}function isObject$1(e){return _typeof$1$1(e)==="object"&&e!==null}function isDate$3(e){return isObject$1(e)&&objectToString$1(e)==="[object Date]"}function isError$1(e){return isObject$1(e)&&(objectToString$1(e)==="[object Error]"||e instanceof Error)}function isFunction$1(e){return typeof e=="function"}function isPrimitive$1(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||_typeof$1$1(e)==="symbol"||typeof e>"u"}function isBuffer$1(e){return dist.Buffer.isBuffer(e)}function objectToString$1(e){return Object.prototype.toString.call(e)}function pad$1(e){return e<10?"0"+e.toString(10):e.toString(10)}var months$1=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp$1$1(){var e=new Date,o=[pad$1(e.getHours()),pad$1(e.getMinutes()),pad$1(e.getSeconds())].join(":");return[e.getDate(),months$1[e.getMonth()],o].join(" ")}function log$1(){console.log("%s - %s",timestamp$1$1(),format$1.apply(null,arguments))}function _extend$1(e,o){if(!o||!isObject$1(o))return e;for(var s=Object.keys(o),a=s.length;a--;)e[s[a]]=o[s[a]];return e}function hasOwnProperty$1(e,o){return Object.prototype.hasOwnProperty.call(e,o)}var util$1={inherits:inherits$1$1,_extend:_extend$1,log:log$1,isBuffer:isBuffer$1,isPrimitive:isPrimitive$1,isFunction:isFunction$1,isError:isError$1,isDate:isDate$3,isObject:isObject$1,isRegExp:isRegExp$2,isUndefined:isUndefined$1,isSymbol:isSymbol$1,isString:isString$1,isNumber:isNumber$1,isNullOrUndefined:isNullOrUndefined$1,isNull:isNull$1,isBoolean:isBoolean$1,isArray:isArray$1,inspect:inspect$1,deprecate:deprecate$2,format:format$1,debuglog:debuglog$1};function _classCallCheck$2$1(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2$1(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$2$1(e,o,s){return o&&_defineProperties$2$1(e.prototype,o),s&&_defineProperties$2$1(e,s),e}var Buffer$1$1=buffer.Buffer,randomBytes$1$1=utils$1.randomBytes,deprecate$1$1=util$1.deprecate,PROCESS_UNIQUE$1=randomBytes$1$1(5),checkForHexRegExp$1=new RegExp("^[0-9a-fA-F]{24}$"),hasBufferType$1=!1;try{Buffer$1$1&&Buffer$1$1.from&&(hasBufferType$1=!0)}catch{hasBufferType$1=!1}var hexTable$1=[];for(var _i$1=0;_i$1<256;_i$1++)hexTable$1[_i$1]=(_i$1<=15?"0":"")+_i$1.toString(16);var decodeLookup$1=[],i$1=0;for(;i$1<10;)decodeLookup$1[48+i$1]=i$1++;for(;i$1<16;)decodeLookup$1[65-10+i$1]=decodeLookup$1[97-10+i$1]=i$1++;var _Buffer$1=Buffer$1$1;function convertToHex$1(e){return e.toString("hex")}function makeObjectIdError$1(e,o){var s=e[o];return new TypeError('ObjectId string "'.concat(e,'" contains invalid character "').concat(s,'" with character code (').concat(e.charCodeAt(o),"). All character codes for a non-hex string must be less than 256."))}var ObjectId$1=function(){function e(o){if(_classCallCheck$2$1(this,e),o instanceof e)return o;if(o==null||typeof o=="number"){this.id=e.generate(o),e.cacheHexString&&(this.__id=this.toString("hex"));return}var s=e.isValid(o);if(!s&&o!=null)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(s&&typeof o=="string"&&o.length===24&&hasBufferType$1)return new e(Buffer$1$1.from(o,"hex"));if(s&&typeof o=="string"&&o.length===24)return e.createFromHexString(o);if(o!=null&&o.length===12)this.id=o;else{if(o!=null&&o.toHexString)return e.createFromHexString(o.toHexString());throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}e.cacheHexString&&(this.__id=this.toString("hex"))}return _createClass$2$1(e,[{key:"toHexString",value:function(){if(e.cacheHexString&&this.__id)return this.__id;var s="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof _Buffer$1)return s=convertToHex$1(this.id),e.cacheHexString&&(this.__id=s),s;for(var a=0;a<this.id.length;a++){var c=hexTable$1[this.id.charCodeAt(a)];if(typeof c!="string")throw makeObjectIdError$1(this.id,a);s+=c}return e.cacheHexString&&(this.__id=s),s}},{key:"toString",value:function(s){return this.id&&this.id.copy?this.id.toString(typeof s=="string"?s:"hex"):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(s){return s instanceof e?this.toString()===s.toString():typeof s=="string"&&e.isValid(s)&&s.length===12&&this.id instanceof _Buffer$1?s===this.id.toString("binary"):typeof s=="string"&&e.isValid(s)&&s.length===24?s.toLowerCase()===this.toHexString():typeof s=="string"&&e.isValid(s)&&s.length===12?s===this.id:s!=null&&(s instanceof e||s.toHexString)?s.toHexString()===this.toHexString():!1}},{key:"getTimestamp",value:function(){var s=new Date,a=this.id.readUInt32BE(0);return s.setTime(Math.floor(a)*1e3),s}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}}],[{key:"getInc",value:function(){return e.index=(e.index+1)%16777215}},{key:"generate",value:function(s){typeof s!="number"&&(s=~~(Date.now()/1e3));var a=e.getInc(),c=Buffer$1$1.alloc(12);return c[3]=s&255,c[2]=s>>8&255,c[1]=s>>16&255,c[0]=s>>24&255,c[4]=PROCESS_UNIQUE$1[0],c[5]=PROCESS_UNIQUE$1[1],c[6]=PROCESS_UNIQUE$1[2],c[7]=PROCESS_UNIQUE$1[3],c[8]=PROCESS_UNIQUE$1[4],c[11]=a&255,c[10]=a>>8&255,c[9]=a>>16&255,c}},{key:"createPk",value:function(){return new e}},{key:"createFromTime",value:function(s){var a=Buffer$1$1.from([0,0,0,0,0,0,0,0,0,0,0,0]);return a[3]=s&255,a[2]=s>>8&255,a[1]=s>>16&255,a[0]=s>>24&255,new e(a)}},{key:"createFromHexString",value:function(s){if(typeof s>"u"||s!=null&&s.length!==24)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(hasBufferType$1)return new e(Buffer$1$1.from(s,"hex"));for(var a=new _Buffer$1(12),c=0,h=0;h<24;)a[c++]=decodeLookup$1[s.charCodeAt(h++)]<<4|decodeLookup$1[s.charCodeAt(h++)];return new e(a)}},{key:"isValid",value:function(s){return s==null?!1:typeof s=="number"?!0:typeof s=="string"?s.length===12||s.length===24&&checkForHexRegExp$1.test(s):s instanceof e||s instanceof _Buffer$1&&s.length===12?!0:s.toHexString?s.id.length===12||s.id.length===24&&checkForHexRegExp$1.test(s.id):!1}},{key:"fromExtendedJSON",value:function(s){return new e(s.$oid)}}]),e}();ObjectId$1.get_inc=deprecate$1$1(function(){return ObjectId$1.getInc()},"Please use the static `ObjectId.getInc()` instead");ObjectId$1.prototype.get_inc=deprecate$1$1(function(){return ObjectId$1.getInc()},"Please use the static `ObjectId.getInc()` instead");ObjectId$1.prototype.getInc=deprecate$1$1(function(){return ObjectId$1.getInc()},"Please use the static `ObjectId.getInc()` instead");ObjectId$1.prototype.generate=deprecate$1$1(function(e){return ObjectId$1.generate(e)},"Please use the static `ObjectId.generate(time)` instead");Object.defineProperty(ObjectId$1.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(o){this.id[3]=o&255,this.id[2]=o>>8&255,this.id[1]=o>>16&255,this.id[0]=o>>24&255}});ObjectId$1.prototype[util$1.inspect.custom||"inspect"]=ObjectId$1.prototype.toString;ObjectId$1.index=~~(Math.random()*16777215);Object.defineProperty(ObjectId$1.prototype,"_bsontype",{value:"ObjectID"});var objectid$1=ObjectId$1;function _classCallCheck$3$1(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3$1(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$3$1(e,o,s){return o&&_defineProperties$3$1(e.prototype,o),s&&_defineProperties$3$1(e,s),e}function alphabetize$1(e){return e.split("").sort().join("")}var BSONRegExp$1=function(){function e(o,s){_classCallCheck$3$1(this,e),this.pattern=o||"",this.options=s?alphabetize$1(s):"";for(var a=0;a<this.options.length;a++)if(!(this.options[a]==="i"||this.options[a]==="m"||this.options[a]==="x"||this.options[a]==="l"||this.options[a]==="s"||this.options[a]==="u"))throw new Error("The regular expression option [".concat(this.options[a],"] is not supported"))}return _createClass$3$1(e,[{key:"toExtendedJSON",value:function(){return{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"fromExtendedJSON",value:function(s){return new e(s.$regularExpression.pattern,s.$regularExpression.options.split("").sort().join(""))}}]),e}();Object.defineProperty(BSONRegExp$1.prototype,"_bsontype",{value:"BSONRegExp"});var regexp$2=BSONRegExp$1;function _classCallCheck$4$1(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4$1(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$4$1(e,o,s){return o&&_defineProperties$4$1(e.prototype,o),s&&_defineProperties$4$1(e,s),e}var BSONSymbol$1=function(){function e(o){_classCallCheck$4$1(this,e),this.value=o}return _createClass$4$1(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(s){return new e(s.$symbol)}}]),e}();Object.defineProperty(BSONSymbol$1.prototype,"_bsontype",{value:"Symbol"});var symbol$1=BSONSymbol$1;function _classCallCheck$5$1(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5$1(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$5$1(e,o,s){return o&&_defineProperties$5$1(e.prototype,o),s&&_defineProperties$5$1(e,s),e}var Int32$1=function(){function e(o){_classCallCheck$5$1(this,e),this.value=o}return _createClass$5$1(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(s){return s&&s.relaxed?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(s,a){return a&&a.relaxed?parseInt(s.$numberInt,10):new e(s.$numberInt)}}]),e}();Object.defineProperty(Int32$1.prototype,"_bsontype",{value:"Int32"});var int_32$1=Int32$1;function _classCallCheck$6$1(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6$1(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$6$1(e,o,s){return o&&_defineProperties$6$1(e.prototype,o),s&&_defineProperties$6$1(e,s),e}var Code$1=function(){function e(o,s){_classCallCheck$6$1(this,e),this.code=o,this.scope=s}return _createClass$6$1(e,[{key:"toJSON",value:function(){return{scope:this.scope,code:this.code}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(s){return new e(s.$code,s.$scope)}}]),e}();Object.defineProperty(Code$1.prototype,"_bsontype",{value:"Code"});var code$1=Code$1,Buffer$2$1=buffer.Buffer,PARSE_STRING_REGEXP$1=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,PARSE_INF_REGEXP$1=/^(\+|-)?(Infinity|inf)$/i,PARSE_NAN_REGEXP$1=/^(\+|-)?NaN$/i,EXPONENT_MAX$1=6111,EXPONENT_MIN$1=-6176,EXPONENT_BIAS$1=6176,MAX_DIGITS$1=34,NAN_BUFFER$1=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_NEGATIVE_BUFFER$1=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_POSITIVE_BUFFER$1=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),EXPONENT_REGEX$1=/^([-+])?(\d+)?$/;function isDigit$1(e){return!isNaN(parseInt(e,10))}function divideu128$1(e){var o=long_1$1.fromNumber(1e9),s=long_1$1.fromNumber(0);if(!e.parts[0]&&!e.parts[1]&&!e.parts[2]&&!e.parts[3])return{quotient:e,rem:s};for(var a=0;a<=3;a++)s=s.shiftLeft(32),s=s.add(new long_1$1(e.parts[a],0)),e.parts[a]=s.div(o).low,s=s.modulo(o);return{quotient:e,rem:s}}function multiply64x2$1(e,o){if(!e&&!o)return{high:long_1$1.fromNumber(0),low:long_1$1.fromNumber(0)};var s=e.shiftRightUnsigned(32),a=new long_1$1(e.getLowBits(),0),c=o.shiftRightUnsigned(32),h=new long_1$1(o.getLowBits(),0),d=s.multiply(c),_=s.multiply(h),b=a.multiply(c),$=a.multiply(h);return d=d.add(_.shiftRightUnsigned(32)),_=new long_1$1(_.getLowBits(),0).add(b).add($.shiftRightUnsigned(32)),d=d.add(_.shiftRightUnsigned(32)),$=_.shiftLeft(32).add(new long_1$1($.getLowBits(),0)),{high:d,low:$}}function lessThan$1(e,o){var s=e.high>>>0,a=o.high>>>0;if(s<a)return!0;if(s===a){var c=e.low>>>0,h=o.low>>>0;if(c<h)return!0}return!1}function invalidErr$1(e,o){throw new TypeError('"'.concat(e,'" is not a valid Decimal128 string - ').concat(o))}function Decimal128$1(e){this.bytes=e}Decimal128$1.fromString=function(e){var o=!1,s=!1,a=!1,c=0,h=0,d=0,_=0,b=0,$=[0],rt=0,nt=0,lt=0,dt=0,gt=0,Et=0,ht=[0,0],ot=[0,0],ct=0,it=0;if(e.length>=7e3)throw new TypeError(""+e+" not a valid Decimal128 string");var at=e.match(PARSE_STRING_REGEXP$1),yt=e.match(PARSE_INF_REGEXP$1),St=e.match(PARSE_NAN_REGEXP$1);if(!at&&!yt&&!St||e.length===0)throw new TypeError(""+e+" not a valid Decimal128 string");if(at){var Rt=at[2],Bt=at[4],Lt=at[5],Pt=at[6];Bt&&Pt===void 0&&invalidErr$1(e,"missing exponent power"),Bt&&Rt===void 0&&invalidErr$1(e,"missing exponent base"),Bt===void 0&&(Lt||Pt)&&invalidErr$1(e,"missing e before exponent")}if((e[it]==="+"||e[it]==="-")&&(o=e[it++]==="-"),!isDigit$1(e[it])&&e[it]!=="."){if(e[it]==="i"||e[it]==="I")return new Decimal128$1(Buffer$2$1.from(o?INF_NEGATIVE_BUFFER$1:INF_POSITIVE_BUFFER$1));if(e[it]==="N")return new Decimal128$1(Buffer$2$1.from(NAN_BUFFER$1))}for(;isDigit$1(e[it])||e[it]===".";){if(e[it]==="."){s&&invalidErr$1(e,"contains multiple periods"),s=!0,it=it+1;continue}rt<34&&(e[it]!=="0"||a)&&(a||(b=h),a=!0,$[nt++]=parseInt(e[it],10),rt=rt+1),a&&(d=d+1),s&&(_=_+1),h=h+1,it=it+1}if(s&&!h)throw new TypeError(""+e+" not a valid Decimal128 string");if(e[it]==="e"||e[it]==="E"){var zt=e.substr(++it).match(EXPONENT_REGEX$1);if(!zt||!zt[2])return new Decimal128$1(Buffer$2$1.from(NAN_BUFFER$1));gt=parseInt(zt[0],10),it=it+zt[0].length}if(e[it])return new Decimal128$1(Buffer$2$1.from(NAN_BUFFER$1));if(lt=0,!rt)lt=0,dt=0,$[0]=0,d=1,rt=1,c=0;else if(dt=rt-1,c=d,c!==1)for(;e[b+c-1]==="0";)c=c-1;for(gt<=_&&_-gt>16384?gt=EXPONENT_MIN$1:gt=gt-_;gt>EXPONENT_MAX$1;){if(dt=dt+1,dt-lt>MAX_DIGITS$1){var Wt=$.join("");if(Wt.match(/^0+$/)){gt=EXPONENT_MAX$1;break}invalidErr$1(e,"overflow")}gt=gt-1}for(;gt<EXPONENT_MIN$1||rt<d;){if(dt===0&&c<rt){gt=EXPONENT_MIN$1,c=0;break}if(rt<d?d=d-1:dt=dt-1,gt<EXPONENT_MAX$1)gt=gt+1;else{var Zt=$.join("");if(Zt.match(/^0+$/)){gt=EXPONENT_MAX$1;break}invalidErr$1(e,"overflow")}}if(dt-lt+1<c){var Vt=h;s&&(b=b+1,Vt=Vt+1),o&&(b=b+1,Vt=Vt+1);var Dt=parseInt(e[b+dt+1],10),Ft=0;if(Dt>=5&&(Ft=1,Dt===5)){for(Ft=$[dt]%2===1,Et=b+dt+2;Et<Vt;Et++)if(parseInt(e[Et],10)){Ft=1;break}}if(Ft){for(var jt=dt;jt>=0;jt--)if(++$[jt]>9&&($[jt]=0,jt===0))if(gt<EXPONENT_MAX$1)gt=gt+1,$[jt]=1;else return new Decimal128$1(Buffer$2$1.from(o?INF_NEGATIVE_BUFFER$1:INF_POSITIVE_BUFFER$1))}}if(ht=long_1$1.fromNumber(0),ot=long_1$1.fromNumber(0),c===0)ht=long_1$1.fromNumber(0),ot=long_1$1.fromNumber(0);else if(dt-lt<17){var Tt=lt;for(ot=long_1$1.fromNumber($[Tt++]),ht=new long_1$1(0,0);Tt<=dt;Tt++)ot=ot.multiply(long_1$1.fromNumber(10)),ot=ot.add(long_1$1.fromNumber($[Tt]))}else{var xt=lt;for(ht=long_1$1.fromNumber($[xt++]);xt<=dt-17;xt++)ht=ht.multiply(long_1$1.fromNumber(10)),ht=ht.add(long_1$1.fromNumber($[xt]));for(ot=long_1$1.fromNumber($[xt++]);xt<=dt;xt++)ot=ot.multiply(long_1$1.fromNumber(10)),ot=ot.add(long_1$1.fromNumber($[xt]))}var Ct=multiply64x2$1(ht,long_1$1.fromString("100000000000000000"));Ct.low=Ct.low.add(ot),lessThan$1(Ct.low,ot)&&(Ct.high=Ct.high.add(long_1$1.fromNumber(1))),ct=gt+EXPONENT_BIAS$1;var wt={low:long_1$1.fromNumber(0),high:long_1$1.fromNumber(0)};Ct.high.shiftRightUnsigned(49).and(long_1$1.fromNumber(1)).equals(long_1$1.fromNumber(1))?(wt.high=wt.high.or(long_1$1.fromNumber(3).shiftLeft(61)),wt.high=wt.high.or(long_1$1.fromNumber(ct).and(long_1$1.fromNumber(16383).shiftLeft(47))),wt.high=wt.high.or(Ct.high.and(long_1$1.fromNumber(0x7fffffffffff)))):(wt.high=wt.high.or(long_1$1.fromNumber(ct&16383).shiftLeft(49)),wt.high=wt.high.or(Ct.high.and(long_1$1.fromNumber(562949953421311)))),wt.low=Ct.low,o&&(wt.high=wt.high.or(long_1$1.fromString("9223372036854775808")));var It=Buffer$2$1.alloc(16);return it=0,It[it++]=wt.low.low&255,It[it++]=wt.low.low>>8&255,It[it++]=wt.low.low>>16&255,It[it++]=wt.low.low>>24&255,It[it++]=wt.low.high&255,It[it++]=wt.low.high>>8&255,It[it++]=wt.low.high>>16&255,It[it++]=wt.low.high>>24&255,It[it++]=wt.high.low&255,It[it++]=wt.high.low>>8&255,It[it++]=wt.high.low>>16&255,It[it++]=wt.high.low>>24&255,It[it++]=wt.high.high&255,It[it++]=wt.high.high>>8&255,It[it++]=wt.high.high>>16&255,It[it++]=wt.high.high>>24&255,new Decimal128$1(It)};var COMBINATION_MASK$1=31,EXPONENT_MASK$1=16383,COMBINATION_INFINITY$1=30,COMBINATION_NAN$1=31;Decimal128$1.prototype.toString=function(){for(var e,o,s,a,c,h,d=0,_=new Array(36),b=0;b<_.length;b++)_[b]=0;var $=0,rt,nt,lt=!1,dt,gt={parts:new Array(4)},Et,ht,ot=[];$=0;var ct=this.bytes;a=ct[$++]|ct[$++]<<8|ct[$++]<<16|ct[$++]<<24,s=ct[$++]|ct[$++]<<8|ct[$++]<<16|ct[$++]<<24,o=ct[$++]|ct[$++]<<8|ct[$++]<<16|ct[$++]<<24,e=ct[$++]|ct[$++]<<8|ct[$++]<<16|ct[$++]<<24,$=0;var it={low:new long_1$1(a,s),high:new long_1$1(o,e)};if(it.high.lessThan(long_1$1.ZERO)&&ot.push("-"),c=e>>26&COMBINATION_MASK$1,c>>3===3){if(c===COMBINATION_INFINITY$1)return ot.join("")+"Infinity";if(c===COMBINATION_NAN$1)return"NaN";h=e>>15&EXPONENT_MASK$1,dt=8+(e>>14&1)}else dt=e>>14&7,h=e>>17&EXPONENT_MASK$1;if(rt=h-EXPONENT_BIAS$1,gt.parts[0]=(e&16383)+((dt&15)<<14),gt.parts[1]=o,gt.parts[2]=s,gt.parts[3]=a,gt.parts[0]===0&&gt.parts[1]===0&&gt.parts[2]===0&&gt.parts[3]===0)lt=!0;else for(ht=3;ht>=0;ht--){var at=0,yt=divideu128$1(gt);if(gt=yt.quotient,at=yt.rem.low,!!at)for(Et=8;Et>=0;Et--)_[ht*9+Et]=at%10,at=Math.floor(at/10)}if(lt)d=1,_[$]=0;else for(d=36;!_[$];)d=d-1,$=$+1;if(nt=d-1+rt,nt>=34||nt<=-7||rt>0){if(d>34)return ot.push(0),rt>0?ot.push("E+"+rt):rt<0&&ot.push("E"+rt),ot.join("");ot.push(_[$++]),d=d-1,d&&ot.push(".");for(var St=0;St<d;St++)ot.push(_[$++]);ot.push("E"),nt>0?ot.push("+"+nt):ot.push(nt)}else if(rt>=0)for(var Rt=0;Rt<d;Rt++)ot.push(_[$++]);else{var Bt=d+rt;if(Bt>0)for(var Lt=0;Lt<Bt;Lt++)ot.push(_[$++]);else ot.push("0");for(ot.push(".");Bt++<0;)ot.push("0");for(var Pt=0;Pt<d-Math.max(Bt-1,0);Pt++)ot.push(_[$++])}return ot.join("")};Decimal128$1.prototype.toJSON=function(){return{$numberDecimal:this.toString()}};Decimal128$1.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}};Decimal128$1.fromExtendedJSON=function(e){return Decimal128$1.fromString(e.$numberDecimal)};Object.defineProperty(Decimal128$1.prototype,"_bsontype",{value:"Decimal128"});var decimal128$1=Decimal128$1;function _classCallCheck$7$1(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7$1(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$7$1(e,o,s){return o&&_defineProperties$7$1(e.prototype,o),s&&_defineProperties$7$1(e,s),e}var MinKey$1=function(){function e(){_classCallCheck$7$1(this,e)}return _createClass$7$1(e,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MinKey$1.prototype,"_bsontype",{value:"MinKey"});var min_key$1=MinKey$1;function _classCallCheck$8$1(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8$1(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$8$1(e,o,s){return o&&_defineProperties$8$1(e.prototype,o),s&&_defineProperties$8$1(e,s),e}var MaxKey$1=function(){function e(){_classCallCheck$8$1(this,e)}return _createClass$8$1(e,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MaxKey$1.prototype,"_bsontype",{value:"MaxKey"});var max_key$1=MaxKey$1;function _classCallCheck$9$1(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9$1(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$9$1(e,o,s){return o&&_defineProperties$9$1(e.prototype,o),s&&_defineProperties$9$1(e,s),e}var DBRef$1=function(){function e(o,s,a,c){_classCallCheck$9$1(this,e);var h=o.split(".");h.length===2&&(a=h.shift(),o=h.shift()),this.collection=o,this.oid=s,this.db=a,this.fields=c||{}}return _createClass$9$1(e,[{key:"toJSON",value:function(){var s=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(s.$db=this.db),s}},{key:"toExtendedJSON",value:function(){var s={$ref:this.collection,$id:this.oid};return this.db&&(s.$db=this.db),s=Object.assign(s,this.fields),s}}],[{key:"fromExtendedJSON",value:function(s){var a=Object.assign({},s);return["$ref","$id","$db"].forEach(function(c){return delete a[c]}),new e(s.$ref,s.$id,s.$db,a)}}]),e}();Object.defineProperty(DBRef$1.prototype,"_bsontype",{value:"DBRef"});Object.defineProperty(DBRef$1.prototype,"namespace",{get:function(){return this.collection},set:function(o){this.collection=o},configurable:!1});var db_ref$1=DBRef$1;function _classCallCheck$a$1(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a$1(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$a$1(e,o,s){return o&&_defineProperties$a$1(e.prototype,o),s&&_defineProperties$a$1(e,s),e}var Buffer$3$1=buffer.Buffer,Binary$1=function(){function e(o,s){if(_classCallCheck$a$1(this,e),o!=null&&typeof o!="string"&&!Buffer$3$1.isBuffer(o)&&!(o instanceof Uint8Array)&&!Array.isArray(o))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");if(this.sub_type=s??BSON_BINARY_SUBTYPE_DEFAULT$1,this.position=0,o!=null&&!(o instanceof Number)){if(typeof o=="string")if(typeof Buffer$3$1<"u")this.buffer=Buffer$3$1.from(o);else if(typeof Uint8Array<"u"||Array.isArray(o))this.buffer=writeStringToArray$1(o);else throw new TypeError("only String, Buffer, Uint8Array or Array accepted");else this.buffer=o;this.position=o.length}else typeof Buffer$3$1<"u"?this.buffer=Buffer$3$1.alloc(e.BUFFER_SIZE):typeof Uint8Array<"u"?this.buffer=new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE)):this.buffer=new Array(e.BUFFER_SIZE)}return _createClass$a$1(e,[{key:"put",value:function(s){if(s.length!=null&&typeof s!="number"&&s.length!==1)throw new TypeError("only accepts single character String, Uint8Array or Array");if(typeof s!="number"&&s<0||s>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");var a=null;if(typeof s=="string"?a=s.charCodeAt(0):s.length!=null?a=s[0]:a=s,this.buffer.length>this.position)this.buffer[this.position++]=a;else if(typeof Buffer$3$1<"u"&&Buffer$3$1.isBuffer(this.buffer)){var c=Buffer$3$1.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(c,0,0,this.buffer.length),this.buffer=c,this.buffer[this.position++]=a}else{var h=null;isUint8Array$1(this.buffer)?h=new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE+this.buffer.length)):h=new Array(e.BUFFER_SIZE+this.buffer.length);for(var d=0;d<this.buffer.length;d++)h[d]=this.buffer[d];this.buffer=h,this.buffer[this.position++]=a}}},{key:"write",value:function(s,a){if(a=typeof a=="number"?a:this.position,this.buffer.length<a+s.length){var c=null;if(typeof Buffer$3$1<"u"&&Buffer$3$1.isBuffer(this.buffer))c=Buffer$3$1.alloc(this.buffer.length+s.length),this.buffer.copy(c,0,0,this.buffer.length);else if(isUint8Array$1(this.buffer)){c=new Uint8Array(new ArrayBuffer(this.buffer.length+s.length));for(var h=0;h<this.position;h++)c[h]=this.buffer[h]}this.buffer=c}if(typeof Buffer$3$1<"u"&&Buffer$3$1.isBuffer(s)&&Buffer$3$1.isBuffer(this.buffer))s.copy(this.buffer,a,0,s.length),this.position=a+s.length>this.position?a+s.length:this.position;else if(typeof Buffer$3$1<"u"&&typeof s=="string"&&Buffer$3$1.isBuffer(this.buffer))this.buffer.write(s,a,"binary"),this.position=a+s.length>this.position?a+s.length:this.position;else if(isUint8Array$1(s)||Array.isArray(s)&&typeof s!="string"){for(var d=0;d<s.length;d++)this.buffer[a++]=s[d];this.position=a>this.position?a:this.position}else if(typeof s=="string"){for(var _=0;_<s.length;_++)this.buffer[a++]=s.charCodeAt(_);this.position=a>this.position?a:this.position}}},{key:"read",value:function(s,a){if(a=a&&a>0?a:this.position,this.buffer.slice)return this.buffer.slice(s,s+a);for(var c=typeof Uint8Array<"u"?new Uint8Array(new ArrayBuffer(a)):new Array(a),h=0;h<a;h++)c[h]=this.buffer[s++];return c}},{key:"value",value:function(s){if(s=s??!1,s&&typeof Buffer$3$1<"u"&&Buffer$3$1.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(typeof Buffer$3$1<"u"&&Buffer$3$1.isBuffer(this.buffer))return s?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(s){if(this.buffer.slice!=null)return this.buffer.slice(0,this.position);for(var a=isUint8Array$1(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),c=0;c<this.position;c++)a[c]=this.buffer[c];return a}else return convertArraytoUtf8BinaryString$1(this.buffer,0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return this.buffer!=null?this.buffer.toString("base64"):""}},{key:"toString",value:function(s){return this.buffer!=null?this.buffer.slice(0,this.position).toString(s):""}},{key:"toExtendedJSON",value:function(){var s=Buffer$3$1.isBuffer(this.buffer)?this.buffer.toString("base64"):Buffer$3$1.from(this.buffer).toString("base64"),a=Number(this.sub_type).toString(16);return{$binary:{base64:s,subType:a.length===1?"0"+a:a}}}}],[{key:"fromExtendedJSON",value:function(s){var a=s.$binary.subType?parseInt(s.$binary.subType,16):0,c=Buffer$3$1.from(s.$binary.base64,"base64");return new e(c,a)}}]),e}(),BSON_BINARY_SUBTYPE_DEFAULT$1=0;function isUint8Array$1(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}function writeStringToArray$1(e){for(var o=typeof Uint8Array<"u"?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),s=0;s<e.length;s++)o[s]=e.charCodeAt(s);return o}function convertArraytoUtf8BinaryString$1(e,o,s){for(var a="",c=o;c<s;c++)a=a+String.fromCharCode(e[c]);return a}Binary$1.BUFFER_SIZE=256;Binary$1.SUBTYPE_DEFAULT=0;Binary$1.SUBTYPE_FUNCTION=1;Binary$1.SUBTYPE_BYTE_ARRAY=2;Binary$1.SUBTYPE_UUID_OLD=3;Binary$1.SUBTYPE_UUID=4;Binary$1.SUBTYPE_MD5=5;Binary$1.SUBTYPE_USER_DEFINED=128;Object.defineProperty(Binary$1.prototype,"_bsontype",{value:"Binary"});var binary$1=Binary$1,constants$1={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,BSON_INT64_MAX:Math.pow(2,63)-1,BSON_INT64_MIN:-Math.pow(2,63),JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992,BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_DBPOINTER:12,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128};function _typeof$2$1(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2$1=function(s){return typeof s}:_typeof$2$1=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$2$1(e)}var keysToCodecs$1={$oid:objectid$1,$binary:binary$1,$symbol:symbol$1,$numberInt:int_32$1,$numberDecimal:decimal128$1,$numberDouble:double_1$1,$numberLong:long_1$1,$minKey:min_key$1,$maxKey:max_key$1,$regularExpression:regexp$2,$timestamp:timestamp$2};function deserializeValue$1(e,o,s,a){if(typeof s=="number"){if(a.relaxed)return s;if(Math.floor(s)===s){if(s>=BSON_INT32_MIN$1&&s<=BSON_INT32_MAX$1)return new int_32$1(s);if(s>=BSON_INT64_MIN$1&&s<=BSON_INT64_MAX$1)return new long_1$1.fromNumber(s)}return new double_1$1(s)}if(s==null||_typeof$2$1(s)!=="object")return s;if(s.$undefined)return null;for(var c=Object.keys(s).filter(function(dt){return dt.startsWith("$")&&s[dt]!=null}),h=0;h<c.length;h++){var d=keysToCodecs$1[c[h]];if(d)return d.fromExtendedJSON(s,a)}if(s.$date!=null){var _=s.$date,b=new Date;return typeof _=="string"?b.setTime(Date.parse(_)):long_1$1.isLong(_)?b.setTime(_.toNumber()):typeof _=="number"&&a.relaxed&&b.setTime(_),b}if(s.$code!=null){var $=Object.assign({},s);return s.$scope&&($.$scope=deserializeValue$1(e,null,s.$scope)),code$1.fromExtendedJSON(s)}if(s.$ref!=null||s.$dbPointer!=null){var rt=s.$ref?s:s.$dbPointer;if(rt instanceof db_ref$1)return rt;var nt=Object.keys(rt).filter(function(dt){return dt.startsWith("$")}),lt=!0;if(nt.forEach(function(dt){["$ref","$id","$db"].indexOf(dt)===-1&&(lt=!1)}),lt)return db_ref$1.fromExtendedJSON(rt)}return s}function parse$1(e,o){var s=this;return o=Object.assign({},{relaxed:!0},o),typeof o.relaxed=="boolean"&&(o.strict=!o.relaxed),typeof o.strict=="boolean"&&(o.relaxed=!o.strict),JSON.parse(e,function(a,c){return deserializeValue$1(s,a,c,o)})}var BSON_INT32_MAX$1=2147483647,BSON_INT32_MIN$1=-2147483648,BSON_INT64_MAX$1=9223372036854776e3,BSON_INT64_MIN$1=-9223372036854776e3;function stringify$1(e,o,s,a){s!=null&&_typeof$2$1(s)==="object"&&(a=s,s=0),o!=null&&_typeof$2$1(o)==="object"&&!Array.isArray(o)&&(a=o,o=null,s=0),a=Object.assign({},{relaxed:!0},a);var c=Array.isArray(e)?serializeArray$1(e,a):serializeDocument$1(e,a);return JSON.stringify(c,o,s)}function serialize$2(e,o){return o=o||{},JSON.parse(stringify$1(e,o))}function deserialize$3(e,o){return o=o||{},parse$1(JSON.stringify(e),o)}function serializeArray$1(e,o){return e.map(function(s){return serializeValue$1(s,o)})}function getISOString$1(e){var o=e.toISOString();return e.getUTCMilliseconds()!==0?o:o.slice(0,-5)+"Z"}function serializeValue$1(e,o){if(Array.isArray(e))return serializeArray$1(e,o);if(e===void 0)return null;if(e instanceof Date){var s=e.getTime(),a=s>-1&&s<2534023188e5;return o.relaxed&&a?{$date:getISOString$1(e)}:{$date:{$numberLong:e.getTime().toString()}}}if(typeof e=="number"&&!o.relaxed){if(Math.floor(e)===e){var c=e>=BSON_INT32_MIN$1&&e<=BSON_INT32_MAX$1,h=e>=BSON_INT64_MIN$1&&e<=BSON_INT64_MAX$1;if(c)return{$numberInt:e.toString()};if(h)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var d=e.flags;d===void 0&&(d=e.toString().match(/[gimuy]*$/)[0]);var _=new regexp$2(e.source,d);return _.toExtendedJSON()}return e!=null&&_typeof$2$1(e)==="object"?serializeDocument$1(e,o):e}var BSON_TYPE_MAPPINGS$1={Binary:function(o){return new binary$1(o.value(),o.subtype)},Code:function(o){return new code$1(o.code,o.scope)},DBRef:function(o){return new db_ref$1(o.collection||o.namespace,o.oid,o.db,o.fields)},Decimal128:function(o){return new decimal128$1(o.bytes)},Double:function(o){return new double_1$1(o.value)},Int32:function(o){return new int_32$1(o.value)},Long:function(o){return long_1$1.fromBits(o.low!=null?o.low:o.low_,o.low!=null?o.high:o.high_,o.low!=null?o.unsigned:o.unsigned_)},MaxKey:function(){return new max_key$1},MinKey:function(){return new min_key$1},ObjectID:function(o){return new objectid$1(o)},ObjectId:function(o){return new objectid$1(o)},BSONRegExp:function(o){return new regexp$2(o.pattern,o.options)},Symbol:function(o){return new symbol$1(o.value)},Timestamp:function(o){return timestamp$2.fromBits(o.low,o.high)}};function serializeDocument$1(e,o){if(e==null||_typeof$2$1(e)!=="object")throw new Error("not an object instance");var s=e._bsontype;if(typeof s>"u"){var a={};for(var c in e)a[c]=serializeValue$1(e[c],o);return a}else if(typeof s=="string"){var h=e;if(typeof h.toExtendedJSON!="function"){var d=BSON_TYPE_MAPPINGS$1[s];if(!d)throw new TypeError("Unrecognized or invalid _bsontype: "+s);h=d(h)}return s==="Code"&&h.scope?h=new code$1(h.code,serializeValue$1(h.scope,o)):s==="DBRef"&&h.oid&&(h=new db_ref$1(h.collection,serializeValue$1(h.oid,o),h.db,h.fields)),h.toExtendedJSON(o)}else throw new Error("_bsontype must be a string, but was: "+_typeof$2$1(s))}var extended_json$1={parse:parse$1,deserialize:deserialize$3,serialize:serialize$2,stringify:stringify$1},FIRST_BIT$1=128,FIRST_TWO_BITS$1=192,FIRST_THREE_BITS$1=224,FIRST_FOUR_BITS$1=240,FIRST_FIVE_BITS$1=248,TWO_BIT_CHAR$1=192,THREE_BIT_CHAR$1=224,FOUR_BIT_CHAR$1=240,CONTINUING_CHAR$1=128;function validateUtf8$2(e,o,s){for(var a=0,c=o;c<s;c+=1){var h=e[c];if(a){if((h&FIRST_TWO_BITS$1)!==CONTINUING_CHAR$1)return!1;a-=1}else if(h&FIRST_BIT$1)if((h&FIRST_THREE_BITS$1)===TWO_BIT_CHAR$1)a=1;else if((h&FIRST_FOUR_BITS$1)===THREE_BIT_CHAR$1)a=2;else if((h&FIRST_FIVE_BITS$1)===FOUR_BIT_CHAR$1)a=3;else return!1}return!a}var validateUtf8_1$1=validateUtf8$2,validate_utf8$1={validateUtf8:validateUtf8_1$1},Buffer$4$1=buffer.Buffer,validateUtf8$1$1=validate_utf8$1.validateUtf8,JS_INT_MAX_LONG$1=long_1$1.fromNumber(constants$1.JS_INT_MAX),JS_INT_MIN_LONG$1=long_1$1.fromNumber(constants$1.JS_INT_MIN),functionCache$1={};function deserialize$1$1(e,o,s){o=o??{};var a=o&&o.index?o.index:0,c=e[a]|e[a+1]<<8|e[a+2]<<16|e[a+3]<<24;if(c<5)throw new Error("bson size must be >= 5, is ".concat(c));if(o.allowObjectSmallerThanBufferSize&&e.length<c)throw new Error("buffer length ".concat(e.length," must be >= bson size ").concat(c));if(!o.allowObjectSmallerThanBufferSize&&e.length!==c)throw new Error("buffer length ".concat(e.length," must === bson size ").concat(c));if(c+a>e.length)throw new Error("(bson size ".concat(c," + options.index ").concat(a," must be <= buffer length ").concat(Buffer$4$1.byteLength(e),")"));if(e[a+c-1]!==0)throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return deserializeObject$1(e,a,o,s)}function deserializeObject$1(e,o,s,a){var c=s.evalFunctions==null?!1:s.evalFunctions,h=s.cacheFunctions==null?!1:s.cacheFunctions,d=s.cacheFunctionsCrc32==null?!1:s.cacheFunctionsCrc32;if(!d)var _=null;var b=s.fieldsAsRaw==null?null:s.fieldsAsRaw,$=s.raw==null?!1:s.raw,rt=typeof s.bsonRegExp=="boolean"?s.bsonRegExp:!1,nt=s.promoteBuffers==null?!1:s.promoteBuffers,lt=s.promoteLongs==null?!0:s.promoteLongs,dt=s.promoteValues==null?!0:s.promoteValues,gt=o;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");var Et=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;if(Et<5||Et>e.length)throw new Error("corrupt bson message");for(var ht=a?[]:{},ot=0,ct=!1;!ct;){var it=e[o++];if(it===0)break;for(var at=o;e[at]!==0&&at<e.length;)at++;if(at>=Buffer$4$1.byteLength(e))throw new Error("Bad BSON Document: illegal CString");var yt=a?ot++:e.toString("utf8",o,at);if(o=at+1,it===constants$1.BSON_DATA_STRING){var St=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;if(St<=0||St>e.length-o||e[o+St-1]!==0)throw new Error("bad string length in bson");if(!validateUtf8$1$1(e,o,o+St-1))throw new Error("Invalid UTF-8 string in BSON document");var Rt=e.toString("utf8",o,o+St-1);ht[yt]=Rt,o=o+St}else if(it===constants$1.BSON_DATA_OID){var Bt=Buffer$4$1.alloc(12);e.copy(Bt,0,o,o+12),ht[yt]=new objectid$1(Bt),o=o+12}else if(it===constants$1.BSON_DATA_INT&&dt===!1)ht[yt]=new int_32$1(e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24);else if(it===constants$1.BSON_DATA_INT)ht[yt]=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;else if(it===constants$1.BSON_DATA_NUMBER&&dt===!1)ht[yt]=new double_1$1(e.readDoubleLE(o)),o=o+8;else if(it===constants$1.BSON_DATA_NUMBER)ht[yt]=e.readDoubleLE(o),o=o+8;else if(it===constants$1.BSON_DATA_DATE){var Lt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24,Pt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;ht[yt]=new Date(new long_1$1(Lt,Pt).toNumber())}else if(it===constants$1.BSON_DATA_BOOLEAN){if(e[o]!==0&&e[o]!==1)throw new Error("illegal boolean type value");ht[yt]=e[o++]===1}else if(it===constants$1.BSON_DATA_OBJECT){var zt=o,Wt=e[o]|e[o+1]<<8|e[o+2]<<16|e[o+3]<<24;if(Wt<=0||Wt>e.length-o)throw new Error("bad embedded document length in bson");$?ht[yt]=e.slice(o,o+Wt):ht[yt]=deserializeObject$1(e,zt,s,!1),o=o+Wt}else if(it===constants$1.BSON_DATA_ARRAY){var Zt=o,Vt=e[o]|e[o+1]<<8|e[o+2]<<16|e[o+3]<<24,Dt=s,Ft=o+Vt;if(b&&b[yt]){Dt={};for(var jt in s)Dt[jt]=s[jt];Dt.raw=!0}if(ht[yt]=deserializeObject$1(e,Zt,Dt,!0),o=o+Vt,e[o-1]!==0)throw new Error("invalid array terminator byte");if(o!==Ft)throw new Error("corrupted array bson")}else if(it===constants$1.BSON_DATA_UNDEFINED)ht[yt]=void 0;else if(it===constants$1.BSON_DATA_NULL)ht[yt]=null;else if(it===constants$1.BSON_DATA_LONG){var Tt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24,xt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24,Ct=new long_1$1(Tt,xt);lt&&dt===!0?ht[yt]=Ct.lessThanOrEqual(JS_INT_MAX_LONG$1)&&Ct.greaterThanOrEqual(JS_INT_MIN_LONG$1)?Ct.toNumber():Ct:ht[yt]=Ct}else if(it===constants$1.BSON_DATA_DECIMAL128){var wt=Buffer$4$1.alloc(16);e.copy(wt,0,o,o+16),o=o+16;var It=new decimal128$1(wt);ht[yt]=It.toObject?It.toObject():It}else if(it===constants$1.BSON_DATA_BINARY){var kt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24,Kt=kt,er=e[o++];if(kt<0)throw new Error("Negative binary type element size found");if(kt>Buffer$4$1.byteLength(e))throw new Error("Binary type size larger than document size");if(e.slice!=null){if(er===binary$1.SUBTYPE_BYTE_ARRAY){if(kt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24,kt<0)throw new Error("Negative binary type element size found for subtype 0x02");if(kt>Kt-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(kt<Kt-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}nt&&dt?ht[yt]=e.slice(o,o+kt):ht[yt]=new binary$1(e.slice(o,o+kt),er)}else{var Qt=typeof Uint8Array<"u"?new Uint8Array(new ArrayBuffer(kt)):new Array(kt);if(er===binary$1.SUBTYPE_BYTE_ARRAY){if(kt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24,kt<0)throw new Error("Negative binary type element size found for subtype 0x02");if(kt>Kt-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(kt<Kt-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}for(at=0;at<kt;at++)Qt[at]=e[o+at];nt&&dt?ht[yt]=Qt:ht[yt]=new binary$1(Qt,er)}o=o+kt}else if(it===constants$1.BSON_DATA_REGEXP&&rt===!1){for(at=o;e[at]!==0&&at<e.length;)at++;if(at>=e.length)throw new Error("Bad BSON Document: illegal CString");var or=e.toString("utf8",o,at);for(o=at+1,at=o;e[at]!==0&&at<e.length;)at++;if(at>=e.length)throw new Error("Bad BSON Document: illegal CString");var rr=e.toString("utf8",o,at);o=at+1;var nr=new Array(rr.length);for(at=0;at<rr.length;at++)switch(rr[at]){case"m":nr[at]="m";break;case"s":nr[at]="g";break;case"i":nr[at]="i";break}ht[yt]=new RegExp(or,nr.join(""))}else if(it===constants$1.BSON_DATA_REGEXP&&rt===!0){for(at=o;e[at]!==0&&at<e.length;)at++;if(at>=e.length)throw new Error("Bad BSON Document: illegal CString");var ar=e.toString("utf8",o,at);for(o=at+1,at=o;e[at]!==0&&at<e.length;)at++;if(at>=e.length)throw new Error("Bad BSON Document: illegal CString");var lr=e.toString("utf8",o,at);o=at+1,ht[yt]=new regexp$2(ar,lr)}else if(it===constants$1.BSON_DATA_SYMBOL){var tr=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;if(tr<=0||tr>e.length-o||e[o+tr-1]!==0)throw new Error("bad string length in bson");ht[yt]=e.toString("utf8",o,o+tr-1),o=o+tr}else if(it===constants$1.BSON_DATA_TIMESTAMP){var qt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24,sr=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;ht[yt]=new timestamp$2(qt,sr)}else if(it===constants$1.BSON_DATA_MIN_KEY)ht[yt]=new min_key$1;else if(it===constants$1.BSON_DATA_MAX_KEY)ht[yt]=new max_key$1;else if(it===constants$1.BSON_DATA_CODE){var ir=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;if(ir<=0||ir>e.length-o||e[o+ir-1]!==0)throw new Error("bad string length in bson");var ut=e.toString("utf8",o,o+ir-1);if(c)if(h){var et=d?_(ut):ut;ht[yt]=isolateEvalWithHash$1(functionCache$1,et,ut,ht)}else ht[yt]=isolateEval$1(ut);else ht[yt]=new code$1(ut);o=o+ir}else if(it===constants$1.BSON_DATA_CODE_W_SCOPE){var tt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;if(tt<4+4+4+1)throw new Error("code_w_scope total size shorter minimum expected length");var pt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;if(pt<=0||pt>e.length-o||e[o+pt-1]!==0)throw new Error("bad string length in bson");var vt=e.toString("utf8",o,o+pt-1);o=o+pt;var Nt=o,Ot=e[o]|e[o+1]<<8|e[o+2]<<16|e[o+3]<<24,bt=deserializeObject$1(e,Nt,s,!1);if(o=o+Ot,tt<4+4+Ot+pt)throw new Error("code_w_scope total size is to short, truncating scope");if(tt>4+4+Ot+pt)throw new Error("code_w_scope total size is to long, clips outer document");if(c){if(h){var $t=d?_(vt):vt;ht[yt]=isolateEvalWithHash$1(functionCache$1,$t,vt,ht)}else ht[yt]=isolateEval$1(vt);ht[yt].scope=bt}else ht[yt]=new code$1(vt,bt)}else if(it===constants$1.BSON_DATA_DBPOINTER){var Ut=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;if(Ut<=0||Ut>e.length-o||e[o+Ut-1]!==0)throw new Error("bad string length in bson");if(!validateUtf8$1$1(e,o,o+Ut-1))throw new Error("Invalid UTF-8 string in BSON document");var Jt=e.toString("utf8",o,o+Ut-1);o=o+Ut;var st=Buffer$4$1.alloc(12);e.copy(st,0,o,o+12);var j=new objectid$1(st);o=o+12,ht[yt]=new db_ref$1(Jt,j)}else throw new Error("Detected unknown BSON type "+it.toString(16)+' for fieldname "'+yt+'", are you using the latest BSON parser?')}if(Et!==o-gt)throw a?new Error("corrupt array bson"):new Error("corrupt object bson");var _e=Object.keys(ht).filter(function(_t){return _t.startsWith("$")}),ft=!0;if(_e.forEach(function(_t){["$ref","$id","$db"].indexOf(_t)===-1&&(ft=!1)}),!ft)return ht;if(ht.$id!=null&&ht.$ref!=null){var mt=Object.assign({},ht);return delete mt.$ref,delete mt.$id,delete mt.$db,new db_ref$1(ht.$ref,ht.$id,ht.$db||null,mt)}return ht}function isolateEvalWithHash$1(functionCache,hash,functionString,object){var value=null;return functionCache[hash]==null&&(eval("value = "+functionString),functionCache[hash]=value),functionCache[hash].bind(object)}function isolateEval$1(functionString){var value=null;return eval("value = "+functionString),value}var deserializer$1=deserialize$1$1;function readIEEE754$1(e,o,s,a,c){var h,d,_=s==="big",b=c*8-a-1,$=(1<<b)-1,rt=$>>1,nt=-7,lt=_?0:c-1,dt=_?1:-1,gt=e[o+lt];for(lt+=dt,h=gt&(1<<-nt)-1,gt>>=-nt,nt+=b;nt>0;h=h*256+e[o+lt],lt+=dt,nt-=8);for(d=h&(1<<-nt)-1,h>>=-nt,nt+=a;nt>0;d=d*256+e[o+lt],lt+=dt,nt-=8);if(h===0)h=1-rt;else{if(h===$)return d?NaN:(gt?-1:1)*(1/0);d=d+Math.pow(2,a),h=h-rt}return(gt?-1:1)*d*Math.pow(2,h-a)}function writeIEEE754$2(e,o,s,a,c,h){var d,_,b,$=a==="big",rt=h*8-c-1,nt=(1<<rt)-1,lt=nt>>1,dt=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,gt=$?h-1:0,Et=$?-1:1,ht=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(_=isNaN(o)?1:0,d=nt):(d=Math.floor(Math.log(o)/Math.LN2),o*(b=Math.pow(2,-d))<1&&(d--,b*=2),d+lt>=1?o+=dt/b:o+=dt*Math.pow(2,1-lt),o*b>=2&&(d++,b/=2),d+lt>=nt?(_=0,d=nt):d+lt>=1?(_=(o*b-1)*Math.pow(2,c),d=d+lt):(_=o*Math.pow(2,lt-1)*Math.pow(2,c),d=0)),isNaN(o)&&(_=0);c>=8;)e[s+gt]=_&255,gt+=Et,_/=256,c-=8;for(d=d<<c|_,isNaN(o)&&(d+=8),rt+=c;rt>0;)e[s+gt]=d&255,gt+=Et,d/=256,rt-=8;e[s+gt-Et]|=ht*128}var float_parser$1={readIEEE754:readIEEE754$1,writeIEEE754:writeIEEE754$2};function _typeof$3$1(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3$1=function(s){return typeof s}:_typeof$3$1=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$3$1(e)}var Buffer$5$1=buffer.Buffer,writeIEEE754$1$1=float_parser$1.writeIEEE754,normalizedFunctionString$1$1=utils$1.normalizedFunctionString,regexp$1$1=/\x00/,ignoreKeys$1=new Set(["$db","$ref","$id","$clusterTime"]),isDate$1$1=function e(o){return _typeof$3$1(o)==="object"&&Object.prototype.toString.call(o)==="[object Date]"},isRegExp$1$1=function e(o){return Object.prototype.toString.call(o)==="[object RegExp]"};function serializeString$1(e,o,s,a,c){e[a++]=constants$1.BSON_DATA_STRING;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+h+1,e[a-1]=0;var d=e.write(s,a+4,"utf8");return e[a+3]=d+1>>24&255,e[a+2]=d+1>>16&255,e[a+1]=d+1>>8&255,e[a]=d+1&255,a=a+4+d,e[a++]=0,a}function serializeNumber$1(e,o,s,a,c){if(Math.floor(s)===s&&s>=constants$1.JS_INT_MIN&&s<=constants$1.JS_INT_MAX)if(s>=constants$1.BSON_INT32_MIN&&s<=constants$1.BSON_INT32_MAX){e[a++]=constants$1.BSON_DATA_INT;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+h,e[a++]=0,e[a++]=s&255,e[a++]=s>>8&255,e[a++]=s>>16&255,e[a++]=s>>24&255}else if(s>=constants$1.JS_INT_MIN&&s<=constants$1.JS_INT_MAX){e[a++]=constants$1.BSON_DATA_NUMBER;var d=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+d,e[a++]=0,writeIEEE754$1$1(e,s,a,"little",52,8),a=a+8}else{e[a++]=constants$1.BSON_DATA_LONG;var _=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+_,e[a++]=0;var b=long_1$1.fromNumber(s),$=b.getLowBits(),rt=b.getHighBits();e[a++]=$&255,e[a++]=$>>8&255,e[a++]=$>>16&255,e[a++]=$>>24&255,e[a++]=rt&255,e[a++]=rt>>8&255,e[a++]=rt>>16&255,e[a++]=rt>>24&255}else{e[a++]=constants$1.BSON_DATA_NUMBER;var nt=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+nt,e[a++]=0,writeIEEE754$1$1(e,s,a,"little",52,8),a=a+8}return a}function serializeNull$1(e,o,s,a,c){e[a++]=constants$1.BSON_DATA_NULL;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");return a=a+h,e[a++]=0,a}function serializeBoolean$1(e,o,s,a,c){e[a++]=constants$1.BSON_DATA_BOOLEAN;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");return a=a+h,e[a++]=0,e[a++]=s?1:0,a}function serializeDate$1(e,o,s,a,c){e[a++]=constants$1.BSON_DATA_DATE;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+h,e[a++]=0;var d=long_1$1.fromNumber(s.getTime()),_=d.getLowBits(),b=d.getHighBits();return e[a++]=_&255,e[a++]=_>>8&255,e[a++]=_>>16&255,e[a++]=_>>24&255,e[a++]=b&255,e[a++]=b>>8&255,e[a++]=b>>16&255,e[a++]=b>>24&255,a}function serializeRegExp$1(e,o,s,a,c){e[a++]=constants$1.BSON_DATA_REGEXP;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");if(a=a+h,e[a++]=0,s.source&&s.source.match(regexp$1$1)!=null)throw Error("value "+s.source+" must not contain null bytes");return a=a+e.write(s.source,a,"utf8"),e[a++]=0,s.ignoreCase&&(e[a++]=105),s.global&&(e[a++]=115),s.multiline&&(e[a++]=109),e[a++]=0,a}function serializeBSONRegExp$1(e,o,s,a,c){e[a++]=constants$1.BSON_DATA_REGEXP;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");if(a=a+h,e[a++]=0,s.pattern.match(regexp$1$1)!=null)throw Error("pattern "+s.pattern+" must not contain null bytes");return a=a+e.write(s.pattern,a,"utf8"),e[a++]=0,a=a+e.write(s.options.split("").sort().join(""),a,"utf8"),e[a++]=0,a}function serializeMinMax$1(e,o,s,a,c){s===null?e[a++]=constants$1.BSON_DATA_NULL:s._bsontype==="MinKey"?e[a++]=constants$1.BSON_DATA_MIN_KEY:e[a++]=constants$1.BSON_DATA_MAX_KEY;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");return a=a+h,e[a++]=0,a}function serializeObjectId$1(e,o,s,a,c){e[a++]=constants$1.BSON_DATA_OID;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");if(a=a+h,e[a++]=0,typeof s.id=="string")e.write(s.id,a,"binary");else if(s.id&&s.id.copy)s.id.copy(e,a,0,12);else throw new TypeError("object ["+JSON.stringify(s)+"] is not a valid ObjectId");return a+12}function serializeBuffer$1(e,o,s,a,c){e[a++]=constants$1.BSON_DATA_BINARY;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+h,e[a++]=0;var d=s.length;return e[a++]=d&255,e[a++]=d>>8&255,e[a++]=d>>16&255,e[a++]=d>>24&255,e[a++]=constants$1.BSON_BINARY_SUBTYPE_DEFAULT,s.copy(e,a,0,d),a=a+d,a}function serializeObject$1(e,o,s,a,c,h,d,_,b,$){for(var rt=0;rt<$.length;rt++)if($[rt]===s)throw new Error("cyclic dependency detected");$.push(s),e[a++]=Array.isArray(s)?constants$1.BSON_DATA_ARRAY:constants$1.BSON_DATA_OBJECT;var nt=b?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+nt,e[a++]=0;var lt=serializeInto$1(e,s,c,a,h+1,d,_,$);return $.pop(),lt}function serializeDecimal128$1(e,o,s,a,c){e[a++]=constants$1.BSON_DATA_DECIMAL128;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");return a=a+h,e[a++]=0,s.bytes.copy(e,a,0,16),a+16}function serializeLong$1(e,o,s,a,c){e[a++]=s._bsontype==="Long"?constants$1.BSON_DATA_LONG:constants$1.BSON_DATA_TIMESTAMP;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+h,e[a++]=0;var d=s.getLowBits(),_=s.getHighBits();return e[a++]=d&255,e[a++]=d>>8&255,e[a++]=d>>16&255,e[a++]=d>>24&255,e[a++]=_&255,e[a++]=_>>8&255,e[a++]=_>>16&255,e[a++]=_>>24&255,a}function serializeInt32$1(e,o,s,a,c){e[a++]=constants$1.BSON_DATA_INT;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");return a=a+h,e[a++]=0,e[a++]=s&255,e[a++]=s>>8&255,e[a++]=s>>16&255,e[a++]=s>>24&255,a}function serializeDouble$1(e,o,s,a,c){e[a++]=constants$1.BSON_DATA_NUMBER;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");return a=a+h,e[a++]=0,writeIEEE754$1$1(e,s.value,a,"little",52,8),a=a+8,a}function serializeFunction$1(e,o,s,a,c,h,d){e[a++]=constants$1.BSON_DATA_CODE;var _=d?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+_,e[a++]=0;var b=normalizedFunctionString$1$1(s),$=e.write(b,a+4,"utf8")+1;return e[a]=$&255,e[a+1]=$>>8&255,e[a+2]=$>>16&255,e[a+3]=$>>24&255,a=a+4+$-1,e[a++]=0,a}function serializeCode$1(e,o,s,a,c,h,d,_,b){if(s.scope&&_typeof$3$1(s.scope)==="object"){e[a++]=constants$1.BSON_DATA_CODE_W_SCOPE;var $=b?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+$,e[a++]=0;var rt=a,nt=typeof s.code=="string"?s.code:s.code.toString();a=a+4;var lt=e.write(nt,a+4,"utf8")+1;e[a]=lt&255,e[a+1]=lt>>8&255,e[a+2]=lt>>16&255,e[a+3]=lt>>24&255,e[a+4+lt-1]=0,a=a+lt+4;var dt=serializeInto$1(e,s.scope,c,a,h+1,d,_);a=dt-1;var gt=dt-rt;e[rt++]=gt&255,e[rt++]=gt>>8&255,e[rt++]=gt>>16&255,e[rt++]=gt>>24&255,e[a++]=0}else{e[a++]=constants$1.BSON_DATA_CODE;var Et=b?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+Et,e[a++]=0;var ht=s.code.toString(),ot=e.write(ht,a+4,"utf8")+1;e[a]=ot&255,e[a+1]=ot>>8&255,e[a+2]=ot>>16&255,e[a+3]=ot>>24&255,a=a+4+ot-1,e[a++]=0}return a}function serializeBinary$1(e,o,s,a,c){e[a++]=constants$1.BSON_DATA_BINARY;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+h,e[a++]=0;var d=s.value(!0),_=s.position;return s.sub_type===binary$1.SUBTYPE_BYTE_ARRAY&&(_=_+4),e[a++]=_&255,e[a++]=_>>8&255,e[a++]=_>>16&255,e[a++]=_>>24&255,e[a++]=s.sub_type,s.sub_type===binary$1.SUBTYPE_BYTE_ARRAY&&(_=_-4,e[a++]=_&255,e[a++]=_>>8&255,e[a++]=_>>16&255,e[a++]=_>>24&255),d.copy(e,a,0,s.position),a=a+s.position,a}function serializeSymbol$1(e,o,s,a,c){e[a++]=constants$1.BSON_DATA_SYMBOL;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+h,e[a++]=0;var d=e.write(s.value,a+4,"utf8")+1;return e[a]=d&255,e[a+1]=d>>8&255,e[a+2]=d>>16&255,e[a+3]=d>>24&255,a=a+4+d-1,e[a++]=0,a}function serializeDBRef$1(e,o,s,a,c,h,d){e[a++]=constants$1.BSON_DATA_OBJECT;var _=d?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+_,e[a++]=0;var b=a,$,rt={$ref:s.collection||s.namespace,$id:s.oid};s.db!=null&&(rt.$db=s.db),rt=Object.assign(rt,s.fields),$=serializeInto$1(e,rt,!1,a,c+1,h);var nt=$-b;return e[b++]=nt&255,e[b++]=nt>>8&255,e[b++]=nt>>16&255,e[b++]=nt>>24&255,$}function serializeInto$1(e,o,s,a,c,h,d,_){a=a||0,_=_||[],_.push(o);var b=a+4;if(Array.isArray(o))for(var $=0;$<o.length;$++){var rt=""+$,nt=o[$];if(nt&&nt.toBSON){if(typeof nt.toBSON!="function")throw new TypeError("toBSON is not a function");nt=nt.toBSON()}var lt=_typeof$3$1(nt);if(lt==="string")b=serializeString$1(e,rt,nt,b,!0);else if(lt==="number")b=serializeNumber$1(e,rt,nt,b,!0);else if(lt==="boolean")b=serializeBoolean$1(e,rt,nt,b,!0);else if(nt instanceof Date||isDate$1$1(nt))b=serializeDate$1(e,rt,nt,b,!0);else if(nt===void 0)b=serializeNull$1(e,rt,nt,b,!0);else if(nt===null)b=serializeNull$1(e,rt,nt,b,!0);else if(nt._bsontype==="ObjectId"||nt._bsontype==="ObjectID")b=serializeObjectId$1(e,rt,nt,b,!0);else if(Buffer$5$1.isBuffer(nt))b=serializeBuffer$1(e,rt,nt,b,!0);else if(nt instanceof RegExp||isRegExp$1$1(nt))b=serializeRegExp$1(e,rt,nt,b,!0);else if(lt==="object"&&nt._bsontype==null)b=serializeObject$1(e,rt,nt,b,s,c,h,d,!0,_);else if(lt==="object"&&nt._bsontype==="Decimal128")b=serializeDecimal128$1(e,rt,nt,b,!0);else if(nt._bsontype==="Long"||nt._bsontype==="Timestamp")b=serializeLong$1(e,rt,nt,b,!0);else if(nt._bsontype==="Double")b=serializeDouble$1(e,rt,nt,b,!0);else if(typeof nt=="function"&&h)b=serializeFunction$1(e,rt,nt,b,s,c,h);else if(nt._bsontype==="Code")b=serializeCode$1(e,rt,nt,b,s,c,h,d,!0);else if(nt._bsontype==="Binary")b=serializeBinary$1(e,rt,nt,b,!0);else if(nt._bsontype==="Symbol")b=serializeSymbol$1(e,rt,nt,b,!0);else if(nt._bsontype==="DBRef")b=serializeDBRef$1(e,rt,nt,b,c,h,!0);else if(nt._bsontype==="BSONRegExp")b=serializeBSONRegExp$1(e,rt,nt,b,!0);else if(nt._bsontype==="Int32")b=serializeInt32$1(e,rt,nt,b,!0);else if(nt._bsontype==="MinKey"||nt._bsontype==="MaxKey")b=serializeMinMax$1(e,rt,nt,b,!0);else if(typeof nt._bsontype<"u")throw new TypeError("Unrecognized or invalid _bsontype: "+nt._bsontype)}else if(o instanceof map$1)for(var dt=o.entries(),gt=!1;!gt;){var Et=dt.next();if(gt=Et.done,!gt){var ht=Et.value[0],ot=Et.value[1],ct=_typeof$3$1(ot);if(typeof ht=="string"&&!ignoreKeys$1.has(ht)){if(ht.match(regexp$1$1)!=null)throw Error("key "+ht+" must not contain null bytes");if(s){if(ht[0]==="$")throw Error("key "+ht+" must not start with '$'");if(~ht.indexOf("."))throw Error("key "+ht+" must not contain '.'")}}if(ct==="string")b=serializeString$1(e,ht,ot,b);else if(ct==="number")b=serializeNumber$1(e,ht,ot,b);else if(ct==="boolean")b=serializeBoolean$1(e,ht,ot,b);else if(ot instanceof Date||isDate$1$1(ot))b=serializeDate$1(e,ht,ot,b);else if(ot===null||ot===void 0&&d===!1)b=serializeNull$1(e,ht,ot,b);else if(ot._bsontype==="ObjectId"||ot._bsontype==="ObjectID")b=serializeObjectId$1(e,ht,ot,b);else if(Buffer$5$1.isBuffer(ot))b=serializeBuffer$1(e,ht,ot,b);else if(ot instanceof RegExp||isRegExp$1$1(ot))b=serializeRegExp$1(e,ht,ot,b);else if(ct==="object"&&ot._bsontype==null)b=serializeObject$1(e,ht,ot,b,s,c,h,d,!1,_);else if(ct==="object"&&ot._bsontype==="Decimal128")b=serializeDecimal128$1(e,ht,ot,b);else if(ot._bsontype==="Long"||ot._bsontype==="Timestamp")b=serializeLong$1(e,ht,ot,b);else if(ot._bsontype==="Double")b=serializeDouble$1(e,ht,ot,b);else if(ot._bsontype==="Code")b=serializeCode$1(e,ht,ot,b,s,c,h,d);else if(typeof ot=="function"&&h)b=serializeFunction$1(e,ht,ot,b,s,c,h);else if(ot._bsontype==="Binary")b=serializeBinary$1(e,ht,ot,b);else if(ot._bsontype==="Symbol")b=serializeSymbol$1(e,ht,ot,b);else if(ot._bsontype==="DBRef")b=serializeDBRef$1(e,ht,ot,b,c,h);else if(ot._bsontype==="BSONRegExp")b=serializeBSONRegExp$1(e,ht,ot,b);else if(ot._bsontype==="Int32")b=serializeInt32$1(e,ht,ot,b);else if(ot._bsontype==="MinKey"||ot._bsontype==="MaxKey")b=serializeMinMax$1(e,ht,ot,b);else if(typeof ot._bsontype<"u")throw new TypeError("Unrecognized or invalid _bsontype: "+ot._bsontype)}}else{if(o.toBSON){if(typeof o.toBSON!="function")throw new TypeError("toBSON is not a function");if(o=o.toBSON(),o!=null&&_typeof$3$1(o)!=="object")throw new TypeError("toBSON function did not return an object")}for(var it in o){var at=o[it];if(at&&at.toBSON){if(typeof at.toBSON!="function")throw new TypeError("toBSON is not a function");at=at.toBSON()}var yt=_typeof$3$1(at);if(typeof it=="string"&&!ignoreKeys$1.has(it)){if(it.match(regexp$1$1)!=null)throw Error("key "+it+" must not contain null bytes");if(s){if(it[0]==="$")throw Error("key "+it+" must not start with '$'");if(~it.indexOf("."))throw Error("key "+it+" must not contain '.'")}}if(yt==="string")b=serializeString$1(e,it,at,b);else if(yt==="number")b=serializeNumber$1(e,it,at,b);else if(yt==="boolean")b=serializeBoolean$1(e,it,at,b);else if(at instanceof Date||isDate$1$1(at))b=serializeDate$1(e,it,at,b);else if(at===void 0)d===!1&&(b=serializeNull$1(e,it,at,b));else if(at===null)b=serializeNull$1(e,it,at,b);else if(at._bsontype==="ObjectId"||at._bsontype==="ObjectID")b=serializeObjectId$1(e,it,at,b);else if(Buffer$5$1.isBuffer(at))b=serializeBuffer$1(e,it,at,b);else if(at instanceof RegExp||isRegExp$1$1(at))b=serializeRegExp$1(e,it,at,b);else if(yt==="object"&&at._bsontype==null)b=serializeObject$1(e,it,at,b,s,c,h,d,!1,_);else if(yt==="object"&&at._bsontype==="Decimal128")b=serializeDecimal128$1(e,it,at,b);else if(at._bsontype==="Long"||at._bsontype==="Timestamp")b=serializeLong$1(e,it,at,b);else if(at._bsontype==="Double")b=serializeDouble$1(e,it,at,b);else if(at._bsontype==="Code")b=serializeCode$1(e,it,at,b,s,c,h,d);else if(typeof at=="function"&&h)b=serializeFunction$1(e,it,at,b,s,c,h);else if(at._bsontype==="Binary")b=serializeBinary$1(e,it,at,b);else if(at._bsontype==="Symbol")b=serializeSymbol$1(e,it,at,b);else if(at._bsontype==="DBRef")b=serializeDBRef$1(e,it,at,b,c,h);else if(at._bsontype==="BSONRegExp")b=serializeBSONRegExp$1(e,it,at,b);else if(at._bsontype==="Int32")b=serializeInt32$1(e,it,at,b);else if(at._bsontype==="MinKey"||at._bsontype==="MaxKey")b=serializeMinMax$1(e,it,at,b);else if(typeof at._bsontype<"u")throw new TypeError("Unrecognized or invalid _bsontype: "+at._bsontype)}}_.pop(),e[b++]=0;var St=b-a;return e[a++]=St&255,e[a++]=St>>8&255,e[a++]=St>>16&255,e[a++]=St>>24&255,b}var serializer$1=serializeInto$1;function _typeof$4$1(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4$1=function(s){return typeof s}:_typeof$4$1=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$4$1(e)}var Buffer$6$1=buffer.Buffer,normalizedFunctionString$2$1=utils$1.normalizedFunctionString;function isDate$2$1(e){return _typeof$4$1(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function calculateObjectSize$2(e,o,s){var a=5;if(Array.isArray(e))for(var c=0;c<e.length;c++)a+=calculateElement$1(c.toString(),e[c],o,!0,s);else{e.toBSON&&(e=e.toBSON());for(var h in e)a+=calculateElement$1(h,e[h],o,!1,s)}return a}function calculateElement$1(e,o,s,a,c){switch(o&&o.toBSON&&(o=o.toBSON()),_typeof$4$1(o)){case"string":return 1+Buffer$6$1.byteLength(e,"utf8")+1+4+Buffer$6$1.byteLength(o,"utf8")+1;case"number":return Math.floor(o)===o&&o>=constants$1.JS_INT_MIN&&o<=constants$1.JS_INT_MAX&&o>=constants$1.BSON_INT32_MIN&&o<=constants$1.BSON_INT32_MAX?(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+(4+1):(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+(8+1);case"undefined":return a||!c?(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+(1+1);case"object":if(o==null||o._bsontype==="MinKey"||o._bsontype==="MaxKey")return(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+1;if(o._bsontype==="ObjectId"||o._bsontype==="ObjectID")return(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+(12+1);if(o instanceof Date||isDate$2$1(o))return(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+(8+1);if(typeof Buffer$6$1<"u"&&Buffer$6$1.isBuffer(o))return(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+(1+4+1)+o.length;if(o._bsontype==="Long"||o._bsontype==="Double"||o._bsontype==="Timestamp")return(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+(8+1);if(o._bsontype==="Decimal128")return(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+(16+1);if(o._bsontype==="Code")return o.scope!=null&&Object.keys(o.scope).length>0?(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6$1.byteLength(o.code.toString(),"utf8")+1+calculateObjectSize$2(o.scope,s,c):(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+1+4+Buffer$6$1.byteLength(o.code.toString(),"utf8")+1;if(o._bsontype==="Binary")return o.sub_type===binary$1.SUBTYPE_BYTE_ARRAY?(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+(o.position+1+4+1+4):(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+(o.position+1+4+1);if(o._bsontype==="Symbol")return(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+Buffer$6$1.byteLength(o.value,"utf8")+4+1+1;if(o._bsontype==="DBRef"){var h=Object.assign({$ref:o.collection,$id:o.oid},o.fields);return o.db!=null&&(h.$db=o.db),(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+1+calculateObjectSize$2(h,s,c)}else return o instanceof RegExp||Object.prototype.toString.call(o)==="[object RegExp]"?(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+1+Buffer$6$1.byteLength(o.source,"utf8")+1+(o.global?1:0)+(o.ignoreCase?1:0)+(o.multiline?1:0)+1:o._bsontype==="BSONRegExp"?(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+1+Buffer$6$1.byteLength(o.pattern,"utf8")+1+Buffer$6$1.byteLength(o.options,"utf8")+1:(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+calculateObjectSize$2(o,s,c)+1;case"function":if(o instanceof RegExp||Object.prototype.toString.call(o)==="[object RegExp]"||String.call(o)==="[object RegExp]")return(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+1+Buffer$6$1.byteLength(o.source,"utf8")+1+(o.global?1:0)+(o.ignoreCase?1:0)+(o.multiline?1:0)+1;if(s&&o.scope!=null&&Object.keys(o.scope).length>0)return(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6$1.byteLength(normalizedFunctionString$2$1(o),"utf8")+1+calculateObjectSize$2(o.scope,s,c);if(s)return(e!=null?Buffer$6$1.byteLength(e,"utf8")+1:0)+1+4+Buffer$6$1.byteLength(normalizedFunctionString$2$1(o),"utf8")+1}return 0}var calculate_size$1=calculateObjectSize$2,Buffer$7$1=buffer.Buffer,ensure_buffer$1=function e(o){if(o instanceof Buffer$7$1)return o;if(o instanceof Uint8Array)return Buffer$7$1.from(o.buffer);throw new TypeError("Must use either Buffer or Uint8Array")},Buffer$8$1=buffer.Buffer,MAXSIZE$1=1024*1024*17,buffer$1$1=Buffer$8$1.alloc(MAXSIZE$1);function setInternalBufferSize$1(e){buffer$1$1.length<e&&(buffer$1$1=Buffer$8$1.alloc(e))}function serialize$1$1(e,o){o=o||{};var s=typeof o.checkKeys=="boolean"?o.checkKeys:!1,a=typeof o.serializeFunctions=="boolean"?o.serializeFunctions:!1,c=typeof o.ignoreUndefined=="boolean"?o.ignoreUndefined:!0,h=typeof o.minInternalBufferSize=="number"?o.minInternalBufferSize:MAXSIZE$1;buffer$1$1.length<h&&(buffer$1$1=Buffer$8$1.alloc(h));var d=serializer$1(buffer$1$1,e,s,0,0,a,c,[]),_=Buffer$8$1.alloc(d);return buffer$1$1.copy(_,0,0,_.length),_}function serializeWithBufferAndIndex$1(e,o,s){s=s||{};var a=typeof s.checkKeys=="boolean"?s.checkKeys:!1,c=typeof s.serializeFunctions=="boolean"?s.serializeFunctions:!1,h=typeof s.ignoreUndefined=="boolean"?s.ignoreUndefined:!0,d=typeof s.index=="number"?s.index:0,_=serializer$1(buffer$1$1,e,a,0,0,c,h);return buffer$1$1.copy(o,d,0,_),d+_-1}function deserialize$2$1(e,o){return e=ensure_buffer$1(e),deserializer$1(e,o)}function calculateObjectSize$1$1(e,o){o=o||{};var s=typeof o.serializeFunctions=="boolean"?o.serializeFunctions:!1,a=typeof o.ignoreUndefined=="boolean"?o.ignoreUndefined:!0;return calculate_size$1(e,s,a)}function deserializeStream$1(e,o,s,a,c,h){h=Object.assign({allowObjectSmallerThanBufferSize:!0},h),e=ensure_buffer$1(e);for(var d=o,_=0;_<s;_++){var b=e[d]|e[d+1]<<8|e[d+2]<<16|e[d+3]<<24;h.index=d,a[c+_]=deserializer$1(e,h),d=d+b}return d}var bson$1={BSON_INT32_MAX:constants$1.BSON_INT32_MAX,BSON_INT32_MIN:constants$1.BSON_INT32_MIN,BSON_INT64_MAX:constants$1.BSON_INT64_MAX,BSON_INT64_MIN:constants$1.BSON_INT64_MIN,JS_INT_MAX:constants$1.JS_INT_MAX,JS_INT_MIN:constants$1.JS_INT_MIN,BSON_DATA_NUMBER:constants$1.BSON_DATA_NUMBER,BSON_DATA_STRING:constants$1.BSON_DATA_STRING,BSON_DATA_OBJECT:constants$1.BSON_DATA_OBJECT,BSON_DATA_ARRAY:constants$1.BSON_DATA_ARRAY,BSON_DATA_BINARY:constants$1.BSON_DATA_BINARY,BSON_DATA_UNDEFINED:constants$1.BSON_DATA_UNDEFINED,BSON_DATA_OID:constants$1.BSON_DATA_OID,BSON_DATA_BOOLEAN:constants$1.BSON_DATA_BOOLEAN,BSON_DATA_DATE:constants$1.BSON_DATA_DATE,BSON_DATA_NULL:constants$1.BSON_DATA_NULL,BSON_DATA_REGEXP:constants$1.BSON_DATA_REGEXP,BSON_DATA_DBPOINTER:constants$1.BSON_DATA_DBPOINTER,BSON_DATA_CODE:constants$1.BSON_DATA_CODE,BSON_DATA_SYMBOL:constants$1.BSON_DATA_SYMBOL,BSON_DATA_CODE_W_SCOPE:constants$1.BSON_DATA_CODE_W_SCOPE,BSON_DATA_INT:constants$1.BSON_DATA_INT,BSON_DATA_TIMESTAMP:constants$1.BSON_DATA_TIMESTAMP,BSON_DATA_LONG:constants$1.BSON_DATA_LONG,BSON_DATA_DECIMAL128:constants$1.BSON_DATA_DECIMAL128,BSON_DATA_MIN_KEY:constants$1.BSON_DATA_MIN_KEY,BSON_DATA_MAX_KEY:constants$1.BSON_DATA_MAX_KEY,BSON_BINARY_SUBTYPE_DEFAULT:constants$1.BSON_BINARY_SUBTYPE_DEFAULT,BSON_BINARY_SUBTYPE_FUNCTION:constants$1.BSON_BINARY_SUBTYPE_FUNCTION,BSON_BINARY_SUBTYPE_BYTE_ARRAY:constants$1.BSON_BINARY_SUBTYPE_BYTE_ARRAY,BSON_BINARY_SUBTYPE_UUID:constants$1.BSON_BINARY_SUBTYPE_UUID,BSON_BINARY_SUBTYPE_MD5:constants$1.BSON_BINARY_SUBTYPE_MD5,BSON_BINARY_SUBTYPE_USER_DEFINED:constants$1.BSON_BINARY_SUBTYPE_USER_DEFINED,Code:code$1,Map:map$1,BSONSymbol:symbol$1,DBRef:db_ref$1,Binary:binary$1,ObjectId:objectid$1,Long:long_1$1,Timestamp:timestamp$2,Double:double_1$1,Int32:int_32$1,MinKey:min_key$1,MaxKey:max_key$1,BSONRegExp:regexp$2,Decimal128:decimal128$1,serialize:serialize$1$1,serializeWithBufferAndIndex:serializeWithBufferAndIndex$1,deserialize:deserialize$2$1,calculateObjectSize:calculateObjectSize$1$1,deserializeStream:deserializeStream$1,setInternalBufferSize:setInternalBufferSize$1,ObjectID:objectid$1,EJSON:extended_json$1},bson_54=bson$1.EJSON,AuthEventKind;(function(e){e[e.ActiveUserChanged=0]="ActiveUserChanged",e[e.ListenerRegistered=1]="ListenerRegistered",e[e.UserAdded=2]="UserAdded",e[e.UserLinked=3]="UserLinked",e[e.UserLoggedIn=4]="UserLoggedIn",e[e.UserLoggedOut=5]="UserLoggedOut",e[e.UserRemoved=6]="UserRemoved"})(AuthEventKind||(AuthEventKind={}));var AuthInfo=function(){function e(o,s,a,c,h,d,_,b){this.userId=o,this.deviceId=s,this.accessToken=a,this.refreshToken=c,this.loggedInProviderType=h,this.loggedInProviderName=d,this.lastAuthActivity=_,this.userProfile=b}return e.empty=function(){return new e(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)},Object.defineProperty(e.prototype,"hasUser",{get:function(){return this.userId!==void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.deviceId===void 0},enumerable:!0,configurable:!0}),e.prototype.loggedOut=function(){return new e(this.userId,this.deviceId,void 0,void 0,this.loggedInProviderType,this.loggedInProviderName,new Date,this.userProfile)},e.prototype.withClearedUser=function(){return new e(void 0,this.deviceId,void 0,void 0,void 0,void 0,void 0,void 0)},e.prototype.withAuthProvider=function(o,s){return new e(this.userId,this.deviceId,this.accessToken,this.refreshToken,o,s,new Date,this.userProfile)},e.prototype.withNewAuthActivityTime=function(){return new e(this.userId,this.deviceId,this.accessToken,this.refreshToken,this.loggedInProviderType,this.loggedInProviderName,new Date,this.userProfile)},Object.defineProperty(e.prototype,"isLoggedIn",{get:function(){return this.accessToken!==void 0&&this.refreshToken!==void 0},enumerable:!0,configurable:!0}),e.prototype.merge=function(o){return new e(o.userId===void 0?this.userId:o.userId,o.deviceId===void 0?this.deviceId:o.deviceId,o.accessToken===void 0?this.accessToken:o.accessToken,o.refreshToken===void 0?this.refreshToken:o.refreshToken,o.loggedInProviderType===void 0?this.loggedInProviderType:o.loggedInProviderType,o.loggedInProviderName===void 0?this.loggedInProviderName:o.loggedInProviderName,o.lastAuthActivity===void 0?this.lastAuthActivity:o.lastAuthActivity,o.userProfile===void 0?this.userProfile:o.userProfile)},e}(),__extends$r=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),_Error=function(e){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this),this.message=e,this.name=this.constructor.name};_Error.prototype=Object.create(Error.prototype);var StitchError=function(e){__extends$r(o,e);function o(){return e!==null&&e.apply(this,arguments)||this}return o}(_Error),_a$1,StitchRequestErrorCode;(function(e){e[e.TRANSPORT_ERROR=0]="TRANSPORT_ERROR",e[e.DECODING_ERROR=1]="DECODING_ERROR",e[e.ENCODING_ERROR=2]="ENCODING_ERROR"})(StitchRequestErrorCode||(StitchRequestErrorCode={}));var requestErrorCodeDescs=(_a$1={},_a$1[StitchRequestErrorCode.TRANSPORT_ERROR]="the request transport encountered an error communicating with Stitch",_a$1[StitchRequestErrorCode.DECODING_ERROR]="an error occurred while decoding a response from Stitch",_a$1[StitchRequestErrorCode.ENCODING_ERROR]="an error occurred while encoding a request for Stitch",_a$1),__extends$q=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),StitchRequestError=function(e){__extends$q(o,e);function o(s,a){var c=this,h="("+StitchRequestErrorCode[a]+"): "+requestErrorCodeDescs[a]+": "+s.message;return c=e.call(this,h)||this,c.underlyingError=s,c.errorCode=a,c.errorCodeName=StitchRequestErrorCode[a],c}return o}(StitchError),StitchServiceErrorCode;(function(e){e[e.MissingAuthReq=0]="MissingAuthReq",e[e.InvalidSession=1]="InvalidSession",e[e.UserAppDomainMismatch=2]="UserAppDomainMismatch",e[e.DomainNotAllowed=3]="DomainNotAllowed",e[e.ReadSizeLimitExceeded=4]="ReadSizeLimitExceeded",e[e.InvalidParameter=5]="InvalidParameter",e[e.MissingParameter=6]="MissingParameter",e[e.TwilioError=7]="TwilioError",e[e.GCMError=8]="GCMError",e[e.HTTPError=9]="HTTPError",e[e.AWSError=10]="AWSError",e[e.MongoDBError=11]="MongoDBError",e[e.ArgumentsNotAllowed=12]="ArgumentsNotAllowed",e[e.FunctionExecutionError=13]="FunctionExecutionError",e[e.NoMatchingRuleFound=14]="NoMatchingRuleFound",e[e.InternalServerError=15]="InternalServerError",e[e.AuthProviderNotFound=16]="AuthProviderNotFound",e[e.AuthProviderAlreadyExists=17]="AuthProviderAlreadyExists",e[e.ServiceNotFound=18]="ServiceNotFound",e[e.ServiceTypeNotFound=19]="ServiceTypeNotFound",e[e.ServiceAlreadyExists=20]="ServiceAlreadyExists",e[e.ServiceCommandNotFound=21]="ServiceCommandNotFound",e[e.ValueNotFound=22]="ValueNotFound",e[e.ValueAlreadyExists=23]="ValueAlreadyExists",e[e.ValueDuplicateName=24]="ValueDuplicateName",e[e.FunctionNotFound=25]="FunctionNotFound",e[e.FunctionAlreadyExists=26]="FunctionAlreadyExists",e[e.FunctionDuplicateName=27]="FunctionDuplicateName",e[e.FunctionSyntaxError=28]="FunctionSyntaxError",e[e.FunctionInvalid=29]="FunctionInvalid",e[e.IncomingWebhookNotFound=30]="IncomingWebhookNotFound",e[e.IncomingWebhookAlreadyExists=31]="IncomingWebhookAlreadyExists",e[e.IncomingWebhookDuplicateName=32]="IncomingWebhookDuplicateName",e[e.RuleNotFound=33]="RuleNotFound",e[e.ApiKeyNotFound=34]="ApiKeyNotFound",e[e.RuleAlreadyExists=35]="RuleAlreadyExists",e[e.RuleDuplicateName=36]="RuleDuplicateName",e[e.AuthProviderDuplicateName=37]="AuthProviderDuplicateName",e[e.RestrictedHost=38]="RestrictedHost",e[e.ApiKeyAlreadyExists=39]="ApiKeyAlreadyExists",e[e.IncomingWebhookAuthFailed=40]="IncomingWebhookAuthFailed",e[e.ExecutionTimeLimitExceeded=41]="ExecutionTimeLimitExceeded",e[e.FunctionNotCallable=42]="FunctionNotCallable",e[e.UserAlreadyConfirmed=43]="UserAlreadyConfirmed",e[e.UserNotFound=44]="UserNotFound",e[e.UserDisabled=45]="UserDisabled",e[e.Unknown=46]="Unknown"})(StitchServiceErrorCode||(StitchServiceErrorCode={}));var apiErrorCodes={APIKeyAlreadyExists:StitchServiceErrorCode.ApiKeyAlreadyExists,APIKeyNotFound:StitchServiceErrorCode.ApiKeyNotFound,AWSError:StitchServiceErrorCode.AWSError,ArgumentsNotAllowed:StitchServiceErrorCode.ArgumentsNotAllowed,AuthProviderAlreadyExists:StitchServiceErrorCode.AuthProviderAlreadyExists,AuthProviderDuplicateName:StitchServiceErrorCode.AuthProviderDuplicateName,AuthProviderNotFound:StitchServiceErrorCode.AuthProviderNotFound,DomainNotAllowed:StitchServiceErrorCode.DomainNotAllowed,ExecutionTimeLimitExceeded:StitchServiceErrorCode.ExecutionTimeLimitExceeded,FunctionAlreadyExists:StitchServiceErrorCode.FunctionAlreadyExists,FunctionDuplicateName:StitchServiceErrorCode.FunctionDuplicateName,FunctionExecutionError:StitchServiceErrorCode.FunctionExecutionError,FunctionInvalid:StitchServiceErrorCode.FunctionInvalid,FunctionNotCallable:StitchServiceErrorCode.FunctionNotCallable,FunctionNotFound:StitchServiceErrorCode.FunctionNotFound,FunctionSyntaxError:StitchServiceErrorCode.FunctionSyntaxError,GCMError:StitchServiceErrorCode.GCMError,HTTPError:StitchServiceErrorCode.HTTPError,IncomingWebhookAlreadyExists:StitchServiceErrorCode.IncomingWebhookAlreadyExists,IncomingWebhookAuthFailed:StitchServiceErrorCode.IncomingWebhookAuthFailed,IncomingWebhookDuplicateName:StitchServiceErrorCode.IncomingWebhookDuplicateName,IncomingWebhookNotFound:StitchServiceErrorCode.IncomingWebhookNotFound,InternalServerError:StitchServiceErrorCode.InternalServerError,InvalidParameter:StitchServiceErrorCode.InvalidParameter,InvalidSession:StitchServiceErrorCode.InvalidSession,MissingAuthReq:StitchServiceErrorCode.MissingAuthReq,MissingParameter:StitchServiceErrorCode.MissingParameter,MongoDBError:StitchServiceErrorCode.MongoDBError,NoMatchingRuleFound:StitchServiceErrorCode.NoMatchingRuleFound,ReadSizeLimitExceeded:StitchServiceErrorCode.ReadSizeLimitExceeded,RestrictedHost:StitchServiceErrorCode.RestrictedHost,RuleAlreadyExists:StitchServiceErrorCode.RuleAlreadyExists,RuleDuplicateName:StitchServiceErrorCode.RuleDuplicateName,RuleNotFound:StitchServiceErrorCode.RuleNotFound,ServiceAlreadyExists:StitchServiceErrorCode.ServiceAlreadyExists,ServiceCommandNotFound:StitchServiceErrorCode.ServiceCommandNotFound,ServiceNotFound:StitchServiceErrorCode.ServiceNotFound,ServiceTypeNotFound:StitchServiceErrorCode.ServiceTypeNotFound,TwilioError:StitchServiceErrorCode.TwilioError,UserAlreadyConfirmed:StitchServiceErrorCode.UserAlreadyConfirmed,UserAppDomainMismatch:StitchServiceErrorCode.UserAppDomainMismatch,UserDisabled:StitchServiceErrorCode.UserDisabled,UserNotFound:StitchServiceErrorCode.UserNotFound,ValueAlreadyExists:StitchServiceErrorCode.ValueAlreadyExists,ValueDuplicateName:StitchServiceErrorCode.ValueDuplicateName,ValueNotFound:StitchServiceErrorCode.ValueNotFound};function stitchServiceErrorCodeFromApi(e){return e in apiErrorCodes?apiErrorCodes[e]:StitchServiceErrorCode.Unknown}var __extends$p=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),StitchServiceError=function(e){__extends$p(o,e);function o(s,a){a===void 0&&(a=StitchServiceErrorCode.Unknown);var c=e.call(this,s)||this;return c.message=s,c.errorCode=a,c.errorCodeName=StitchServiceErrorCode[a],c}return o}(StitchError),ContentTypes=function(){function e(){}return e.APPLICATION_JSON="application/json",e.TEXT_EVENT_STREAM="text/event-stream",e}(),Headers$1=function(){function e(){}return e.getAuthorizationBearer=function(o){return e.AUTHORIZATION_BEARER+" "+o},e.CONTENT_TYPE_CANON="Content-Type",e.CONTENT_TYPE=e.CONTENT_TYPE_CANON.toLocaleLowerCase(),e.AUTHORIZATION_CANON="Authorization",e.AUTHORIZATION=e.AUTHORIZATION_CANON.toLocaleLowerCase(),e.ACCEPT_CANON="Accept",e.ACCEPT=e.ACCEPT_CANON.toLocaleLowerCase(),e.AUTHORIZATION_BEARER="Bearer",e}(),Fields$e;(function(e){e.ERROR="error",e.ERROR_CODE="error_code"})(Fields$e||(Fields$e={}));function wrapDecodingError(e){return e instanceof StitchError?e:new StitchRequestError(e,StitchRequestErrorCode.DECODING_ERROR)}function handleRequestError(e){if(e.body===void 0)throw new StitchServiceError("received unexpected status code "+e.statusCode,StitchServiceErrorCode.Unknown);var o;try{o=e.body}catch{throw new StitchServiceError("received unexpected status code "+e.statusCode,StitchServiceErrorCode.Unknown)}var s=handleRichError(e,o);throw new StitchServiceError(s,StitchServiceErrorCode.Unknown)}function handleRichError(e,o){if(e.headers[Headers$1.CONTENT_TYPE]===void 0||e.headers[Headers$1.CONTENT_TYPE]!==void 0&&e.headers[Headers$1.CONTENT_TYPE]!==ContentTypes.APPLICATION_JSON)return o;var s=JSON.parse(o);if(!(s instanceof Object))return o;var a=s;if(a[Fields$e.ERROR]===void 0)return o;var c=a[Fields$e.ERROR];if(a[Fields$e.ERROR_CODE]===void 0)return c;var h=a[Fields$e.ERROR_CODE];throw new StitchServiceError(c,stitchServiceErrorCodeFromApi(h))}var Method;(function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e.HEAD="HEAD",e.OPTIONS="OPTIONS",e.TRACE="TRACE",e.PATCH="PATCH"})(Method||(Method={}));const Method$1=Method;var StitchRequest=function(){function e(o,s,a,c,h){this.method=o,this.path=s,this.headers=a,this.body=h,this.startedAt=c}return Object.defineProperty(e.prototype,"builder",{get:function(){return new e.Builder(this)},enumerable:!0,configurable:!0}),e}();(function(e){var o=function(){function s(a){a!==void 0&&(this.method=a.method,this.path=a.path,this.headers=a.headers,this.body=a.body,this.startedAt=a.startedAt)}return s.prototype.withMethod=function(a){return this.method=a,this},s.prototype.withPath=function(a){return this.path=a,this},s.prototype.withHeaders=function(a){return this.headers=a,this},s.prototype.withBody=function(a){return this.body=a,this},s.prototype.build=function(){if(this.method===void 0)throw Error("must set method");if(this.path===void 0)throw Error("must set non-empty path");return this.startedAt===void 0&&(this.startedAt=Date.now()/1e3),new e(this.method,this.path,this.headers===void 0?{}:this.headers,this.startedAt,this.body)},s}();e.Builder=o})(StitchRequest||(StitchRequest={}));var __extends$o=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),StitchAuthRequest=function(e){__extends$o(o,e);function o(s,a,c){a===void 0&&(a=!1),c===void 0&&(c=!0);var h=e.call(this,s.method,s.path,s.headers,s.startedAt,s.body)||this;return h.useRefreshToken=a,h.shouldRefreshOnFailure=c,h}return Object.defineProperty(o.prototype,"builder",{get:function(){return new o.Builder(this)},enumerable:!0,configurable:!0}),o}(StitchRequest);(function(e){var o=function(s){__extends$o(a,s);function a(c){return s.call(this,c)||this}return a.prototype.withAccessToken=function(){return this.useRefreshToken=!1,this},a.prototype.withRefreshToken=function(){return this.useRefreshToken=!0,this},a.prototype.withShouldRefreshOnFailure=function(c){return this.shouldRefreshOnFailure=c,this},a.prototype.build=function(){return this.useRefreshToken&&(this.shouldRefreshOnFailure=!1),new e(s.prototype.build.call(this),this.useRefreshToken,this.shouldRefreshOnFailure)},a}(StitchRequest.Builder);e.Builder=o})(StitchAuthRequest||(StitchAuthRequest={}));var __extends$n=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),StitchAuthDocRequest=function(e){__extends$n(o,e);function o(s,a){var c=this;return s instanceof StitchAuthRequest?c=e.call(this,s,s.useRefreshToken,s.shouldRefreshOnFailure)||this:c=e.call(this,s)||this,c.document=a,c}return Object.defineProperty(o.prototype,"builder",{get:function(){return new o.Builder(this)},enumerable:!0,configurable:!0}),o}(StitchAuthRequest);(function(e){var o=function(s){__extends$n(a,s);function a(c){var h=s.call(this,c)||this;return c!==void 0&&(h.document=c.document,h.useRefreshToken=c.useRefreshToken),h}return a.prototype.withDocument=function(c){return this.document=c,this},a.prototype.withAccessToken=function(){return this.useRefreshToken=!1,this},a.prototype.build=function(){if(this.document===void 0||!(this.document instanceof Object))throw new Error("document must be set: "+this.document);return this.headers===void 0&&this.withHeaders({}),this.headers[Headers$1.CONTENT_TYPE]=ContentTypes.APPLICATION_JSON,this.withBody(bson_54.stringify(this.document,{relaxed:!1})),new e(s.prototype.build.call(this),this.document)},a}(StitchAuthRequest.Builder);e.Builder=o})(StitchAuthDocRequest||(StitchAuthDocRequest={}));var __extends$m=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),StitchDocRequest=function(e){__extends$m(o,e);function o(s,a){var c=e.call(this,s.method,s.path,s.headers,s.startedAt,s.body)||this;return c.document=a,c}return Object.defineProperty(o.prototype,"builder",{get:function(){return new o.Builder(this)},enumerable:!0,configurable:!0}),o}(StitchRequest);(function(e){var o=function(s){__extends$m(a,s);function a(c){var h=s.call(this,c)||this;return c!==void 0&&(h.document=c.document),h}return a.prototype.withDocument=function(c){return this.document=c,this},a.prototype.build=function(){if(this.document===void 0||!(this.document instanceof Object))throw new Error("document must be set");return this.headers===void 0&&this.withHeaders({}),this.headers[Headers$1.CONTENT_TYPE]=ContentTypes.APPLICATION_JSON,this.withBody(bson_54.stringify(this.document,{relaxed:!1})),new e(s.prototype.build.call(this),this.document)},a}(StitchRequest.Builder);e.Builder=o})(StitchDocRequest||(StitchDocRequest={}));var _a,StitchClientErrorCode;(function(e){e[e.LoggedOutDuringRequest=0]="LoggedOutDuringRequest",e[e.MustAuthenticateFirst=1]="MustAuthenticateFirst",e[e.UserNoLongerValid=2]="UserNoLongerValid",e[e.UserNotFound=3]="UserNotFound",e[e.UserNotLoggedIn=4]="UserNotLoggedIn",e[e.CouldNotLoadPersistedAuthInfo=5]="CouldNotLoadPersistedAuthInfo",e[e.CouldNotPersistAuthInfo=6]="CouldNotPersistAuthInfo",e[e.StreamingNotSupported=7]="StreamingNotSupported",e[e.StreamClosed=8]="StreamClosed",e[e.UnexpectedArguments=9]="UnexpectedArguments"})(StitchClientErrorCode||(StitchClientErrorCode={}));var clientErrorCodeDescs=(_a={},_a[StitchClientErrorCode.LoggedOutDuringRequest]="logged out while making a request to Stitch",_a[StitchClientErrorCode.MustAuthenticateFirst]="method called requires being authenticated",_a[StitchClientErrorCode.UserNoLongerValid]="user instance being accessed is no longer valid; please get a new user with auth.getUser()",_a[StitchClientErrorCode.UserNotFound]="user not found in list of users",_a[StitchClientErrorCode.UserNotLoggedIn]="cannot make the active user a logged out user; please use loginWithCredential() to switch to this user",_a[StitchClientErrorCode.CouldNotLoadPersistedAuthInfo]="failed to load stored auth information for Stitch",_a[StitchClientErrorCode.CouldNotPersistAuthInfo]="failed to save auth information for Stitch",_a[StitchClientErrorCode.StreamingNotSupported]="streaming not supported in this SDK",_a[StitchClientErrorCode.StreamClosed]="stream is closed",_a[StitchClientErrorCode.UnexpectedArguments]="function does not accept arguments",_a),__extends$l=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),StitchClientError=function(e){__extends$l(o,e);function o(s){var a=this,c="("+StitchClientErrorCode[s]+"): "+clientErrorCodeDescs[s];return a=e.call(this,c)||this,a.errorCode=s,a.errorCodeName=StitchClientErrorCode[s],a}return o}(StitchError),Event=function(){function e(o,s){this.eventName=o,this.data=s}return e.MESSAGE_EVENT="message",e}(),StitchEvent=function(){function e(o,s,a){this.eventName=o,s=s||"";for(var c=[],h=0;h<s.length;h++){var d=s[h];switch(d){case"%":if(h+2>=s.length)break;var _=s.substring(h+1,h+3),b=void 0;switch(_){case"25":b=!0,c.push("%");break;case"0A":b=!0,c.push(`
`);break;case"0D":b=!0,c.push("\r");break;default:b=!1}if(b){h+=2;continue}break}c.push(d)}var $=c.join("");switch(this.eventName){case e.ERROR_EVENT_NAME:var rt=void 0,nt=void 0;try{var lt=bson_54.parse($,{strict:!1});rt=lt[ErrorFields.Error],nt=stitchServiceErrorCodeFromApi(lt[ErrorFields.ErrorCode])}catch{rt=$,nt=StitchServiceErrorCode.Unknown}this.error=new StitchServiceError(rt,nt);break;case Event.MESSAGE_EVENT:this.data=bson_54.parse($,{strict:!1}),a&&(this.data=a.decode(this.data));break}}return e.fromEvent=function(o,s){return new e(o.eventName,o.data,s)},e.ERROR_EVENT_NAME="error",e}(),ErrorFields;(function(e){e.Error="error",e.ErrorCode="error_code"})(ErrorFields||(ErrorFields={}));var Stream=function(){function e(o,s){this.eventStream=o,this.decoder=s,this.listeners=[]}return e.prototype.next=function(){var o=this;return this.eventStream.nextEvent().then(function(s){var a=StitchEvent.fromEvent(s,o.decoder);if(a.eventName===StitchEvent.ERROR_EVENT_NAME)throw a.error;return a.eventName===Event.MESSAGE_EVENT?a.data:o.next()})},e.prototype.onNext=function(o){var s=this,a={onEvent:function(c){var h=StitchEvent.fromEvent(c,s.decoder);h.eventName===Event.MESSAGE_EVENT&&o(h.data)}};this.eventStream.addListener(a)},e.prototype.onError=function(o){var s=this,a={onEvent:function(c){var h=StitchEvent.fromEvent(c,s.decoder);h.eventName===StitchEvent.ERROR_EVENT_NAME&&o(h.error)}};this.eventStream.addListener(a)},e.prototype.addListener=function(o){var s=this,a={onEvent:function(c){var h=StitchEvent.fromEvent(c,s.decoder);h.eventName===StitchEvent.ERROR_EVENT_NAME?o.onError&&o.onError(h.error):o.onNext&&o.onNext(h.data)}};this.listeners.push([o,a]),this.eventStream.addListener(a)},e.prototype.removeListener=function(o){for(var s=-1,a=0;a<this.listeners.length;a++)if(this.listeners[a][0]===o){s=a;break}if(s!==-1){var c=this.listeners[s][1];this.listeners.splice(s,1),this.eventStream.removeListener(c)}},e.prototype.isOpen=function(){return this.eventStream.isOpen()},e.prototype.close=function(){this.eventStream.close()},e}(),NAME="name",EMAIL="email",PICTURE_URL="picture",FIRST_NAME="first_name",LAST_NAME="last_name",GENDER="gender",BIRTHDAY="birthday",MIN_AGE="min_age",MAX_AGE="max_age",StitchUserProfileImpl=function(){function e(o,s,a){s===void 0&&(s={}),a===void 0&&(a=[]),this.userType=o,this.data=s,this.identities=a}return e.empty=function(){return new e},Object.defineProperty(e.prototype,"name",{get:function(){return this.data[NAME]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"email",{get:function(){return this.data[EMAIL]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pictureUrl",{get:function(){return this.data[PICTURE_URL]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstName",{get:function(){return this.data[FIRST_NAME]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastName",{get:function(){return this.data[LAST_NAME]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gender",{get:function(){return this.data[GENDER]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"birthday",{get:function(){return this.data[BIRTHDAY]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minAge",{get:function(){var o=this.data[MIN_AGE];if(o!==void 0)return o},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxAge",{get:function(){var o=this.data[MAX_AGE];if(o!==void 0)return o},enumerable:!0,configurable:!0}),e}(),CoreStitchUserImpl=function(){function e(o,s,a,c,h,d,_){this.id=o,this.loggedInProviderType=s,this.loggedInProviderName=a,this.profile=d===void 0?StitchUserProfileImpl.empty():d,this.isLoggedIn=c,this.lastAuthActivity=h,this.customData=_===void 0?{}:_}return Object.defineProperty(e.prototype,"userType",{get:function(){return this.profile.userType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identities",{get:function(){return this.profile.identities},enumerable:!0,configurable:!0}),e.prototype.equals=function(o){return this.id===o.id&&JSON.stringify(this.identities)===JSON.stringify(o.identities)&&this.isLoggedIn===o.isLoggedIn&&this.loggedInProviderName===o.loggedInProviderName&&this.loggedInProviderType===o.loggedInProviderType&&JSON.stringify(this.profile)===JSON.stringify(o.profile)},e}(),AnonymousAuthProvider=function(){function e(){}return e.TYPE="anon-user",e.DEFAULT_NAME="anon-user",e}(),StitchAuthResponseCredential=function(){function e(o,s,a,c){this.authInfo=o,this.providerType=s,this.providerName=a,this.asLink=c}return e}();function base64Decode(e){var o=e.length%4,s;if(o!=0){var a=4-o;s=e+"=".repeat(a)}else s=e;var c=toByteArray_1(s);return utf8Slice(c,0,c.length)}function base64Encode(e){var o;return typeof Uint8Array>"u"&&(o=utf8ToBytes(e)),o=new Uint8Array(utf8ToBytes(e)),fromByteArray_1(o)}function utf8ToBytes(e){for(var o=1/0,s,a=e.length,c=null,h=[],d=0;d<a;d++){if(s=e.charCodeAt(d),s>55295&&s<57344)if(c)if(s<56320){(o-=3)>-1&&h.push(239,191,189),c=s;continue}else s=c-55296<<10|s-56320|65536,c=null;else if(s>56319){(o-=3)>-1&&h.push(239,191,189);continue}else if(d+1===a){(o-=3)>-1&&h.push(239,191,189);continue}else{c=s;continue}else c&&((o-=3)>-1&&h.push(239,191,189),c=null);if(s<128){if((o-=1)<0)break;h.push(s)}else if(s<2048){if((o-=2)<0)break;h.push(s>>6|192,s&63|128)}else if(s<65536){if((o-=3)<0)break;h.push(s>>12|224,s>>6&63|128,s&63|128)}else if(s<2097152){if((o-=4)<0)break;h.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else throw new Error("Invalid code point")}return h}function utf8Slice(e,o,s){var a="",c="";s=Math.min(e.length,s||1/0),o=o||0;for(var h=o;h<s;h++)e[h]<=127?(a+=decodeUtf8Char(c)+String.fromCharCode(e[h]),c=""):c+="%"+e[h].toString(16);return a+decodeUtf8Char(c)}function decodeUtf8Char(e){try{return decodeURIComponent(e)}catch{return String.fromCharCode(65533)}}var EXPIRES="exp",ISSUED_AT="iat",USER_DATA="user_data",JWT=function(){function e(o,s,a){this.expires=o,this.issuedAt=s,this.userData=a}return e.fromEncoded=function(o){var s=e.splitToken(o),a=JSON.parse(base64Decode(s[1])),c=a[EXPIRES],h=a[ISSUED_AT],d=a[USER_DATA];return new e(c,h,d)},e.splitToken=function(o){var s=o.split(".");if(s.length!==3)throw new Error("Malformed JWT token. The string "+o+" should have 3 parts.");return s},e}(),SLEEP_MILLIS=6e4,EXPIRATION_WINDOW_SECS=300,AccessTokenRefresher=function(){function e(o){this.auth=o}return e.prototype.shouldRefresh=function(){var o=this.auth;if(o===void 0||!o.isLoggedIn)return!1;var s=o.authInfo;if(s===void 0||!s.isLoggedIn)return!1;var a;try{a=JWT.fromEncoded(s.accessToken)}catch(c){return console.log(c),!1}return!(Date.now()/1e3<a.expires-EXPIRATION_WINDOW_SECS)},e.prototype.run=function(){var o=this;this.shouldRefresh()?this.auth.refreshAccessToken().then(function(){o.nextTimeout=setTimeout(function(){return o.run()},SLEEP_MILLIS)}).catch(function(){o.nextTimeout=setTimeout(function(){return o.run()},SLEEP_MILLIS)}):this.nextTimeout=setTimeout(function(){return o.run()},SLEEP_MILLIS)},e.prototype.stop=function(){clearTimeout(this.nextTimeout)},e}(),__extends$k=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),Fields$d;(function(e){e.USER_ID="user_id",e.DEVICE_ID="device_id",e.ACCESS_TOKEN="access_token",e.REFRESH_TOKEN="refresh_token"})(Fields$d||(Fields$d={}));var ApiAuthInfo=function(e){__extends$k(o,e);function o(s,a,c,h){return e.call(this,s,a,c,h)||this}return o.fromJSON=function(s){return new o(s[Fields$d.USER_ID],s[Fields$d.DEVICE_ID],s[Fields$d.ACCESS_TOKEN],s[Fields$d.REFRESH_TOKEN])},o.prototype.toJSON=function(){var s;return s={},s[Fields$d.USER_ID]=this.userId,s[Fields$d.DEVICE_ID]=this.deviceId,s[Fields$d.ACCESS_TOKEN]=this.accessToken,s[Fields$d.REFRESH_TOKEN]=this.refreshToken,s},o}(AuthInfo),Assertions=function(){function e(){}return e.keyPresent=function(o,s){if(s[o]===void 0)throw new Error("expected "+o+" to be present")},e}(),StitchUserIdentity=function(){function e(o,s){this.id=o,this.providerType=s}return e}(),__extends$j=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),Fields$c;(function(e){e.ID="id",e.PROVIDER_TYPE="provider_type"})(Fields$c||(Fields$c={}));var ApiStitchUserIdentity=function(e){__extends$j(o,e);function o(s,a){return e.call(this,s,a)||this}return o.fromJSON=function(s){return new o(s[Fields$c.ID],s[Fields$c.PROVIDER_TYPE])},o.prototype.toJSON=function(){var s;return s={},s[Fields$c.ID]=this.id,s[Fields$c.PROVIDER_TYPE]=this.providerType,s},o}(StitchUserIdentity),__extends$i=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),Fields$b;(function(e){e.DATA="data",e.USER_TYPE="type",e.IDENTITIES="identities"})(Fields$b||(Fields$b={}));var ApiCoreUserProfile=function(e){__extends$i(o,e);function o(s,a,c){return e.call(this,s,a,c)||this}return o.fromJSON=function(s){return Assertions.keyPresent(Fields$b.USER_TYPE,s),Assertions.keyPresent(Fields$b.DATA,s),Assertions.keyPresent(Fields$b.IDENTITIES,s),new o(s[Fields$b.USER_TYPE],s[Fields$b.DATA],s[Fields$b.IDENTITIES].map(ApiStitchUserIdentity.fromJSON))},o.prototype.toJSON=function(){var s;return s={},s[Fields$b.DATA]=this.data,s[Fields$b.USER_TYPE]=this.userType,s[Fields$b.IDENTITIES]=this.identities,s},o}(StitchUserProfileImpl),__extends$h=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),Fields$a;(function(e){e.ID="id",e.PROVIDER_TYPE="provider_type"})(Fields$a||(Fields$a={}));var StoreStitchUserIdentity=function(e){__extends$h(o,e);function o(s,a){return e.call(this,s,a)||this}return o.decode=function(s){return new o(s[Fields$a.ID],s[Fields$a.PROVIDER_TYPE])},o.prototype.encode=function(){var s;return s={},s[Fields$a.ID]=this.id,s[Fields$a.PROVIDER_TYPE]=this.providerType,s},o}(StitchUserIdentity),__extends$g=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),Fields$9;(function(e){e.DATA="data",e.USER_TYPE="type",e.IDENTITIES="identities"})(Fields$9||(Fields$9={}));var StoreCoreUserProfile=function(e){__extends$g(o,e);function o(s,a,c){var h=e.call(this,s,a,c)||this;return h.userType=s,h.data=a,h.identities=c,h}return o.decode=function(s){return s?new o(s[Fields$9.USER_TYPE],s[Fields$9.DATA],s[Fields$9.IDENTITIES].map(function(a){return StoreStitchUserIdentity.decode(a)})):void 0},o.prototype.encode=function(){var s;return s={},s[Fields$9.DATA]=this.data,s[Fields$9.USER_TYPE]=this.userType,s[Fields$9.IDENTITIES]=this.identities.map(function(a){return a.encode()}),s},o}(StitchUserProfileImpl),__extends$f=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),Fields$8;(function(e){e.USER_ID="user_id",e.DEVICE_ID="device_id",e.ACCESS_TOKEN="access_token",e.REFRESH_TOKEN="refresh_token",e.LAST_AUTH_ACTIVITY="last_auth_activity",e.LOGGED_IN_PROVIDER_TYPE="logged_in_provider_type",e.LOGGED_IN_PROVIDER_NAME="logged_in_provider_name",e.USER_PROFILE="user_profile"})(Fields$8||(Fields$8={}));function readActiveUserFromStorage(e){var o=e.get(StoreAuthInfo.ACTIVE_USER_STORAGE_NAME);if(o)return StoreAuthInfo.decode(JSON.parse(o))}function readCurrentUsersFromStorage(e){var o=e.get(StoreAuthInfo.ALL_USERS_STORAGE_NAME);if(!o)return new Map;var s=JSON.parse(o);if(!Array.isArray(s))throw new StitchClientError(StitchClientErrorCode.CouldNotLoadPersistedAuthInfo);var a=new Map;return s.forEach(function(c){var h=StoreAuthInfo.decode(c);a.set(h.userId,h)}),a}function writeActiveUserAuthInfoToStorage(e,o){if(e.isEmpty){o.remove(StoreAuthInfo.ACTIVE_USER_STORAGE_NAME);return}var s=new StoreAuthInfo(e.userId,e.deviceId,e.accessToken,e.refreshToken,e.loggedInProviderType,e.loggedInProviderName,e.lastAuthActivity,e.userProfile?new StoreCoreUserProfile(e.userProfile.userType,e.userProfile.data,e.userProfile.identities.map(function(a){return new StoreStitchUserIdentity(a.id,a.providerType)})):void 0);o.set(StoreAuthInfo.ACTIVE_USER_STORAGE_NAME,JSON.stringify(s.encode()))}function writeAllUsersAuthInfoToStorage(e,o){var s=[];e.forEach(function(a,c){var h=new StoreAuthInfo(c,a.deviceId,a.accessToken,a.refreshToken,a.loggedInProviderType,a.loggedInProviderName,a.lastAuthActivity,a.userProfile?new StoreCoreUserProfile(a.userProfile.userType,a.userProfile.data,a.userProfile.identities.map(function(d){return new StoreStitchUserIdentity(d.id,d.providerType)})):void 0);s.push(h.encode())}),o.set(StoreAuthInfo.ALL_USERS_STORAGE_NAME,JSON.stringify(s))}var StoreAuthInfo=function(e){__extends$f(o,e);function o(s,a,c,h,d,_,b,$){var rt=e.call(this,s,a,c,h,d,_,b,$)||this;return rt.userProfile=$,rt}return o.decode=function(s){var a=s[Fields$8.USER_ID],c=s[Fields$8.DEVICE_ID],h=s[Fields$8.ACCESS_TOKEN],d=s[Fields$8.REFRESH_TOKEN],_=s[Fields$8.LOGGED_IN_PROVIDER_TYPE],b=s[Fields$8.LOGGED_IN_PROVIDER_NAME],$=s[Fields$8.USER_PROFILE],rt=s[Fields$8.LAST_AUTH_ACTIVITY];return new o(a,c,h,d,_,b,new Date(rt),StoreCoreUserProfile.decode($))},o.prototype.encode=function(){var s={};return s[Fields$8.USER_ID]=this.userId,s[Fields$8.ACCESS_TOKEN]=this.accessToken,s[Fields$8.REFRESH_TOKEN]=this.refreshToken,s[Fields$8.DEVICE_ID]=this.deviceId,s[Fields$8.LOGGED_IN_PROVIDER_NAME]=this.loggedInProviderName,s[Fields$8.LOGGED_IN_PROVIDER_TYPE]=this.loggedInProviderType,s[Fields$8.LAST_AUTH_ACTIVITY]=this.lastAuthActivity?this.lastAuthActivity.getTime():void 0,s[Fields$8.USER_PROFILE]=this.userProfile?this.userProfile.encode():void 0,s},o.ACTIVE_USER_STORAGE_NAME="auth_info",o.ALL_USERS_STORAGE_NAME="all_auth_infos",o}(AuthInfo),__values$1=globalThis&&globalThis.__values||function(e){var o=typeof Symbol=="function"&&e[Symbol.iterator],s=0;return o?o.call(e):{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}}},__read$1=globalThis&&globalThis.__read||function(e,o){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var a=s.call(e),c,h=[],d;try{for(;(o===void 0||o-- >0)&&!(c=a.next()).done;)h.push(c.value)}catch(_){d={error:_}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(d)throw d.error}}return h},OPTIONS="options",DEVICE="device",CoreStitchAuth=function(){function e(o,s,a,c){c===void 0&&(c=!0),this.requestClient=o,this.authRoutes=s,this.storage=a;var h;try{h=readCurrentUsersFromStorage(a)}catch{throw new StitchClientError(StitchClientErrorCode.CouldNotLoadPersistedAuthInfo)}this.allUsersAuthInfo=h;var d;try{d=readActiveUserFromStorage(a)}catch{throw new StitchClientError(StitchClientErrorCode.CouldNotLoadPersistedAuthInfo)}this.activeUserAuthInfo=d===void 0?AuthInfo.empty():d,this.activeUserAuthInfo.hasUser&&(this.currentUser=this.prepUser(this.activeUserAuthInfo)),c&&(this.accessTokenRefresher=new AccessTokenRefresher(this),this.accessTokenRefresher.run())}return Object.defineProperty(e.prototype,"authInfo",{get:function(){return this.activeUserAuthInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoggedIn",{get:function(){return this.currentUser!==void 0&&this.currentUser.isLoggedIn},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this.currentUser},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasDeviceId",{get:function(){return this.activeUserAuthInfo.deviceId!==void 0&&this.activeUserAuthInfo.deviceId!==""&&this.activeUserAuthInfo.deviceId!=="000000000000000000000000"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deviceId",{get:function(){if(this.hasDeviceId)return this.activeUserAuthInfo.deviceId},enumerable:!0,configurable:!0}),e.prototype.listUsers=function(){var o=this,s=[];return this.allUsersAuthInfo.forEach(function(a){s.push(o.prepUser(a))}),s},e.prototype.doAuthenticatedRequest=function(o,s){var a=this;try{return this.requestClient.doRequest(this.prepareAuthRequest(o,s||this.activeUserAuthInfo)).catch(function(c){return a.handleAuthFailure(c,o)})}catch(c){return Promise.reject(c)}},e.prototype.doAuthenticatedRequestWithDecoder=function(o,s){return this.doAuthenticatedRequest(o).then(function(a){var c=bson_54.parse(a.body,{strict:!1});return s?s.decode(c):c}).catch(function(a){throw wrapDecodingError(a)})},e.prototype.openAuthenticatedEventStream=function(o,s){var a=this;if(s===void 0&&(s=!0),!this.isLoggedIn)throw new StitchClientError(StitchClientErrorCode.MustAuthenticateFirst);var c=o.useRefreshToken?this.activeUserAuthInfo.refreshToken:this.activeUserAuthInfo.accessToken;return this.requestClient.doStreamRequest(o.builder.withPath(o.path+"&stitch_at="+c).build(),s,function(){return a.openAuthenticatedEventStream(o,!1)}).catch(function(h){return a.handleAuthFailureForEventStream(h,o,s)})},e.prototype.openAuthenticatedStreamWithDecoder=function(o,s){return this.openAuthenticatedEventStream(o).then(function(a){return new Stream(a,s)})},e.prototype.refreshAccessToken=function(){var o=this,s=new StitchAuthRequest.Builder().withRefreshToken().withPath(this.authRoutes.sessionRoute).withMethod(Method$1.POST);return this.doAuthenticatedRequest(s.build()).then(function(a){try{var c=ApiAuthInfo.fromJSON(JSON.parse(a.body));if(o.activeUserAuthInfo=o.activeUserAuthInfo.merge(c),c.accessToken&&o.user instanceof CoreStitchUserImpl){var h=JWT.fromEncoded(c.accessToken).userData;o.user.customData=h===void 0?{}:h}}catch(d){throw new StitchRequestError(d,StitchRequestErrorCode.DECODING_ERROR)}try{writeActiveUserAuthInfoToStorage(o.activeUserAuthInfo,o.storage),o.allUsersAuthInfo.set(o.activeUserAuthInfo.userId,o.activeUserAuthInfo),writeAllUsersAuthInfoToStorage(o.allUsersAuthInfo,o.storage)}catch{throw new StitchClientError(StitchClientErrorCode.CouldNotPersistAuthInfo)}})},e.prototype.switchToUserWithId=function(o){var s=this.allUsersAuthInfo.get(o);if(s===void 0)throw new StitchClientError(StitchClientErrorCode.UserNotFound);if(!s.isLoggedIn)throw new StitchClientError(StitchClientErrorCode.UserNotLoggedIn);this.activeUserAuthInfo.hasUser&&this.allUsersAuthInfo.set(this.activeUserAuthInfo.userId,this.activeUserAuthInfo.withNewAuthActivityTime());var a=s.withNewAuthActivityTime();this.allUsersAuthInfo.set(o,a),writeActiveUserAuthInfoToStorage(a,this.storage),this.activeUserAuthInfo=a;var c=this.currentUser;return this.currentUser=this.prepUser(a),this.onAuthEvent(),this.dispatchAuthEvent({currentActiveUser:this.currentUser,kind:AuthEventKind.ActiveUserChanged,previousActiveUser:c}),this.currentUser},e.prototype.loginWithCredentialInternal=function(o){var s=this,a,c;if(o instanceof StitchAuthResponseCredential)return this.processLogin(o,o.authInfo,o.asLink).then(function(rt){return s.dispatchAuthEvent({kind:AuthEventKind.UserLoggedIn,loggedInUser:rt}),rt});if(o.providerCapabilities.reusesExistingSession)try{for(var h=__values$1(this.allUsersAuthInfo),d=h.next();!d.done;d=h.next()){var _=__read$1(d.value,2),b=_[0],$=_[1];if($.loggedInProviderType===o.providerType){if($.isLoggedIn)try{return Promise.resolve(this.switchToUserWithId(b))}catch(rt){return Promise.reject(rt)}$.userId!==void 0&&this.removeUserWithIdInternal($.userId)}}}catch(rt){a={error:rt}}finally{try{d&&!d.done&&(c=h.return)&&c.call(h)}finally{if(a)throw a.error}}return this.doLogin(o,!1)},e.prototype.linkUserWithCredentialInternal=function(o,s){return this.currentUser!==void 0&&o.id!==this.currentUser.id?Promise.reject(new StitchClientError(StitchClientErrorCode.UserNoLongerValid)):this.doLogin(s,!0)},e.prototype.logoutInternal=function(){return!this.isLoggedIn||!this.currentUser?Promise.resolve():this.logoutUserWithIdInternal(this.currentUser.id)},e.prototype.logoutUserWithIdInternal=function(o){var s=this,a=this.allUsersAuthInfo.get(o);if(a===void 0)return Promise.reject(new StitchClientError(StitchClientErrorCode.UserNotFound));if(!a.isLoggedIn)return Promise.resolve();var c=function(){s.clearUserAuthTokens(a.userId),a.loggedInProviderType===AnonymousAuthProvider.TYPE&&s.removeUserWithIdInternal(a.userId)};return this.doLogout(a).then(function(){c()}).catch(function(){c()})},e.prototype.removeUserInternal=function(){return!this.isLoggedIn||this.currentUser===void 0?Promise.resolve():this.removeUserWithIdInternal(this.currentUser.id)},e.prototype.removeUserWithIdInternal=function(o){var s=this,a=this.allUsersAuthInfo.get(o);if(a===void 0)return Promise.reject(new StitchClientError(StitchClientErrorCode.UserNotFound));var c=function(){s.clearUserAuthTokens(a.userId),s.allUsersAuthInfo.delete(o),writeAllUsersAuthInfoToStorage(s.allUsersAuthInfo,s.storage);var h=s.prepUser(a.loggedOut());s.onAuthEvent(),s.dispatchAuthEvent({kind:AuthEventKind.UserRemoved,removedUser:h})};return a.isLoggedIn?this.doLogout(a).then(function(){c()}).catch(function(h){c()}):(c(),Promise.resolve())},e.prototype.close=function(){this.accessTokenRefresher&&this.accessTokenRefresher.stop()},e.prototype.prepareAuthRequest=function(o,s){if(!s.isLoggedIn)throw new StitchClientError(StitchClientErrorCode.MustAuthenticateFirst);var a=o.builder,c=a.headers||{};return o.useRefreshToken?c[Headers$1.AUTHORIZATION]=Headers$1.getAuthorizationBearer(s.refreshToken):c[Headers$1.AUTHORIZATION]=Headers$1.getAuthorizationBearer(s.accessToken),a.withHeaders(c),a.build()},e.prototype.handleAuthFailureForEventStream=function(o,s,a){var c=this;if(a===void 0&&(a=!0),!(o instanceof StitchServiceError)||o.errorCode!==StitchServiceErrorCode.InvalidSession)throw o;if(s.useRefreshToken||!s.shouldRefreshOnFailure)throw this.clearActiveUserAuth(),o;return this.tryRefreshAccessToken(s.startedAt).then(function(){return c.openAuthenticatedEventStream(s.builder.withShouldRefreshOnFailure(!1).build(),a)})},e.prototype.handleAuthFailure=function(o,s){var a=this;if(!(o instanceof StitchServiceError)||o.errorCode!==StitchServiceErrorCode.InvalidSession)throw o;if(s.useRefreshToken||!s.shouldRefreshOnFailure)throw this.clearActiveUserAuth(),o;return this.tryRefreshAccessToken(s.startedAt).then(function(){return a.doAuthenticatedRequest(s.builder.withShouldRefreshOnFailure(!1).build())})},e.prototype.tryRefreshAccessToken=function(o){if(!this.isLoggedIn)throw new StitchClientError(StitchClientErrorCode.LoggedOutDuringRequest);try{var s=JWT.fromEncoded(this.activeUserAuthInfo.accessToken);if(s.issuedAt>=o)return Promise.resolve()}catch{}return this.refreshAccessToken()},e.prototype.prepUser=function(o){return this.userFactory.makeUser(o.userId,o.loggedInProviderType,o.loggedInProviderName,o.isLoggedIn,o.lastAuthActivity,o.userProfile)},e.prototype.attachAuthOptions=function(o){var s={};s[DEVICE]=this.deviceInfo,o[OPTIONS]=s},e.prototype.doLogin=function(o,s){var a=this,c=this.currentUser;return this.doLoginRequest(o,s).then(function(h){return a.processLoginResponse(o,h,s)}).then(function(h){return a.onAuthEvent(),s?a.dispatchAuthEvent({kind:AuthEventKind.UserLinked,linkedUser:h}):(a.dispatchAuthEvent({kind:AuthEventKind.UserLoggedIn,loggedInUser:h}),a.dispatchAuthEvent({currentActiveUser:h,kind:AuthEventKind.ActiveUserChanged,previousActiveUser:c})),h})},e.prototype.doLoginRequest=function(o,s){var a=new StitchDocRequest.Builder;a.withMethod(Method$1.POST),s?a.withPath(this.authRoutes.getAuthProviderLinkRoute(o.providerName)):a.withPath(this.authRoutes.getAuthProviderLoginRoute(o.providerName));var c=o.material;if(this.attachAuthOptions(c),a.withDocument(c),!s)return this.requestClient.doRequest(a.build());var h=new StitchAuthDocRequest(a.build(),a.document);return this.doAuthenticatedRequest(h)},e.prototype.processLogin=function(o,s,a){var c=this,h=this.activeUserAuthInfo,d=this.currentUser;return s=this.activeUserAuthInfo.merge(new AuthInfo(s.userId,s.deviceId,s.accessToken,s.refreshToken,o.providerType,o.providerName,void 0,void 0)),this.activeUserAuthInfo=s,this.currentUser=this.userFactory.makeUser(this.activeUserAuthInfo.userId,o.providerType,o.providerName,this.activeUserAuthInfo.isLoggedIn,new Date,void 0,JWT.fromEncoded(s.accessToken).userData),this.doGetUserProfile().then(function(_){h.hasUser&&c.allUsersAuthInfo.set(h.userId,h.withNewAuthActivityTime()),s=s.merge(new AuthInfo(s.userId,s.deviceId,s.accessToken,s.refreshToken,o.providerType,o.providerName,new Date,_));var b=!c.allUsersAuthInfo.has(s.userId);try{writeActiveUserAuthInfoToStorage(s,c.storage),c.allUsersAuthInfo.set(s.userId,s),writeAllUsersAuthInfoToStorage(c.allUsersAuthInfo,c.storage)}catch{throw c.activeUserAuthInfo=h,c.currentUser=d,s.userId!==h.userId&&s.userId&&c.allUsersAuthInfo.delete(s.userId),new StitchClientError(StitchClientErrorCode.CouldNotPersistAuthInfo)}return c.activeUserAuthInfo=s,c.currentUser=c.userFactory.makeUser(c.activeUserAuthInfo.userId,o.providerType,o.providerName,c.activeUserAuthInfo.isLoggedIn,c.activeUserAuthInfo.lastAuthActivity,_,JWT.fromEncoded(s.accessToken).userData),b&&(c.onAuthEvent(),c.dispatchAuthEvent({addedUser:c.currentUser,kind:AuthEventKind.UserAdded})),c.currentUser}).catch(function(_){if(_ instanceof StitchClientError)throw _;if(a||h.hasUser){var b=c.activeUserAuthInfo;c.activeUserAuthInfo=h,c.currentUser=d,a&&(c.activeUserAuthInfo=c.activeUserAuthInfo.withAuthProvider(b.loggedInProviderType,b.loggedInProviderName))}else c.clearActiveUserAuth();throw _})},e.prototype.processLoginResponse=function(o,s,a){try{if(!s)throw new StitchServiceError("the login response could not be processed for credential: "+o+";response was undefined");if(!s.body)throw new StitchServiceError("response with status code "+s.statusCode+" has empty body");return this.processLogin(o,ApiAuthInfo.fromJSON(JSON.parse(s.body)),a)}catch(c){throw new StitchRequestError(c,StitchRequestErrorCode.DECODING_ERROR)}},e.prototype.doGetUserProfile=function(){var o=new StitchAuthRequest.Builder;return o.withMethod(Method$1.GET).withPath(this.authRoutes.profileRoute),this.doAuthenticatedRequest(o.build()).then(function(s){return ApiCoreUserProfile.fromJSON(JSON.parse(s.body))}).catch(function(s){throw s instanceof StitchError?s:new StitchRequestError(s,StitchRequestErrorCode.DECODING_ERROR)})},e.prototype.doLogout=function(o){var s=new StitchAuthRequest.Builder;return s.withRefreshToken().withPath(this.authRoutes.sessionRoute).withMethod(Method$1.DELETE),this.doAuthenticatedRequest(s.build(),o).then(function(){})},e.prototype.clearActiveUserAuth=function(){this.isLoggedIn&&this.clearUserAuthTokens(this.activeUserAuthInfo.userId)},e.prototype.clearUserAuthTokens=function(o){var s=this.allUsersAuthInfo.get(o);if(s===void 0){if(this.activeUserAuthInfo.userId!==o)throw new StitchClientError(StitchClientErrorCode.UserNotFound)}else if(!s.isLoggedIn)return;try{var a=void 0;if(s){var c=s.loggedOut();this.allUsersAuthInfo.set(o,c),writeAllUsersAuthInfoToStorage(this.allUsersAuthInfo,this.storage),a=this.userFactory.makeUser(c.userId,c.loggedInProviderType,c.loggedInProviderName,c.isLoggedIn,c.lastAuthActivity,c.userProfile)}var h=!1;this.activeUserAuthInfo.hasUser&&this.activeUserAuthInfo.userId===o&&(h=!0,this.activeUserAuthInfo=this.activeUserAuthInfo.withClearedUser(),this.currentUser=void 0,writeActiveUserAuthInfoToStorage(this.activeUserAuthInfo,this.storage)),a&&(this.onAuthEvent(),this.dispatchAuthEvent({kind:AuthEventKind.UserLoggedOut,loggedOutUser:a}),h&&this.dispatchAuthEvent({currentActiveUser:void 0,kind:AuthEventKind.ActiveUserChanged,previousActiveUser:a}))}catch{throw new StitchClientError(StitchClientErrorCode.CouldNotPersistAuthInfo)}},e}(),DeviceFields;(function(e){e.DEVICE_ID="deviceId",e.APP_ID="appId",e.APP_VERSION="appVersion",e.PLATFORM="platform",e.PLATFORM_VERSION="platformVersion",e.SDK_VERSION="sdkVersion"})(DeviceFields||(DeviceFields={}));const DeviceFields$1=DeviceFields;var ProviderCapabilities=function(){function e(o){o===void 0&&(o=!1),this.reusesExistingSession=o}return e}(),Fields$7;(function(e){e.TOKEN="token"})(Fields$7||(Fields$7={}));var Fields$6;(function(e){e.ACCESS_TOKEN="accessToken"})(Fields$6||(Fields$6={}));var Fields$5;(function(e){e.AUTH_CODE="authCode"})(Fields$5||(Fields$5={}));var Fields$4;(function(e){e.KEY="key"})(Fields$4||(Fields$4={}));var CoreAuthProviderClient=function(){function e(o,s,a){this.providerName=o,this.requestClient=s,this.baseRoute=a}return e}(),Fields$3;(function(e){e.ID="_id",e.KEY="key",e.NAME="name",e.DISABLED="disabled"})(Fields$3||(Fields$3={}));var UserApiKey=function(){function e(o,s,a,c){this.id=bson$1.ObjectID.createFromHexString(o),this.key=s,this.name=a,this.disabled=c}return e.readFromApi=function(o){var s=typeof o=="string"?JSON.parse(o):o;return Assertions.keyPresent(Fields$3.ID,s),Assertions.keyPresent(Fields$3.NAME,s),Assertions.keyPresent(Fields$3.DISABLED,s),new e(s[Fields$3.ID],s[Fields$3.KEY],s[Fields$3.NAME],s[Fields$3.DISABLED])},e.prototype.toJSON=function(){var o;return o={},o[Fields$3.ID]=this.id,o[Fields$3.KEY]=this.key,o[Fields$3.NAME]=this.name,o[Fields$3.DISABLED]=this.disabled,o},e}(),UserApiKeyAuthProvider=function(){function e(){}return e.TYPE="api-key",e.DEFAULT_NAME="api-key",e}(),__extends$e=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),ApiKeyFields;(function(e){e.NAME="name"})(ApiKeyFields||(ApiKeyFields={}));var CoreUserApiKeyAuthProviderClient=function(e){__extends$e(o,e);function o(s,a){var c=this,h=a.baseAuthRoute+"/api_keys",d=UserApiKeyAuthProvider.DEFAULT_NAME;return c=e.call(this,d,s,h)||this,c}return o.prototype.createApiKey=function(s){var a,c=new StitchAuthDocRequest.Builder;return c.withMethod(Method$1.POST).withPath(this.baseRoute).withDocument((a={},a[ApiKeyFields.NAME]=s,a)).withRefreshToken(),this.requestClient.doAuthenticatedRequest(c.build()).then(function(h){return UserApiKey.readFromApi(h.body)}).catch(function(h){throw wrapDecodingError(h)})},o.prototype.fetchApiKey=function(s){var a=new StitchAuthRequest.Builder;return a.withMethod(Method$1.GET).withPath(this.getApiKeyRoute(s.toHexString())),a.withRefreshToken(),this.requestClient.doAuthenticatedRequest(a.build()).then(function(c){return UserApiKey.readFromApi(c.body)}).catch(function(c){throw wrapDecodingError(c)})},o.prototype.fetchApiKeys=function(){var s=new StitchAuthRequest.Builder;return s.withMethod(Method$1.GET).withPath(this.baseRoute),s.withRefreshToken(),this.requestClient.doAuthenticatedRequest(s.build()).then(function(a){var c=JSON.parse(a.body);if(Array.isArray(c))return c.map(function(h){return UserApiKey.readFromApi(h)});throw new StitchRequestError(new Error("unexpected non-array response from server"),StitchRequestErrorCode.DECODING_ERROR)}).catch(function(a){throw wrapDecodingError(a)})},o.prototype.deleteApiKey=function(s){var a=new StitchAuthRequest.Builder;return a.withMethod(Method$1.DELETE).withPath(this.getApiKeyRoute(s.toHexString())),a.withRefreshToken(),this.requestClient.doAuthenticatedRequest(a.build()).then(function(){})},o.prototype.enableApiKey=function(s){var a=new StitchAuthRequest.Builder;return a.withMethod(Method$1.PUT).withPath(this.getApiKeyEnableRoute(s.toHexString())),a.withRefreshToken(),this.requestClient.doAuthenticatedRequest(a.build()).then(function(){})},o.prototype.disableApiKey=function(s){var a=new StitchAuthRequest.Builder;return a.withMethod(Method$1.PUT).withPath(this.getApiKeyDisableRoute(s.toHexString())),a.withRefreshToken(),this.requestClient.doAuthenticatedRequest(a.build()).then(function(){})},o.prototype.getApiKeyRoute=function(s){return this.baseRoute+"/"+s},o.prototype.getApiKeyEnableRoute=function(s){return this.getApiKeyRoute(s)+"/enable"},o.prototype.getApiKeyDisableRoute=function(s){return this.getApiKeyRoute(s)+"/disable"},o}(CoreAuthProviderClient),Fields$2;(function(e){e.KEY="key"})(Fields$2||(Fields$2={}));var UserApiKeyCredential=function(){function e(o,s){var a;s===void 0&&(s=UserApiKeyAuthProvider.DEFAULT_NAME),this.providerType=UserApiKeyAuthProvider.TYPE,this.providerCapabilities=new ProviderCapabilities(!1),this.providerName=s,this.key=o,this.material=(a={},a[Fields$2.KEY]=this.key,a)}return e}(),UserPasswordAuthProvider=function(){function e(){}return e.TYPE="local-userpass",e.DEFAULT_NAME="local-userpass",e}(),__extends$d=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),RegistrationFields;(function(e){e.EMAIL="email",e.PASSWORD="password"})(RegistrationFields||(RegistrationFields={}));var ActionFields;(function(e){e.EMAIL="email",e.PASSWORD="password",e.TOKEN="token",e.TOKEN_ID="tokenId",e.ARGS="arguments"})(ActionFields||(ActionFields={}));var CoreUserPasswordAuthProviderClient=function(e){__extends$d(o,e);function o(s,a,c){s===void 0&&(s=UserPasswordAuthProvider.DEFAULT_NAME);var h=this,d=c.getAuthProviderRoute(s);return h=e.call(this,s,a,d)||this,h}return o.prototype.registerWithEmailInternal=function(s,a){var c,h=new StitchDocRequest.Builder;return h.withMethod(Method$1.POST).withPath(this.getRegisterWithEmailRoute()),h.withDocument((c={},c[RegistrationFields.EMAIL]=s,c[RegistrationFields.PASSWORD]=a,c)),this.requestClient.doRequest(h.build()).then(function(){})},o.prototype.confirmUserInternal=function(s,a){var c,h=new StitchDocRequest.Builder;return h.withMethod(Method$1.POST).withPath(this.getConfirmUserRoute()),h.withDocument((c={},c[ActionFields.TOKEN]=s,c[ActionFields.TOKEN_ID]=a,c)),this.requestClient.doRequest(h.build()).then(function(){})},o.prototype.resendConfirmationEmailInternal=function(s){var a,c=new StitchDocRequest.Builder;return c.withMethod(Method$1.POST).withPath(this.getResendConfirmationEmailRoute()),c.withDocument((a={},a[ActionFields.EMAIL]=s,a)),this.requestClient.doRequest(c.build()).then(function(){})},o.prototype.resetPasswordInternal=function(s,a,c){var h,d=new StitchDocRequest.Builder;return d.withMethod(Method$1.POST).withPath(this.getResetPasswordRoute()),d.withDocument((h={},h[ActionFields.TOKEN]=s,h[ActionFields.TOKEN_ID]=a,h[ActionFields.PASSWORD]=c,h)),this.requestClient.doRequest(d.build()).then(function(){})},o.prototype.sendResetPasswordEmailInternal=function(s){var a,c=new StitchDocRequest.Builder;return c.withMethod(Method$1.POST).withPath(this.getSendResetPasswordEmailRoute()),c.withDocument((a={},a[ActionFields.EMAIL]=s,a)),this.requestClient.doRequest(c.build()).then(function(){})},o.prototype.callResetPasswordFunctionInternal=function(s,a,c){var h,d=new StitchDocRequest.Builder;return d.withMethod(Method$1.POST).withPath(this.getCallResetPasswordFunctionRoute()),d.withDocument((h={},h[ActionFields.EMAIL]=s,h[ActionFields.PASSWORD]=a,h[ActionFields.ARGS]=c,h)),this.requestClient.doRequest(d.build()).then(function(){})},o.prototype.getRegisterWithEmailRoute=function(){return this.getExtensionRoute("register")},o.prototype.getConfirmUserRoute=function(){return this.getExtensionRoute("confirm")},o.prototype.getResendConfirmationEmailRoute=function(){return this.getExtensionRoute("confirm/send")},o.prototype.getResetPasswordRoute=function(){return this.getExtensionRoute("reset")},o.prototype.getSendResetPasswordEmailRoute=function(){return this.getExtensionRoute("reset/send")},o.prototype.getCallResetPasswordFunctionRoute=function(){return this.getExtensionRoute("reset/call")},o.prototype.getExtensionRoute=function(s){return this.baseRoute+"/"+s},o}(CoreAuthProviderClient),Fields$1;(function(e){e.USERNAME="username",e.PASSWORD="password"})(Fields$1||(Fields$1={}));var UserType;(function(e){e.Normal="normal",e.Server="server",e.Unknown="unknown"})(UserType||(UserType={}));var RebindEvent=function(){function e(){}return e}(),RebindEventType;(function(e){e[e.AUTH_EVENT=0]="AUTH_EVENT"})(RebindEventType||(RebindEventType={}));var CoreStitchServiceClientImpl=function(){function e(o,s,a){this.serviceField="service",this.argumentsField="arguments",this.requestClient=o,this.serviceRoutes=s,this.serviceName=a,this.serviceBinders=[],this.allocatedStreams=[]}return e.prototype.callFunction=function(o,s,a){return this.requestClient.doAuthenticatedRequestWithDecoder(this.getCallServiceFunctionRequest(o,s),a)},e.prototype.streamFunction=function(o,s,a){var c=this;return this.requestClient.openAuthenticatedStreamWithDecoder(this.getStreamServiceFunctionRequest(o,s),a).then(function(h){return c.allocatedStreams.push(h),h})},e.prototype.bind=function(o){this.serviceBinders.push(o)},e.prototype.onRebindEvent=function(o){switch(o.type){case RebindEventType.AUTH_EVENT:var s=o;s.event.kind===AuthEventKind.ActiveUserChanged&&this.closeAllocatedStreams();break}this.serviceBinders.forEach(function(a){a.onRebindEvent(o)})},e.prototype.getStreamServiceFunctionRequest=function(o,s){var a={name:o};this.serviceName!==void 0&&(a[this.serviceField]=this.serviceName),a[this.argumentsField]=s;var c=new StitchAuthRequest.Builder;return c.withMethod(Method$1.GET).withPath(this.serviceRoutes.functionCallRoute+("?stitch_request="+encodeURIComponent(base64Encode(bson_54.stringify(a))))),c.build()},e.prototype.getCallServiceFunctionRequest=function(o,s){var a={name:o};this.serviceName!==void 0&&(a[this.serviceField]=this.serviceName),a[this.argumentsField]=s;var c=new StitchAuthDocRequest.Builder;return c.withMethod(Method$1.POST).withPath(this.serviceRoutes.functionCallRoute),c.withDocument(a),c.build()},e.prototype.closeAllocatedStreams=function(){this.allocatedStreams.forEach(function(o){o.isOpen()&&o.close()}),this.allocatedStreams=[]},e}(),CoreStitchAppClient=function(){function e(o,s){this.functionService=new CoreStitchServiceClientImpl(o,s.serviceRoutes)}return e.prototype.callFunction=function(o,s,a){return this.functionService.callFunction(o,s,a)},e}(),__values=globalThis&&globalThis.__values||function(e){var o=typeof Symbol=="function"&&e[Symbol.iterator],s=0;return o?o.call(e):{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}}},BaseEventStream=function(){function e(o){this.reconnecter=o,this.closed=!1,this.events=[],this.listeners=[],this.lastErr=void 0}return e.prototype.isOpen=function(){return!this.closed},e.prototype.addListener=function(o){var s=this;if(this.closed){setTimeout(function(){return o.onEvent(new Event(StitchEvent.ERROR_EVENT_NAME,"stream closed"))},0);return}if(this.lastErr!==void 0){setTimeout(function(){return o.onEvent(new Event(StitchEvent.ERROR_EVENT_NAME,s.lastErr))},0);return}this.listeners.push(o),this.poll()},e.prototype.removeListener=function(o){var s=this.listeners.indexOf(o);s!==-1&&this.listeners.splice(s,1)},e.prototype.nextEvent=function(){var o=this;return this.closed?Promise.reject(new Event(StitchEvent.ERROR_EVENT_NAME,"stream closed")):this.lastErr!==void 0?Promise.reject(new Event(StitchEvent.ERROR_EVENT_NAME,this.lastErr)):new Promise(function(s,a){o.listenOnce({onEvent:function(c){s(c)}})})},e.prototype.close=function(){this.closed||(this.closed=!0,this.afterClose())},e.prototype.reconnect=function(o){var s=this;if(!this.reconnecter){this.closed||(this.closed=!0,this.events.push(new Event(StitchEvent.ERROR_EVENT_NAME,"stream closed: "+o)),this.poll());return}this.reconnecter().then(function(a){s.onReconnect(a)}).catch(function(a){if(!(a instanceof StitchError)||!(a instanceof StitchRequestError)){s.closed=!0,s.events.push(new Event(StitchEvent.ERROR_EVENT_NAME,"stream closed: "+o)),s.poll();return}setTimeout(function(){return s.reconnect(a)},e.RETRY_TIMEOUT_MILLIS)})},e.prototype.poll=function(){for(var o,s;this.events.length!==0;){var a=this.events.pop();try{for(var c=__values(this.listeners),h=c.next();!h.done;h=c.next()){var d=h.value;d.onEvent&&d.onEvent(a)}}catch(_){o={error:_}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}}},e.prototype.listenOnce=function(o){var s=this;if(this.closed){setTimeout(function(){return o.onEvent(new Event(StitchEvent.ERROR_EVENT_NAME,"stream closed"))},0);return}if(this.lastErr!==void 0){setTimeout(function(){return o.onEvent(new Event(StitchEvent.ERROR_EVENT_NAME,s.lastErr))},0);return}var a={onEvent:function(c){s.removeListener(a),o.onEvent(c)}};this.addListener(a)},e.RETRY_TIMEOUT_MILLIS=5e3,e}(),BasicRequest=function(){function e(o,s,a,c){this.method=o,this.url=s,this.headers=a,this.body=c}return e}();(function(e){var o=function(){function s(a){a&&(this.method=a.method,this.url=a.url,this.headers=a.headers,this.body=a.body)}return s.prototype.withMethod=function(a){return this.method=a,this},s.prototype.withUrl=function(a){return this.url=a,this},s.prototype.withHeaders=function(a){return this.headers=a,this},s.prototype.withBody=function(a){return this.body=a,this},s.prototype.build=function(){if(this.method===void 0)throw new Error("must set method");if(this.url===void 0)throw new Error("must set non-empty url");return new e(this.method,this.url,this.headers===void 0?{}:this.headers,this.body)},s}();e.Builder=o})(BasicRequest||(BasicRequest={}));var Response$1=function(){function e(o,s,a){var c=this;this.statusCode=s,this.body=a,this.headers={},Object.keys(o).map(function(h,d){c.headers[h.toLocaleLowerCase()]=o[h]})}return e}(),BASE_ROUTE="/api/client/v2.0";function getAppRoute(e){return BASE_ROUTE+("/app/"+e)}function getFunctionCallRoute(e){return getAppRoute(e)+"/functions/call"}function getAppMetadataRoute(e){return getAppRoute(e)+"/location"}function getAuthProviderRoute(e,o){return getAppRoute(e)+("/auth/providers/"+o)}function getAuthProviderLoginRoute(e,o){return getAuthProviderRoute(e,o)+"/login"}function getAuthProviderLinkRoute(e,o){return getAuthProviderLoginRoute(e,o)+"?link=true"}var StitchAppAuthRoutes=function(){function e(o){var s=this;this.baseAuthRoute=BASE_ROUTE+"/auth",this.sessionRoute=function(){return s.baseAuthRoute+"/session"}(),this.profileRoute=function(){return s.baseAuthRoute+"/profile"}(),this.clientAppId=o}return e.prototype.getAuthProviderRoute=function(o){return getAuthProviderRoute(this.clientAppId,o)},e.prototype.getAuthProviderLoginRoute=function(o){return getAuthProviderLoginRoute(this.clientAppId,o)},e.prototype.getAuthProviderLinkRoute=function(o){return getAuthProviderLinkRoute(this.clientAppId,o)},e.prototype.getAuthProviderExtensionRoute=function(o,s){return this.getAuthProviderRoute(o)+"/"+s},e}(),Fields;(function(e){e.DEPLOYMENT_MODEL="deployment_model",e.LOCATION="location",e.HOSTNAME="hostname"})(Fields||(Fields={}));var ApiAppMetadata=function(){function e(o,s,a){this.deploymentModel=o,this.location=s,this.hostname=a}return e.fromJSON=function(o){return new e(o[Fields.DEPLOYMENT_MODEL],o[Fields.LOCATION],o[Fields.HOSTNAME])},e.prototype.toJSON=function(){var o;return o={},o[Fields.DEPLOYMENT_MODEL]=this.deploymentModel,o[Fields.LOCATION]=this.location,o[Fields.HOSTNAME]=this.hostname,o},e}();function inspectResponse(e,o,s){return s.statusCode>=200&&s.statusCode<300?s:handleRequestError(s)}var BaseStitchRequestClient=function(){function e(o,s){this.baseUrl=o,this.transport=s}return e.prototype.doRequestToURL=function(o,s){return this.transport.roundTrip(this.buildRequest(o,s)).catch(function(a){throw new StitchRequestError(a,StitchRequestErrorCode.TRANSPORT_ERROR)}).then(function(a){return inspectResponse(o,s,a)})},e.prototype.doStreamRequestToURL=function(o,s,a,c){return a===void 0&&(a=!0),this.transport.stream(this.buildRequest(o,s),a,c).catch(function(h){throw h instanceof StitchError?h:new StitchRequestError(h,StitchRequestErrorCode.TRANSPORT_ERROR)})},e.prototype.buildRequest=function(o,s){return new BasicRequest.Builder().withMethod(o.method).withUrl(""+s+o.path).withHeaders(o.headers).withBody(o.body).build()},e}(),StitchServiceRoutes=function(){function e(o){this.clientAppId=o,this.functionCallRoute=getFunctionCallRoute(o)}return e}(),StitchAppRoutes=function(){function e(o){this.clientAppId=o,this.authRoutes=new StitchAppAuthRoutes(o),this.serviceRoutes=new StitchServiceRoutes(o),this.appMetadataRoute=getAppMetadataRoute(o),this.functionCallRoute=getFunctionCallRoute(o)}return e}(),__extends$c=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),__awaiter=globalThis&&globalThis.__awaiter||function(e,o,s,a){return new(s||(s=Promise))(function(c,h){function d($){try{b(a.next($))}catch(rt){h(rt)}}function _($){try{b(a.throw($))}catch(rt){h(rt)}}function b($){$.done?c($.value):new s(function(rt){rt($.value)}).then(d,_)}b((a=a.apply(e,o||[])).next())})},__generator=globalThis&&globalThis.__generator||function(e,o){var s={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,c,h,d;return d={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function _($){return function(rt){return b([$,rt])}}function b($){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,c&&(h=$[0]&2?c.return:$[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,$[1])).done)return h;switch(c=0,h&&($=[$[0]&2,h.value]),$[0]){case 0:case 1:h=$;break;case 4:return s.label++,{value:$[1],done:!1};case 5:s.label++,c=$[1],$=[0];continue;case 7:$=s.ops.pop(),s.trys.pop();continue;default:if(h=s.trys,!(h=h.length>0&&h[h.length-1])&&($[0]===6||$[0]===2)){s=0;continue}if($[0]===3&&(!h||$[1]>h[0]&&$[1]<h[3])){s.label=$[1];break}if($[0]===6&&s.label<h[1]){s.label=h[1],h=$;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push($);break}h[2]&&s.ops.pop(),s.trys.pop();continue}$=o.call(e,s)}catch(rt){$=[6,rt],c=0}finally{a=h=0}if($[0]&5)throw $[1];return{value:$[0]?$[1]:void 0,done:!0}}},StitchAppRequestClient=function(e){__extends$c(o,e);function o(s,a,c){var h=e.call(this,a,c)||this;return h.clientAppId=s,h.routes=new StitchAppRoutes(s),h}return o.prototype.doRequest=function(s){var a=this;return this.initAppMetadata().then(function(c){return e.prototype.doRequestToURL.call(a,s,c.hostname)})},o.prototype.doStreamRequest=function(s,a,c){var h=this;return a===void 0&&(a=!0),this.initAppMetadata().then(function(d){return e.prototype.doStreamRequestToURL.call(h,s,d.hostname,a,c)})},o.prototype.getBaseURL=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(s){return[2,this.initAppMetadata().then(function(a){return a.hostname})]})})},o.prototype.initAppMetadata=function(){var s=this;if(this.appMetadata)return Promise.resolve(this.appMetadata);var a=new StitchRequest.Builder().withMethod(Method$1.GET).withPath(this.routes.appMetadataRoute).build();return e.prototype.doRequestToURL.call(this,a,this.baseUrl).then(function(c){return s.appMetadata=ApiAppMetadata.fromJSON(bson_54.parse(c.body)),s.appMetadata})},o}(BaseStitchRequestClient),__extends$b=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}();(function(e){__extends$b(o,e);function o(s,a){return e.call(this,s,a)||this}return o.prototype.doRequest=function(s){return e.prototype.doRequestToURL.call(this,s,this.baseUrl)},o.prototype.doStreamRequest=function(s,a,c){return a===void 0&&(a=!0),e.prototype.doStreamRequestToURL.call(this,s,this.baseUrl,a,c)},o.prototype.getBaseURL=function(){return Promise.resolve(this.baseUrl)},o})(BaseStitchRequestClient);var __extends$a=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),AuthRebindEvent=function(e){__extends$a(o,e);function o(s){var a=e.call(this)||this;return a.type=RebindEventType.AUTH_EVENT,a.event=s,a}return o}(RebindEvent),StitchClientConfiguration=function(){function e(o,s,a,c){this.baseUrl=o,this.storage=s,this.dataDirectory=a,this.transport=c}return e.prototype.builder=function(){return new e.Builder(this)},e}();(function(e){var o=function(){function s(a){a&&(this.baseUrl=a.baseUrl,this.storage=a.storage,this.dataDirectory=a.dataDirectory,this.transport=a.transport)}return s.prototype.withBaseUrl=function(a){return this.baseUrl=a,this},s.prototype.withStorage=function(a){return this.storage=a,this},s.prototype.withDataDirectory=function(a){return this.dataDirectory=a,this},s.prototype.withTransport=function(a){return this.transport=a,this},s.prototype.build=function(){return new e(this.baseUrl,this.storage,this.dataDirectory,this.transport)},s}();e.Builder=o})(StitchClientConfiguration||(StitchClientConfiguration={}));var __extends$9=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),StitchAppClientConfiguration=function(e){__extends$9(o,e);function o(s,a,c){var h=e.call(this,s.baseUrl,s.storage,s.dataDirectory,s.transport)||this;return h.localAppVersion=c,h.localAppName=a,h}return o.prototype.builder=function(){return new o.Builder(this)},o}(StitchClientConfiguration);(function(e){var o=function(s){__extends$9(a,s);function a(c){var h=s.call(this,c)||this;return c&&(h.localAppVersion=c.localAppVersion,h.localAppName=c.localAppName),h}return a.prototype.withLocalAppName=function(c){return this.localAppName=c,this},a.prototype.withLocalAppVersion=function(c){return this.localAppVersion=c,this},a.prototype.build=function(){var c=s.prototype.build.call(this);return new e(c,this.localAppName,this.localAppVersion)},a}(StitchClientConfiguration.Builder);e.Builder=o})(StitchAppClientConfiguration||(StitchAppClientConfiguration={}));var StitchAppClientInfo=function(){function e(o,s,a,c){this.clientAppId=o,this.dataDirectory=s,this.localAppName=a,this.localAppVersion=c}return e}(),__extends$8=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),UserApiKeyAuthProviderClientImpl=function(e){__extends$8(o,e);function o(s,a){return e.call(this,s,a)||this}return o.prototype.createApiKey=function(s){return e.prototype.createApiKey.call(this,s)},o.prototype.fetchApiKey=function(s){return e.prototype.fetchApiKey.call(this,s)},o.prototype.fetchApiKeys=function(){return e.prototype.fetchApiKeys.call(this)},o.prototype.deleteApiKey=function(s){return e.prototype.deleteApiKey.call(this,s)},o.prototype.enableApiKey=function(s){return e.prototype.enableApiKey.call(this,s)},o.prototype.disableApiKey=function(s){return e.prototype.disableApiKey.call(this,s)},o}(CoreUserApiKeyAuthProviderClient),UserApiKeyAuthProviderClient;(function(e){e.factory=new(function(){function o(){}return o.prototype.getClient=function(s,a,c){return new UserApiKeyAuthProviderClientImpl(s,c)},o}())})(UserApiKeyAuthProviderClient||(UserApiKeyAuthProviderClient={}));var __extends$7=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),UserPasswordAuthProviderClientImpl=function(e){__extends$7(o,e);function o(s,a){return e.call(this,UserPasswordAuthProvider.DEFAULT_NAME,s,a)||this}return o.prototype.registerWithEmail=function(s,a){return e.prototype.registerWithEmailInternal.call(this,s,a)},o.prototype.confirmUser=function(s,a){return e.prototype.confirmUserInternal.call(this,s,a)},o.prototype.resendConfirmationEmail=function(s){return e.prototype.resendConfirmationEmailInternal.call(this,s)},o.prototype.resetPassword=function(s,a,c){return e.prototype.resetPasswordInternal.call(this,s,a,c)},o.prototype.sendResetPasswordEmail=function(s){return e.prototype.sendResetPasswordEmailInternal.call(this,s)},o.prototype.callResetPasswordFunction=function(s,a,c){return e.prototype.callResetPasswordFunctionInternal.call(this,s,a,c)},o}(CoreUserPasswordAuthProviderClient),UserPasswordAuthProviderClient;(function(e){e.factory=new(function(){function o(){}return o.prototype.getClient=function(s,a,c){return new UserPasswordAuthProviderClientImpl(a,c)},o}())})(UserPasswordAuthProviderClient||(UserPasswordAuthProviderClient={}));var g=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof dist.global<"u"&&dist.global||{},support={searchParams:"URLSearchParams"in g,iterable:"Symbol"in g&&"iterator"in Symbol,blob:"FileReader"in g&&"Blob"in g&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in g,arrayBuffer:"ArrayBuffer"in g};function isDataView(e){return e&&DataView.prototype.isPrototypeOf(e)}if(support.arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(e){return e&&viewClasses.indexOf(Object.prototype.toString.call(e))>-1};function normalizeName(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function normalizeValue(e){return typeof e!="string"&&(e=String(e)),e}function iteratorFor(e){var o={next:function(){var s=e.shift();return{done:s===void 0,value:s}}};return support.iterable&&(o[Symbol.iterator]=function(){return o}),o}function Headers(e){this.map={},e instanceof Headers?e.forEach(function(o,s){this.append(s,o)},this):Array.isArray(e)?e.forEach(function(o){if(o.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+o.length);this.append(o[0],o[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(o){this.append(o,e[o])},this)}Headers.prototype.append=function(e,o){e=normalizeName(e),o=normalizeValue(o);var s=this.map[e];this.map[e]=s?s+", "+o:o};Headers.prototype.delete=function(e){delete this.map[normalizeName(e)]};Headers.prototype.get=function(e){return e=normalizeName(e),this.has(e)?this.map[e]:null};Headers.prototype.has=function(e){return this.map.hasOwnProperty(normalizeName(e))};Headers.prototype.set=function(e,o){this.map[normalizeName(e)]=normalizeValue(o)};Headers.prototype.forEach=function(e,o){for(var s in this.map)this.map.hasOwnProperty(s)&&e.call(o,this.map[s],s,this)};Headers.prototype.keys=function(){var e=[];return this.forEach(function(o,s){e.push(s)}),iteratorFor(e)};Headers.prototype.values=function(){var e=[];return this.forEach(function(o){e.push(o)}),iteratorFor(e)};Headers.prototype.entries=function(){var e=[];return this.forEach(function(o,s){e.push([s,o])}),iteratorFor(e)};support.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);function consumed(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}}function fileReaderReady(e){return new Promise(function(o,s){e.onload=function(){o(e.result)},e.onerror=function(){s(e.error)}})}function readBlobAsArrayBuffer(e){var o=new FileReader,s=fileReaderReady(o);return o.readAsArrayBuffer(e),s}function readBlobAsText(e){var o=new FileReader,s=fileReaderReady(o),a=/charset=([A-Za-z0-9_-]+)/.exec(e.type),c=a?a[1]:"utf-8";return o.readAsText(e,c),s}function readArrayBufferAsText(e){for(var o=new Uint8Array(e),s=new Array(o.length),a=0;a<o.length;a++)s[a]=String.fromCharCode(o[a]);return s.join("")}function bufferClone(e){if(e.slice)return e.slice(0);var o=new Uint8Array(e.byteLength);return o.set(new Uint8Array(e)),o.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:support.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:support.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:support.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():support.arrayBuffer&&support.blob&&isDataView(e)?(this._bodyArrayBuffer=bufferClone(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||isArrayBufferView(e))?this._bodyArrayBuffer=bufferClone(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support.blob&&(this.blob=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=consumed(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(support.blob)return this.blob().then(readBlobAsArrayBuffer);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}var methods=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function normalizeMethod(e){var o=e.toUpperCase();return methods.indexOf(o)>-1?o:e}function Request$1(e,o){if(!(this instanceof Request$1))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');o=o||{};var s=o.body;if(e instanceof Request$1){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,o.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!s&&e._bodyInit!=null&&(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=o.credentials||this.credentials||"same-origin",(o.headers||!this.headers)&&(this.headers=new Headers(o.headers)),this.method=normalizeMethod(o.method||this.method||"GET"),this.mode=o.mode||this.mode||null,this.signal=o.signal||this.signal||function(){if("AbortController"in g){var h=new AbortController;return h.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&s)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(s),(this.method==="GET"||this.method==="HEAD")&&(o.cache==="no-store"||o.cache==="no-cache")){var a=/([?&])_=[^&]*/;if(a.test(this.url))this.url=this.url.replace(a,"$1_="+new Date().getTime());else{var c=/\?/;this.url+=(c.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Request$1.prototype.clone=function(){return new Request$1(this,{body:this._bodyInit})};function decode(e){var o=new FormData;return e.trim().split("&").forEach(function(s){if(s){var a=s.split("="),c=a.shift().replace(/\+/g," "),h=a.join("=").replace(/\+/g," ");o.append(decodeURIComponent(c),decodeURIComponent(h))}}),o}function parseHeaders(e){var o=new Headers,s=e.replace(/\r?\n[\t ]+/g," ");return s.split("\r").map(function(a){return a.indexOf(`
`)===0?a.substr(1,a.length):a}).forEach(function(a){var c=a.split(":"),h=c.shift().trim();if(h){var d=c.join(":").trim();try{o.append(h,d)}catch(_){console.warn("Response "+_.message)}}}),o}Body.call(Request$1.prototype);function Response(e,o){if(!(this instanceof Response))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(o||(o={}),this.type="default",this.status=o.status===void 0?200:o.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=o.statusText===void 0?"":""+o.statusText,this.headers=new Headers(o.headers),this.url=o.url||"",this._initBody(e)}Body.call(Response.prototype);Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})};Response.error=function(){var e=new Response(null,{status:200,statusText:""});return e.status=0,e.type="error",e};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(e,o){if(redirectStatuses.indexOf(o)===-1)throw new RangeError("Invalid status code");return new Response(null,{status:o,headers:{location:e}})};var DOMException$1=g.DOMException;try{new DOMException$1}catch(e){DOMException$1=function(o,s){this.message=o,this.name=s;var a=Error(o);this.stack=a.stack},DOMException$1.prototype=Object.create(Error.prototype),DOMException$1.prototype.constructor=DOMException$1}function fetch$1(e,o){return new Promise(function(s,a){var c=new Request$1(e,o);if(c.signal&&c.signal.aborted)return a(new DOMException$1("Aborted","AbortError"));var h=new XMLHttpRequest;function d(){h.abort()}h.onload=function(){var $={statusText:h.statusText,headers:parseHeaders(h.getAllResponseHeaders()||"")};c.url.startsWith("file://")&&(h.status<200||h.status>599)?$.status=200:$.status=h.status,$.url="responseURL"in h?h.responseURL:$.headers.get("X-Request-URL");var rt="response"in h?h.response:h.responseText;setTimeout(function(){s(new Response(rt,$))},0)},h.onerror=function(){setTimeout(function(){a(new TypeError("Network request failed"))},0)},h.ontimeout=function(){setTimeout(function(){a(new TypeError("Network request timed out"))},0)},h.onabort=function(){setTimeout(function(){a(new DOMException$1("Aborted","AbortError"))},0)};function _($){try{return $===""&&g.location.href?g.location.href:$}catch{return $}}if(h.open(c.method,_(c.url),!0),c.credentials==="include"?h.withCredentials=!0:c.credentials==="omit"&&(h.withCredentials=!1),"responseType"in h&&(support.blob?h.responseType="blob":support.arrayBuffer&&(h.responseType="arraybuffer")),o&&typeof o.headers=="object"&&!(o.headers instanceof Headers||g.Headers&&o.headers instanceof g.Headers)){var b=[];Object.getOwnPropertyNames(o.headers).forEach(function($){b.push(normalizeName($)),h.setRequestHeader($,normalizeValue(o.headers[$]))}),c.headers.forEach(function($,rt){b.indexOf(rt)===-1&&h.setRequestHeader(rt,$)})}else c.headers.forEach(function($,rt){h.setRequestHeader(rt,$)});c.signal&&(c.signal.addEventListener("abort",d),h.onreadystatechange=function(){h.readyState===4&&c.signal.removeEventListener("abort",d)}),h.send(typeof c._bodyInit>"u"?null:c._bodyInit)})}fetch$1.polyfill=!0;g.fetch||(g.fetch=fetch$1,g.Headers=Headers,g.Request=Request$1,g.Response=Response);var BrowserFetchTransport=function(){function e(){}return e.prototype.roundTrip=function(o){var s=fetch$1(o.url,{body:o.body,headers:o.headers,method:o.method,mode:"cors"}),a=s.then(function(c){return c.text()});return Promise.all([s,a]).then(function(c){var h=c[0],d=c[1],_={};return h.headers.forEach(function(b,$){_[$]=b}),new Response$1(_,h.status,d)})},e.prototype.stream=function(o,s,a){throw new StitchClientError(StitchClientErrorCode.StreamingNotSupported)},e}(),stitchPrefixKey="__stitch.client",LocalStorage=function(){function e(o){this.suiteName=o}return e.prototype.get=function(o){return localStorage.getItem(this.getKey(o))},e.prototype.set=function(o,s){localStorage.setItem(this.getKey(o),s)},e.prototype.remove=function(o){localStorage.removeItem(this.getKey(o))},e.prototype.getKey=function(o){return stitchPrefixKey+"."+this.suiteName+"."+o},e}(),__extends$6=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),EventSourceEventStream=function(e){__extends$6(o,e);function o(s,a,c,h){var d=e.call(this,h)||this;return d.evtSrc=s,d.onOpenError=c,d.openedOnce=!1,d.evtSrc.onopen=function(_){a(d),d.openedOnce=!0},d.reset(),d}return o.prototype.open=function(){if(this.closed)throw new StitchClientError(StitchClientErrorCode.StreamClosed)},o.prototype.afterClose=function(){this.evtSrc.close()},o.prototype.onReconnect=function(s){this.evtSrc=s.evtSrc,this.reset(),this.events=s.events.concat(this.events)},o.prototype.reset=function(){var s=this;this.evtSrc.onmessage=function(a){s.events.push(new Event(Event.MESSAGE_EVENT,a.data)),s.poll()},this.evtSrc.onerror=function(a){if(a instanceof MessageEvent){s.lastErr=a.data,s.events.push(new Event(StitchEvent.ERROR_EVENT_NAME,s.lastErr)),s.close(),s.poll();return}if(!s.openedOnce){s.close(),s.onOpenError(new Error("event source failed to open and will not reconnect; check network log for more details"));return}s.evtSrc.close(),s.reconnect()}},o}(BaseEventStream),__extends$5=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),__assign$1=globalThis&&globalThis.__assign||Object.assign||function(e){for(var o,s=1,a=arguments.length;s<a;s++){o=arguments[s];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c])}return e},BrowserFetchStreamTransport=function(e){__extends$5(o,e);function o(){return e!==null&&e.apply(this,arguments)||this}return o.prototype.stream=function(s,a,c){var h=__assign$1({},s.headers);return h[Headers$1.ACCEPT]=ContentTypes.TEXT_EVENT_STREAM,h[Headers$1.CONTENT_TYPE]=ContentTypes.TEXT_EVENT_STREAM,fetch$1(s.url+"&stitch_validate=true",{body:s.body,headers:h,method:s.method,mode:"cors"}).then(function(d){var _={};return d.headers.forEach(function(b,$){_[$]=b}),d.status<200||d.status>=300?d.text().then(function(b){return handleRequestError(new Response$1(_,d.status,b))}):new Promise(function(b,$){return new EventSourceEventStream(new EventSource(s.url),function(rt){return b(rt)},function(rt){return $(rt)},c?function(){return c().then(function(rt){return rt})}:void 0)})})},o}(BrowserFetchTransport),StitchServiceClientImpl=function(){function e(o){this.proxy=o}return e.prototype.callFunction=function(o,s,a){return this.proxy.callFunction(o,s,a)},e.prototype.streamFunction=function(o,s,a){return this.proxy.streamFunction(o,s,a)},e}();function detect(){return typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function detectOS(e){var o=getOperatingSystemRules(),s=o.filter(function(a){return a.rule&&a.rule.test(e)})[0];return s?s.name:null}function getNodeVersion(){var e=typeof dist.process<"u"&&dist.process.version;return e&&{name:"node",version:dist.process.version.slice(1),os:dist.process.platform}}function parseUserAgent(e){var o=getBrowserRules();if(!e)return null;var s=o.map(function(a){var c=a.rule.exec(e),h=c&&c[1].split(/[._]/).slice(0,3);return h&&h.length<3&&(h=h.concat(h.length==1?[0,0]:[0])),c&&{name:a.name,version:h.join(".")}}).filter(Boolean)[0]||null;return s&&(s.os=detectOS(e)),/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/i.test(e)&&(s=s||{},s.bot=!0),s}function getBrowserRules(){return buildRules([["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/]])}function getOperatingSystemRules(){return buildRules([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]])}function buildRules(e){return e.map(function(o){return{name:o[0],rule:o[1]}})}var detectBrowser={detect,detectOS,getNodeVersion,parseUserAgent},version="4.8.0",RedirectFragmentFields;(function(e){e.StitchError="_stitch_error",e.State="_stitch_state",e.UserAuth="_stitch_ua",e.LinkUser="_stitch_link_user",e.StitchLink="_stitch_link",e.ClientAppId="_stitch_client_app_id"})(RedirectFragmentFields||(RedirectFragmentFields={}));const RedirectFragmentFields$1=RedirectFragmentFields;var RedirectKeys;(function(e){e.ProviderName="_stitch_redirect_provider_name",e.ProviderType="_stitch_redirect_provider_type",e.State="_stitch_redirect_state"})(RedirectKeys||(RedirectKeys={}));const RedirectKeys$1=RedirectKeys;var __extends$4=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),StitchRedirectError=function(e){__extends$4(o,e);function o(s){return e.call(this,s)||this}return o}(StitchError),__extends$3=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),StitchUserImpl=function(e){__extends$3(o,e);function o(s,a,c,h,d,_,b,$){var rt=e.call(this,s,a,c,h,d,_,$)||this;return rt.auth=b,rt}return o.prototype.linkWithCredential=function(s){return this.auth.linkWithCredential(this,s)},o.prototype.linkUserWithRedirect=function(s){return this.auth.linkWithRedirectInternal(this,s)},o}(CoreStitchUserImpl),StitchUserFactoryImpl=function(){function e(o){this.auth=o}return e.prototype.makeUser=function(o,s,a,c,h,d,_){return new StitchUserImpl(o,s,a,c,h,d,this.auth,_)},e}(),__extends$2=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),__read=globalThis&&globalThis.__read||function(e,o){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var a=s.call(e),c,h=[],d;try{for(;(o===void 0||o-- >0)&&!(c=a.next()).done;)h.push(c.value)}catch(_){d={error:_}}finally{try{c&&!c.done&&(s=a.return)&&s.call(a)}finally{if(d)throw d.error}}return h},alphaNumericCharacters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",StitchAuthImpl=function(e){__extends$2(o,e);function o(s,a,c,h,d){d===void 0&&(d=window);var _=e.call(this,s,a,c)||this;return _.browserAuthRoutes=a,_.authStorage=c,_.appInfo=h,_.jsdomWindow=d,_.listeners=new Set,_.synchronousListeners=new Set,_}return Object.defineProperty(o.prototype,"userFactory",{get:function(){return new StitchUserFactoryImpl(this)},enumerable:!0,configurable:!0}),o.prototype.getProviderClient=function(s,a){return isAuthProviderClientFactory(s)?s.getClient(this,this.requestClient,this.authRoutes):s.getNamedClient(a,this.requestClient,this.authRoutes)},o.prototype.loginWithCredential=function(s){return e.prototype.loginWithCredentialInternal.call(this,s)},o.prototype.loginWithRedirect=function(s){var a=this,c=this.prepareRedirect(s),h=c.redirectUrl,d=c.state;this.requestClient.getBaseURL().then(function(_){a.jsdomWindow.location.replace(_+a.browserAuthRoutes.getAuthProviderRedirectRoute(s,h,d,a.deviceInfo))})},o.prototype.linkWithRedirectInternal=function(s,a){var c=this;if(this.user!==void 0&&s.id!==this.user.id)return Promise.reject(new StitchClientError(StitchClientErrorCode.UserNoLongerValid));var h=this.prepareRedirect(a),d=h.redirectUrl,_=h.state;return this.requestClient.getBaseURL().then(function(b){var $=b+c.browserAuthRoutes.getAuthProviderLinkRedirectRoute(a,d,_,c.deviceInfo);return(o.injectedFetch?o.injectedFetch:fetch)(new Request($,{credentials:"include",headers:{Authorization:"Bearer "+c.authInfo.accessToken},mode:"cors"}))}).then(function(b){c.jsdomWindow.location.replace(b.headers.get("X-Stitch-Location"))})},o.prototype.hasRedirectResult=function(){var s=!1;try{return s=this.parseRedirect().isValid,s}catch{return!1}finally{s||this.cleanupRedirect()}},o.prototype.handleRedirectResult=function(){try{var s=this.authStorage.get(RedirectKeys$1.ProviderName),a=this.authStorage.get(RedirectKeys$1.ProviderType),c=this.parseRedirect();return this.loginWithCredentialInternal(new StitchAuthResponseCredential(this.processRedirectResult(c),a,s,c.asLink)).then(function(h){return h})}catch(h){return Promise.reject(h)}},o.prototype.linkWithCredential=function(s,a){return e.prototype.linkUserWithCredentialInternal.call(this,s,a)},o.prototype.logout=function(){return arguments.length>0?Promise.reject(new StitchClientError(StitchClientErrorCode.UnexpectedArguments)):e.prototype.logoutInternal.call(this)},o.prototype.logoutUserWithId=function(s){return e.prototype.logoutUserWithIdInternal.call(this,s)},o.prototype.removeUser=function(){return arguments.length>0?Promise.reject(new StitchClientError(StitchClientErrorCode.UnexpectedArguments)):e.prototype.removeUserInternal.call(this)},o.prototype.removeUserWithId=function(s){return e.prototype.removeUserWithIdInternal.call(this,s)},Object.defineProperty(o.prototype,"deviceInfo",{get:function(){var s={};this.hasDeviceId&&(s[DeviceFields$1.DEVICE_ID]=this.deviceId),this.appInfo.localAppName!==void 0&&(s[DeviceFields$1.APP_ID]=this.appInfo.localAppName),this.appInfo.localAppVersion!==void 0&&(s[DeviceFields$1.APP_VERSION]=this.appInfo.localAppVersion);var a=detectBrowser.detect();return a?(s[DeviceFields$1.PLATFORM]=a.name,s[DeviceFields$1.PLATFORM_VERSION]=a.version):(s[DeviceFields$1.PLATFORM]="web",s[DeviceFields$1.PLATFORM_VERSION]="0.0.0"),s[DeviceFields$1.SDK_VERSION]=version,s},enumerable:!0,configurable:!0}),o.prototype.addAuthListener=function(s){this.listeners.add(s),this.onAuthEvent(s),this.dispatchAuthEvent({kind:AuthEventKind.ListenerRegistered})},o.prototype.addSynchronousAuthListener=function(s){this.listeners.add(s),this.onAuthEvent(s),this.dispatchAuthEvent({kind:AuthEventKind.ListenerRegistered})},o.prototype.removeAuthListener=function(s){this.listeners.delete(s)},o.prototype.onAuthEvent=function(s){var a=this;s?new Promise(function(c){s.onAuthEvent&&s.onAuthEvent(a),c(void 0)}):this.listeners.forEach(function(c){a.onAuthEvent(c)})},o.prototype.dispatchAuthEvent=function(s){var a=this;switch(s.kind){case AuthEventKind.ActiveUserChanged:this.dispatchBlockToListeners(function(c){c.onActiveUserChanged&&c.onActiveUserChanged(a,s.currentActiveUser,s.previousActiveUser)});break;case AuthEventKind.ListenerRegistered:this.dispatchBlockToListeners(function(c){c.onListenerRegistered&&c.onListenerRegistered(a)});break;case AuthEventKind.UserAdded:this.dispatchBlockToListeners(function(c){c.onUserAdded&&c.onUserAdded(a,s.addedUser)});break;case AuthEventKind.UserLinked:this.dispatchBlockToListeners(function(c){c.onUserLinked&&c.onUserLinked(a,s.linkedUser)});break;case AuthEventKind.UserLoggedIn:this.dispatchBlockToListeners(function(c){c.onUserLoggedIn&&c.onUserLoggedIn(a,s.loggedInUser)});break;case AuthEventKind.UserLoggedOut:this.dispatchBlockToListeners(function(c){c.onUserLoggedOut&&c.onUserLoggedOut(a,s.loggedOutUser)});break;case AuthEventKind.UserRemoved:this.dispatchBlockToListeners(function(c){c.onUserRemoved&&c.onUserRemoved(a,s.removedUser)});break;default:return this.assertNever(s)}},o.prototype.refreshCustomData=function(){return this.refreshAccessToken()},o.prototype.assertNever=function(s){throw new Error("unexpected object: "+s)},o.prototype.dispatchBlockToListeners=function(s){this.synchronousListeners.forEach(s),this.listeners.forEach(function(a){new Promise(function(c){s(a),c(void 0)})})},o.prototype.cleanupRedirect=function(){this.jsdomWindow.history.replaceState(null,"",this.pageRootUrl()),this.authStorage.remove(RedirectKeys$1.State),this.authStorage.remove(RedirectKeys$1.ProviderName),this.authStorage.remove(RedirectKeys$1.ProviderType)},o.prototype.parseRedirect=function(){if(typeof this.jsdomWindow>"u")throw new StitchRedirectError("running in a non-browser environment");if(!this.jsdomWindow.location||!this.jsdomWindow.location.hash)throw new StitchRedirectError("window location hash was undefined");var s=this.authStorage.get(RedirectKeys$1.State),a=this.jsdomWindow.location.hash.substring(1);return parseRedirectFragment(a,s,this.appInfo.clientAppId)},o.prototype.processRedirectResult=function(s){try{if(!s.isValid)throw new StitchRedirectError("invalid redirect result");if(s.lastError)throw new StitchRedirectError("error handling redirect: "+s.lastError);if(!s.authInfo)throw new StitchRedirectError("no user auth value was found: it could not be decoded from fragment")}catch(a){throw a}finally{this.cleanupRedirect()}return s.authInfo},o.prototype.prepareRedirect=function(s){this.authStorage.set(RedirectKeys$1.ProviderName,s.providerName),this.authStorage.set(RedirectKeys$1.ProviderType,s.providerType);var a=s.redirectUrl;a===void 0&&(a=this.pageRootUrl());var c=generateState();return this.authStorage.set(RedirectKeys$1.State,c),{redirectUrl:a,state:c}},o.prototype.pageRootUrl=function(){return[this.jsdomWindow.location.protocol,"//",this.jsdomWindow.location.host,this.jsdomWindow.location.pathname].join("")},o}(CoreStitchAuth);function generateState(){for(var e="",o=0;o<64;++o)e+=alphaNumericCharacters.charAt(Math.floor(Math.random()*alphaNumericCharacters.length));return e}function unmarshallUserAuth(e){var o=e.split("$");if(o.length!==4)throw new StitchRedirectError("invalid user auth data provided while marshalling user authentication data: "+e);var s=__read(o,4),a=s[0],c=s[1],h=s[2],d=s[3];return new AuthInfo(h,d,a,c)}var ParsedRedirectFragment=function(){function e(){this.stateValid=!1,this.clientAppIdValid=!1,this.asLink=!1}return Object.defineProperty(e.prototype,"isValid",{get:function(){return this.stateValid&&this.clientAppIdValid},enumerable:!0,configurable:!0}),e}();function parseRedirectFragment(e,o,s){var a=e.split("&"),c=new ParsedRedirectFragment;return a.forEach(function(h){var d=h.split("="),_=decodeURIComponent(d[0]);switch(_){case RedirectFragmentFields$1.StitchError:c.lastError=decodeURIComponent(d[1]);break;case RedirectFragmentFields$1.UserAuth:try{c.authInfo=unmarshallUserAuth(decodeURIComponent(d[1]))}catch(rt){c.lastError=rt}break;case RedirectFragmentFields$1.StitchLink:d[1]==="ok"&&(c.asLink=!0);break;case RedirectFragmentFields$1.State:var b=decodeURIComponent(d[1]);o===b&&(c.stateValid=!0);break;case RedirectFragmentFields$1.ClientAppId:var $=decodeURIComponent(d[1]);s===$&&(c.clientAppIdValid=!0);break}}),c}function isAuthProviderClientFactory(e){return e.getClient!==void 0}var __extends$1=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),StitchBrowserAppAuthRoutes=function(e){__extends$1(o,e);function o(s){return e.call(this,s)||this}return o.prototype.getAuthProviderRedirectRoute=function(s,a,c,h){return this.getAuthProviderLoginRoute(s.providerName)+"?redirect="+encodeURI(a)+"&state="+c+"&device="+this.uriEncodeObject(h)},o.prototype.getAuthProviderLinkRedirectRoute=function(s,a,c,h){return this.getAuthProviderLoginRoute(s.providerName)+"?redirect="+encodeURI(a)+"&state="+c+"&device="+this.uriEncodeObject(h)+"&link=true&providerRedirectHeader=true"},o.prototype.uriEncodeObject=function(s){return encodeURIComponent(base64Encode(JSON.stringify(s)))},o}(StitchAppAuthRoutes),__extends=globalThis&&globalThis.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)s.hasOwnProperty(a)&&(o[a]=s[a])};return function(o,s){e(o,s);function a(){this.constructor=o}o.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),StitchBrowserAppRoutes=function(e){__extends(o,e);function o(s){var a=e.call(this,s)||this;return a.authRoutes=new StitchBrowserAppAuthRoutes(s),a}return o}(StitchAppRoutes),StitchAppClientImpl=function(){function e(o,s){this.info=new StitchAppClientInfo(o,s.dataDirectory,s.localAppName,s.localAppVersion),this.routes=new StitchBrowserAppRoutes(this.info.clientAppId);var a=new StitchAppRequestClient(o,s.baseUrl,s.transport);this.auth=new StitchAuthImpl(a,this.routes.authRoutes,s.storage,this.info),this.coreClient=new CoreStitchAppClient(this.auth,this.routes),this.serviceClients=[],this.auth.addSynchronousAuthListener(this)}return e.prototype.getServiceClient=function(o,s){if(isServiceClientFactory(o)){var a=new CoreStitchServiceClientImpl(this.auth,this.routes.serviceRoutes,"");return this.bindServiceClient(a),o.getClient(a,this.info)}else{var a=new CoreStitchServiceClientImpl(this.auth,this.routes.serviceRoutes,s);return this.bindServiceClient(a),o.getNamedClient(a,this.info)}},e.prototype.getGeneralServiceClient=function(o){var s=new CoreStitchServiceClientImpl(this.auth,this.routes.serviceRoutes,o);return this.bindServiceClient(s),new StitchServiceClientImpl(s)},e.prototype.callFunction=function(o,s){return this.coreClient.callFunction(o,s)},e.prototype.onActiveUserChanged=function(o,s,a){this.onRebindEvent(new AuthRebindEvent({currentActiveUser:s,kind:AuthEventKind.ActiveUserChanged,previousActiveUser:a}))},e.prototype.bindServiceClient=function(o){this.serviceClients.push(o)},e.prototype.onRebindEvent=function(o){this.serviceClients.forEach(function(s){s.onRebindEvent(o)})},e}();function isServiceClientFactory(e){return e.getClient!==void 0}var DEFAULT_BASE_URL="https://stitch.mongodb.com",appClients={},Stitch=function(){function e(){}return Object.defineProperty(e,"defaultAppClient",{get:function(){if(e.defaultClientAppId===void 0)throw new Error("default app client has not yet been initialized/set");return appClients[e.defaultClientAppId]},enumerable:!0,configurable:!0}),e.getAppClient=function(o){if(appClients[o]===void 0)throw new Error("client for app '"+o+"' has not yet been initialized");return appClients[o]},e.hasAppClient=function(o){return appClients[o]!==void 0},e.initializeDefaultAppClient=function(o,s){if(s===void 0&&(s=new StitchAppClientConfiguration.Builder().build()),o===void 0||o==="")throw new Error("clientAppId must be set to a non-empty string");if(e.defaultClientAppId!==void 0)throw new Error("default app can only be set once; currently set to '"+e.defaultClientAppId+"'");var a=e.initializeAppClient(o,s);return e.defaultClientAppId=o,a},e.initializeAppClient=function(o,s){if(s===void 0&&(s=new StitchAppClientConfiguration.Builder().build()),o===void 0||o==="")throw new Error("clientAppId must be set to a non-empty string");if(appClients[o]!==void 0)throw new Error("client for app '"+o+"' has already been initialized");var a=s.builder?s.builder():new StitchAppClientConfiguration.Builder(s);a.storage===void 0&&a.withStorage(new LocalStorage(o)),a.transport===void 0&&(window.EventSource?a.withTransport(new BrowserFetchStreamTransport):a.withTransport(new BrowserFetchTransport)),(a.baseUrl===void 0||a.baseUrl==="")&&a.withBaseUrl(DEFAULT_BASE_URL),(a.localAppName===void 0||a.localAppName==="")&&a.withLocalAppName(e.localAppName),(a.localAppVersion===void 0||a.localAppVersion==="")&&a.withLocalAppVersion(e.localAppVersion);var c=new StitchAppClientImpl(o,a.build());return appClients[o]=c,c},e.clearApps=function(){appClients={}},e}(),commonjsGlobal=typeof window<"u"?window:typeof dist.global<"u"?dist.global:typeof self<"u"?self:{};function createCommonjsModule(e,o){return o={exports:{}},e(o,o.exports),o.exports}var map=createCommonjsModule(function(e){if(typeof commonjsGlobal.Map<"u")e.exports=commonjsGlobal.Map,e.exports.Map=commonjsGlobal.Map;else{var o=function(a){this._keys=[],this._values={};for(var c=0;c<a.length;c++)if(a[c]!=null){var h=a[c],d=h[0],_=h[1];this._keys.push(d),this._values[d]={v:_,i:this._keys.length-1}}};o.prototype.clear=function(){this._keys=[],this._values={}},o.prototype.delete=function(s){var a=this._values[s];return a==null?!1:(delete this._values[s],this._keys.splice(a.i,1),!0)},o.prototype.entries=function(){var s=this,a=0;return{next:function(){var h=s._keys[a++];return{value:h!==void 0?[h,s._values[h].v]:void 0,done:h===void 0}}}},o.prototype.forEach=function(s,a){a=a||this;for(var c=0;c<this._keys.length;c++){var h=this._keys[c];s.call(a,this._values[h].v,h,a)}},o.prototype.get=function(s){return this._values[s]?this._values[s].v:void 0},o.prototype.has=function(s){return this._values[s]!=null},o.prototype.keys=function(){var s=this,a=0;return{next:function(){var h=s._keys[a++];return{value:h!==void 0?h:void 0,done:h===void 0}}}},o.prototype.set=function(s,a){return this._values[s]?(this._values[s].v=a,this):(this._keys.push(s),this._values[s]={v:a,i:this._keys.length-1},this)},o.prototype.values=function(){var s=this,a=0;return{next:function(){var h=s._keys[a++];return{value:h!==void 0?s._values[h].v:void 0,done:h===void 0}}}},Object.defineProperty(o.prototype,"size",{enumerable:!0,get:function(){return this._keys.length}}),e.exports=o}});map.Map;long$1.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}};long$1.fromExtendedJSON=function(e,o){var s=long$1.fromString(e.$numberLong);return o&&o.relaxed?s.toNumber():s};Object.defineProperty(long$1.prototype,"_bsontype",{value:"Long"});var long_1=long$1;function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,o,s){return o&&_defineProperties(e.prototype,o),s&&_defineProperties(e,s),e}var Double=function(){function e(o){_classCallCheck(this,e),this.value=o}return _createClass(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(s){return s&&s.relaxed&&isFinite(this.value)?this.value:{$numberDouble:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(s,a){return a&&a.relaxed?parseFloat(s.$numberDouble):new e(parseFloat(s.$numberDouble))}}]),e}();Object.defineProperty(Double.prototype,"_bsontype",{value:"Double"});var double_1=Double;function _typeof(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(s){return typeof s}:_typeof=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(e)}function _classCallCheck$1(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$1(e,o,s){return o&&_defineProperties$1(e.prototype,o),s&&_defineProperties$1(e,s),e}function _possibleConstructorReturn(e,o){return o&&(_typeof(o)==="object"||typeof o=="function")?o:_assertThisInitialized(e)}function _assertThisInitialized(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf(e)}function _inherits(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),o&&_setPrototypeOf(e,o)}function _setPrototypeOf(e,o){return _setPrototypeOf=Object.setPrototypeOf||function(a,c){return a.__proto__=c,a},_setPrototypeOf(e,o)}var Timestamp=function(e){_inherits(o,e);function o(s,a){var c;return _classCallCheck$1(this,o),long_1.isLong(s)?c=_possibleConstructorReturn(this,_getPrototypeOf(o).call(this,s.low,s.high)):c=_possibleConstructorReturn(this,_getPrototypeOf(o).call(this,s,a)),_possibleConstructorReturn(c)}return _createClass$1(o,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high,i:this.low}}}}],[{key:"fromInt",value:function(a){return new o(long_1.fromInt(a))}},{key:"fromNumber",value:function(a){return new o(long_1.fromNumber(a))}},{key:"fromBits",value:function(a,c){return new o(a,c)}},{key:"fromString",value:function(a,c){return new o(long_1.fromString(a,c))}},{key:"fromExtendedJSON",value:function(a){return new o(a.$timestamp.i,a.$timestamp.t)}}]),o}(long_1);Object.defineProperty(Timestamp.prototype,"_bsontype",{value:"Timestamp"});var timestamp=Timestamp,require$$0={};function normalizedFunctionString(e){return e.toString().replace("function(","function (")}function insecureRandomBytes(e){for(var o=new Uint8Array(e),s=0;s<e;++s)o[s]=Math.floor(Math.random()*256);return o}var randomBytes=insecureRandomBytes;if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues)randomBytes=function(o){return window.crypto.getRandomValues(new Uint8Array(o))};else{try{randomBytes=require$$0.randomBytes}catch{}randomBytes==null&&(randomBytes=insecureRandomBytes)}var utils={normalizedFunctionString,randomBytes};dist.global.setTimeout;dist.global.clearTimeout;var performance$1=dist.global.performance||{};performance$1.now||performance$1.mozNow||performance$1.msNow||performance$1.oNow||performance$1.webkitNow;var inherits;typeof Object.create=="function"?inherits=function(o,s){o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:inherits=function(o,s){o.super_=s;var a=function(){};a.prototype=s.prototype,o.prototype=new a,o.prototype.constructor=o};var inherits$1=inherits;function _typeof$1(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(s){return typeof s}:_typeof$1=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$1(e)}var formatRegExp=/%[sdj%]/g;function format(e){if(!isString(e)){for(var o=[],s=0;s<arguments.length;s++)o.push(inspect(arguments[s]));return o.join(" ")}for(var s=1,a=arguments,c=a.length,h=String(e).replace(formatRegExp,function(_){if(_==="%%")return"%";if(s>=c)return _;switch(_){case"%s":return String(a[s++]);case"%d":return Number(a[s++]);case"%j":try{return JSON.stringify(a[s++])}catch{return"[Circular]"}default:return _}}),d=a[s];s<c;d=a[++s])isNull(d)||!isObject(d)?h+=" "+d:h+=" "+inspect(d);return h}function deprecate(e,o){if(isUndefined(dist.global.process))return function(){return deprecate(e,o).apply(this,arguments)};var s=!1;function a(){return s||(console.error(o),s=!0),e.apply(this,arguments)}return a}var debugs={},debugEnviron;function debuglog(e){if(isUndefined(debugEnviron)&&(debugEnviron={}.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var o=0;debugs[e]=function(){var s=format.apply(null,arguments);console.error("%s %d: %s",e,o,s)}}else debugs[e]=function(){};return debugs[e]}function inspect(e,o){var s={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(s.depth=arguments[2]),arguments.length>=4&&(s.colors=arguments[3]),isBoolean(o)?s.showHidden=o:o&&_extend(s,o),isUndefined(s.showHidden)&&(s.showHidden=!1),isUndefined(s.depth)&&(s.depth=2),isUndefined(s.colors)&&(s.colors=!1),isUndefined(s.customInspect)&&(s.customInspect=!0),s.colors&&(s.stylize=stylizeWithColor),formatValue(s,e,s.depth)}inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(e,o){var s=inspect.styles[o];return s?"\x1B["+inspect.colors[s][0]+"m"+e+"\x1B["+inspect.colors[s][1]+"m":e}function stylizeNoColor(e,o){return e}function arrayToHash(e){var o={};return e.forEach(function(s,a){o[s]=!0}),o}function formatValue(e,o,s){if(e.customInspect&&o&&isFunction(o.inspect)&&o.inspect!==inspect&&!(o.constructor&&o.constructor.prototype===o)){var a=o.inspect(s,e);return isString(a)||(a=formatValue(e,a,s)),a}var c=formatPrimitive(e,o);if(c)return c;var h=Object.keys(o),d=arrayToHash(h);if(e.showHidden&&(h=Object.getOwnPropertyNames(o)),isError(o)&&(h.indexOf("message")>=0||h.indexOf("description")>=0))return formatError(o);if(h.length===0){if(isFunction(o)){var _=o.name?": "+o.name:"";return e.stylize("[Function"+_+"]","special")}if(isRegExp(o))return e.stylize(RegExp.prototype.toString.call(o),"regexp");if(isDate(o))return e.stylize(Date.prototype.toString.call(o),"date");if(isError(o))return formatError(o)}var b="",$=!1,rt=["{","}"];if(isArray(o)&&($=!0,rt=["[","]"]),isFunction(o)){var nt=o.name?": "+o.name:"";b=" [Function"+nt+"]"}if(isRegExp(o)&&(b=" "+RegExp.prototype.toString.call(o)),isDate(o)&&(b=" "+Date.prototype.toUTCString.call(o)),isError(o)&&(b=" "+formatError(o)),h.length===0&&(!$||o.length==0))return rt[0]+b+rt[1];if(s<0)return isRegExp(o)?e.stylize(RegExp.prototype.toString.call(o),"regexp"):e.stylize("[Object]","special");e.seen.push(o);var lt;return $?lt=formatArray(e,o,s,d,h):lt=h.map(function(dt){return formatProperty(e,o,s,d,dt,$)}),e.seen.pop(),reduceToSingleString(lt,b,rt)}function formatPrimitive(e,o){if(isUndefined(o))return e.stylize("undefined","undefined");if(isString(o)){var s="'"+JSON.stringify(o).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(s,"string")}if(isNumber(o))return e.stylize(""+o,"number");if(isBoolean(o))return e.stylize(""+o,"boolean");if(isNull(o))return e.stylize("null","null")}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,o,s,a,c){for(var h=[],d=0,_=o.length;d<_;++d)hasOwnProperty(o,String(d))?h.push(formatProperty(e,o,s,a,String(d),!0)):h.push("");return c.forEach(function(b){b.match(/^\d+$/)||h.push(formatProperty(e,o,s,a,b,!0))}),h}function formatProperty(e,o,s,a,c,h){var d,_,b;if(b=Object.getOwnPropertyDescriptor(o,c)||{value:o[c]},b.get?b.set?_=e.stylize("[Getter/Setter]","special"):_=e.stylize("[Getter]","special"):b.set&&(_=e.stylize("[Setter]","special")),hasOwnProperty(a,c)||(d="["+c+"]"),_||(e.seen.indexOf(b.value)<0?(isNull(s)?_=formatValue(e,b.value,null):_=formatValue(e,b.value,s-1),_.indexOf(`
`)>-1&&(h?_=_.split(`
`).map(function($){return"  "+$}).join(`
`).substr(2):_=`
`+_.split(`
`).map(function($){return"   "+$}).join(`
`))):_=e.stylize("[Circular]","special")),isUndefined(d)){if(h&&c.match(/^\d+$/))return _;d=JSON.stringify(""+c),d.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(d=d.substr(1,d.length-2),d=e.stylize(d,"name")):(d=d.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),d=e.stylize(d,"string"))}return d+": "+_}function reduceToSingleString(e,o,s){var a=e.reduce(function(c,h){return h.indexOf(`
`)>=0,c+h.replace(/\u001b\[\d\d?m/g,"").length+1},0);return a>60?s[0]+(o===""?"":o+`
 `)+" "+e.join(`,
  `)+" "+s[1]:s[0]+o+" "+e.join(", ")+" "+s[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return typeof e=="boolean"}function isNull(e){return e===null}function isNullOrUndefined(e){return e==null}function isNumber(e){return typeof e=="number"}function isString(e){return typeof e=="string"}function isSymbol(e){return _typeof$1(e)==="symbol"}function isUndefined(e){return e===void 0}function isRegExp(e){return isObject(e)&&objectToString(e)==="[object RegExp]"}function isObject(e){return _typeof$1(e)==="object"&&e!==null}function isDate(e){return isObject(e)&&objectToString(e)==="[object Date]"}function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}function isFunction(e){return typeof e=="function"}function isPrimitive(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||_typeof$1(e)==="symbol"||typeof e>"u"}function isBuffer(e){return dist.Buffer.isBuffer(e)}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp$1(){var e=new Date,o=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],o].join(" ")}function log(){console.log("%s - %s",timestamp$1(),format.apply(null,arguments))}function _extend(e,o){if(!o||!isObject(o))return e;for(var s=Object.keys(o),a=s.length;a--;)e[s[a]]=o[s[a]];return e}function hasOwnProperty(e,o){return Object.prototype.hasOwnProperty.call(e,o)}var util={inherits:inherits$1,_extend,log,isBuffer,isPrimitive,isFunction,isError,isDate,isObject,isRegExp,isUndefined,isSymbol,isString,isNumber,isNullOrUndefined,isNull,isBoolean,isArray,inspect,deprecate,format,debuglog};function _classCallCheck$2(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$2(e,o,s){return o&&_defineProperties$2(e.prototype,o),s&&_defineProperties$2(e,s),e}var Buffer$1=buffer.Buffer,randomBytes$1=utils.randomBytes,deprecate$1=util.deprecate,PROCESS_UNIQUE=randomBytes$1(5),checkForHexRegExp=new RegExp("^[0-9a-fA-F]{24}$"),hasBufferType=!1;try{Buffer$1&&Buffer$1.from&&(hasBufferType=!0)}catch(e){hasBufferType=!1}var hexTable=[];for(var _i=0;_i<256;_i++)hexTable[_i]=(_i<=15?"0":"")+_i.toString(16);var decodeLookup=[],i=0;for(;i<10;)decodeLookup[48+i]=i++;for(;i<16;)decodeLookup[65-10+i]=decodeLookup[97-10+i]=i++;var _Buffer=Buffer$1;function convertToHex(e){return e.toString("hex")}function makeObjectIdError(e,o){var s=e[o];return new TypeError('ObjectId string "'.concat(e,'" contains invalid character "').concat(s,'" with character code (').concat(e.charCodeAt(o),"). All character codes for a non-hex string must be less than 256."))}var ObjectId=function(){function e(o){if(_classCallCheck$2(this,e),o instanceof e)return o;if(o==null||typeof o=="number"){this.id=e.generate(o),e.cacheHexString&&(this.__id=this.toString("hex"));return}var s=e.isValid(o);if(!s&&o!=null)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(s&&typeof o=="string"&&o.length===24&&hasBufferType)return new e(Buffer$1.from(o,"hex"));if(s&&typeof o=="string"&&o.length===24)return e.createFromHexString(o);if(o!=null&&o.length===12)this.id=o;else{if(o!=null&&o.toHexString)return e.createFromHexString(o.toHexString());throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}e.cacheHexString&&(this.__id=this.toString("hex"))}return _createClass$2(e,[{key:"toHexString",value:function(){if(e.cacheHexString&&this.__id)return this.__id;var s="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof _Buffer)return s=convertToHex(this.id),e.cacheHexString&&(this.__id=s),s;for(var a=0;a<this.id.length;a++){var c=hexTable[this.id.charCodeAt(a)];if(typeof c!="string")throw makeObjectIdError(this.id,a);s+=c}return e.cacheHexString&&(this.__id=s),s}},{key:"toString",value:function(s){return this.id&&this.id.copy?this.id.toString(typeof s=="string"?s:"hex"):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(s){return s instanceof e?this.toString()===s.toString():typeof s=="string"&&e.isValid(s)&&s.length===12&&this.id instanceof _Buffer?s===this.id.toString("binary"):typeof s=="string"&&e.isValid(s)&&s.length===24?s.toLowerCase()===this.toHexString():typeof s=="string"&&e.isValid(s)&&s.length===12?s===this.id:s!=null&&(s instanceof e||s.toHexString)?s.toHexString()===this.toHexString():!1}},{key:"getTimestamp",value:function(){var s=new Date,a=this.id.readUInt32BE(0);return s.setTime(Math.floor(a)*1e3),s}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}}],[{key:"getInc",value:function(){return e.index=(e.index+1)%16777215}},{key:"generate",value:function(s){typeof s!="number"&&(s=~~(Date.now()/1e3));var a=e.getInc(),c=Buffer$1.alloc(12);return c[3]=s&255,c[2]=s>>8&255,c[1]=s>>16&255,c[0]=s>>24&255,c[4]=PROCESS_UNIQUE[0],c[5]=PROCESS_UNIQUE[1],c[6]=PROCESS_UNIQUE[2],c[7]=PROCESS_UNIQUE[3],c[8]=PROCESS_UNIQUE[4],c[11]=a&255,c[10]=a>>8&255,c[9]=a>>16&255,c}},{key:"createPk",value:function(){return new e}},{key:"createFromTime",value:function(s){var a=Buffer$1.from([0,0,0,0,0,0,0,0,0,0,0,0]);return a[3]=s&255,a[2]=s>>8&255,a[1]=s>>16&255,a[0]=s>>24&255,new e(a)}},{key:"createFromHexString",value:function(s){if(typeof s>"u"||s!=null&&s.length!==24)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(hasBufferType)return new e(Buffer$1.from(s,"hex"));for(var a=new _Buffer(12),c=0,h=0;h<24;)a[c++]=decodeLookup[s.charCodeAt(h++)]<<4|decodeLookup[s.charCodeAt(h++)];return new e(a)}},{key:"isValid",value:function(s){return s==null?!1:typeof s=="number"?!0:typeof s=="string"?s.length===12||s.length===24&&checkForHexRegExp.test(s):s instanceof e||s instanceof _Buffer&&s.length===12?!0:s.toHexString?s.id.length===12||s.id.length===24&&checkForHexRegExp.test(s.id):!1}},{key:"fromExtendedJSON",value:function(s){return new e(s.$oid)}}]),e}();ObjectId.get_inc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead");ObjectId.prototype.get_inc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead");ObjectId.prototype.getInc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead");ObjectId.prototype.generate=deprecate$1(function(e){return ObjectId.generate(e)},"Please use the static `ObjectId.generate(time)` instead");Object.defineProperty(ObjectId.prototype,"generationTime",{enumerable:!0,get:function e(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function e(o){this.id[3]=o&255,this.id[2]=o>>8&255,this.id[1]=o>>16&255,this.id[0]=o>>24&255}});ObjectId.prototype[util.inspect.custom||"inspect"]=ObjectId.prototype.toString;ObjectId.index=~~(Math.random()*16777215);Object.defineProperty(ObjectId.prototype,"_bsontype",{value:"ObjectID"});var objectid=ObjectId;function _classCallCheck$3(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$3(e,o,s){return o&&_defineProperties$3(e.prototype,o),s&&_defineProperties$3(e,s),e}function alphabetize(e){return e.split("").sort().join("")}var BSONRegExp=function(){function e(o,s){_classCallCheck$3(this,e),this.pattern=o||"",this.options=s?alphabetize(s):"";for(var a=0;a<this.options.length;a++)if(!(this.options[a]==="i"||this.options[a]==="m"||this.options[a]==="x"||this.options[a]==="l"||this.options[a]==="s"||this.options[a]==="u"))throw new Error("The regular expression option [".concat(this.options[a],"] is not supported"))}return _createClass$3(e,[{key:"toExtendedJSON",value:function(){return{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"fromExtendedJSON",value:function(s){return new e(s.$regularExpression.pattern,s.$regularExpression.options.split("").sort().join(""))}}]),e}();Object.defineProperty(BSONRegExp.prototype,"_bsontype",{value:"BSONRegExp"});var regexp=BSONRegExp;function _classCallCheck$4(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$4(e,o,s){return o&&_defineProperties$4(e.prototype,o),s&&_defineProperties$4(e,s),e}var BSONSymbol=function(){function e(o){_classCallCheck$4(this,e),this.value=o}return _createClass$4(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(s){return new e(s.$symbol)}}]),e}();Object.defineProperty(BSONSymbol.prototype,"_bsontype",{value:"Symbol"});var symbol=BSONSymbol;function _classCallCheck$5(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$5(e,o,s){return o&&_defineProperties$5(e.prototype,o),s&&_defineProperties$5(e,s),e}var Int32=function(){function e(o){_classCallCheck$5(this,e),this.value=o}return _createClass$5(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(s){return s&&s.relaxed?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(s,a){return a&&a.relaxed?parseInt(s.$numberInt,10):new e(s.$numberInt)}}]),e}();Object.defineProperty(Int32.prototype,"_bsontype",{value:"Int32"});var int_32=Int32;function _classCallCheck$6(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$6(e,o,s){return o&&_defineProperties$6(e.prototype,o),s&&_defineProperties$6(e,s),e}var Code=function(){function e(o,s){_classCallCheck$6(this,e),this.code=o,this.scope=s}return _createClass$6(e,[{key:"toJSON",value:function(){return{scope:this.scope,code:this.code}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(s){return new e(s.$code,s.$scope)}}]),e}();Object.defineProperty(Code.prototype,"_bsontype",{value:"Code"});var code=Code,Buffer$2=buffer.Buffer,PARSE_STRING_REGEXP=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,PARSE_INF_REGEXP=/^(\+|-)?(Infinity|inf)$/i,PARSE_NAN_REGEXP=/^(\+|-)?NaN$/i,EXPONENT_MAX=6111,EXPONENT_MIN=-6176,EXPONENT_BIAS=6176,MAX_DIGITS=34,NAN_BUFFER=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_NEGATIVE_BUFFER=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_POSITIVE_BUFFER=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),EXPONENT_REGEX=/^([-+])?(\d+)?$/;function isDigit(e){return!isNaN(parseInt(e,10))}function divideu128(e){var o=long_1.fromNumber(1e9),s=long_1.fromNumber(0);if(!e.parts[0]&&!e.parts[1]&&!e.parts[2]&&!e.parts[3])return{quotient:e,rem:s};for(var a=0;a<=3;a++)s=s.shiftLeft(32),s=s.add(new long_1(e.parts[a],0)),e.parts[a]=s.div(o).low,s=s.modulo(o);return{quotient:e,rem:s}}function multiply64x2(e,o){if(!e&&!o)return{high:long_1.fromNumber(0),low:long_1.fromNumber(0)};var s=e.shiftRightUnsigned(32),a=new long_1(e.getLowBits(),0),c=o.shiftRightUnsigned(32),h=new long_1(o.getLowBits(),0),d=s.multiply(c),_=s.multiply(h),b=a.multiply(c),$=a.multiply(h);return d=d.add(_.shiftRightUnsigned(32)),_=new long_1(_.getLowBits(),0).add(b).add($.shiftRightUnsigned(32)),d=d.add(_.shiftRightUnsigned(32)),$=_.shiftLeft(32).add(new long_1($.getLowBits(),0)),{high:d,low:$}}function lessThan(e,o){var s=e.high>>>0,a=o.high>>>0;if(s<a)return!0;if(s===a){var c=e.low>>>0,h=o.low>>>0;if(c<h)return!0}return!1}function invalidErr(e,o){throw new TypeError('"'.concat(e,'" is not a valid Decimal128 string - ').concat(o))}function Decimal128(e){this.bytes=e}Decimal128.fromString=function(e){var o=!1,s=!1,a=!1,c=0,h=0,d=0,_=0,b=0,$=[0],rt=0,nt=0,lt=0,dt=0,gt=0,Et=0,ht=[0,0],ot=[0,0],ct=0,it=0;if(e.length>=7e3)throw new TypeError(""+e+" not a valid Decimal128 string");var at=e.match(PARSE_STRING_REGEXP),yt=e.match(PARSE_INF_REGEXP),St=e.match(PARSE_NAN_REGEXP);if(!at&&!yt&&!St||e.length===0)throw new TypeError(""+e+" not a valid Decimal128 string");if(at){var Rt=at[2],Bt=at[4],Lt=at[5],Pt=at[6];Bt&&Pt===void 0&&invalidErr(e,"missing exponent power"),Bt&&Rt===void 0&&invalidErr(e,"missing exponent base"),Bt===void 0&&(Lt||Pt)&&invalidErr(e,"missing e before exponent")}if((e[it]==="+"||e[it]==="-")&&(o=e[it++]==="-"),!isDigit(e[it])&&e[it]!=="."){if(e[it]==="i"||e[it]==="I")return new Decimal128(Buffer$2.from(o?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));if(e[it]==="N")return new Decimal128(Buffer$2.from(NAN_BUFFER))}for(;isDigit(e[it])||e[it]===".";){if(e[it]==="."){s&&invalidErr(e,"contains multiple periods"),s=!0,it=it+1;continue}rt<34&&(e[it]!=="0"||a)&&(a||(b=h),a=!0,$[nt++]=parseInt(e[it],10),rt=rt+1),a&&(d=d+1),s&&(_=_+1),h=h+1,it=it+1}if(s&&!h)throw new TypeError(""+e+" not a valid Decimal128 string");if(e[it]==="e"||e[it]==="E"){var zt=e.substr(++it).match(EXPONENT_REGEX);if(!zt||!zt[2])return new Decimal128(Buffer$2.from(NAN_BUFFER));gt=parseInt(zt[0],10),it=it+zt[0].length}if(e[it])return new Decimal128(Buffer$2.from(NAN_BUFFER));if(lt=0,!rt)lt=0,dt=0,$[0]=0,d=1,rt=1,c=0;else if(dt=rt-1,c=d,c!==1)for(;e[b+c-1]==="0";)c=c-1;for(gt<=_&&_-gt>16384?gt=EXPONENT_MIN:gt=gt-_;gt>EXPONENT_MAX;){if(dt=dt+1,dt-lt>MAX_DIGITS){var Wt=$.join("");if(Wt.match(/^0+$/)){gt=EXPONENT_MAX;break}invalidErr(e,"overflow")}gt=gt-1}for(;gt<EXPONENT_MIN||rt<d;){if(dt===0&&c<rt){gt=EXPONENT_MIN,c=0;break}if(rt<d?d=d-1:dt=dt-1,gt<EXPONENT_MAX)gt=gt+1;else{var Zt=$.join("");if(Zt.match(/^0+$/)){gt=EXPONENT_MAX;break}invalidErr(e,"overflow")}}if(dt-lt+1<c){var Vt=h;s&&(b=b+1,Vt=Vt+1),o&&(b=b+1,Vt=Vt+1);var Dt=parseInt(e[b+dt+1],10),Ft=0;if(Dt>=5&&(Ft=1,Dt===5)){for(Ft=$[dt]%2===1,Et=b+dt+2;Et<Vt;Et++)if(parseInt(e[Et],10)){Ft=1;break}}if(Ft){for(var jt=dt;jt>=0;jt--)if(++$[jt]>9&&($[jt]=0,jt===0))if(gt<EXPONENT_MAX)gt=gt+1,$[jt]=1;else return new Decimal128(Buffer$2.from(o?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER))}}if(ht=long_1.fromNumber(0),ot=long_1.fromNumber(0),c===0)ht=long_1.fromNumber(0),ot=long_1.fromNumber(0);else if(dt-lt<17){var Tt=lt;for(ot=long_1.fromNumber($[Tt++]),ht=new long_1(0,0);Tt<=dt;Tt++)ot=ot.multiply(long_1.fromNumber(10)),ot=ot.add(long_1.fromNumber($[Tt]))}else{var xt=lt;for(ht=long_1.fromNumber($[xt++]);xt<=dt-17;xt++)ht=ht.multiply(long_1.fromNumber(10)),ht=ht.add(long_1.fromNumber($[xt]));for(ot=long_1.fromNumber($[xt++]);xt<=dt;xt++)ot=ot.multiply(long_1.fromNumber(10)),ot=ot.add(long_1.fromNumber($[xt]))}var Ct=multiply64x2(ht,long_1.fromString("100000000000000000"));Ct.low=Ct.low.add(ot),lessThan(Ct.low,ot)&&(Ct.high=Ct.high.add(long_1.fromNumber(1))),ct=gt+EXPONENT_BIAS;var wt={low:long_1.fromNumber(0),high:long_1.fromNumber(0)};Ct.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber(1))?(wt.high=wt.high.or(long_1.fromNumber(3).shiftLeft(61)),wt.high=wt.high.or(long_1.fromNumber(ct).and(long_1.fromNumber(16383).shiftLeft(47))),wt.high=wt.high.or(Ct.high.and(long_1.fromNumber(0x7fffffffffff)))):(wt.high=wt.high.or(long_1.fromNumber(ct&16383).shiftLeft(49)),wt.high=wt.high.or(Ct.high.and(long_1.fromNumber(562949953421311)))),wt.low=Ct.low,o&&(wt.high=wt.high.or(long_1.fromString("9223372036854775808")));var It=Buffer$2.alloc(16);return it=0,It[it++]=wt.low.low&255,It[it++]=wt.low.low>>8&255,It[it++]=wt.low.low>>16&255,It[it++]=wt.low.low>>24&255,It[it++]=wt.low.high&255,It[it++]=wt.low.high>>8&255,It[it++]=wt.low.high>>16&255,It[it++]=wt.low.high>>24&255,It[it++]=wt.high.low&255,It[it++]=wt.high.low>>8&255,It[it++]=wt.high.low>>16&255,It[it++]=wt.high.low>>24&255,It[it++]=wt.high.high&255,It[it++]=wt.high.high>>8&255,It[it++]=wt.high.high>>16&255,It[it++]=wt.high.high>>24&255,new Decimal128(It)};var COMBINATION_MASK=31,EXPONENT_MASK=16383,COMBINATION_INFINITY=30,COMBINATION_NAN=31;Decimal128.prototype.toString=function(){for(var e,o,s,a,c,h,d=0,_=new Array(36),b=0;b<_.length;b++)_[b]=0;var $=0,rt,nt,lt=!1,dt,gt={parts:new Array(4)},Et,ht,ot=[];$=0;var ct=this.bytes;a=ct[$++]|ct[$++]<<8|ct[$++]<<16|ct[$++]<<24,s=ct[$++]|ct[$++]<<8|ct[$++]<<16|ct[$++]<<24,o=ct[$++]|ct[$++]<<8|ct[$++]<<16|ct[$++]<<24,e=ct[$++]|ct[$++]<<8|ct[$++]<<16|ct[$++]<<24,$=0;var it={low:new long_1(a,s),high:new long_1(o,e)};if(it.high.lessThan(long_1.ZERO)&&ot.push("-"),c=e>>26&COMBINATION_MASK,c>>3===3){if(c===COMBINATION_INFINITY)return ot.join("")+"Infinity";if(c===COMBINATION_NAN)return"NaN";h=e>>15&EXPONENT_MASK,dt=8+(e>>14&1)}else dt=e>>14&7,h=e>>17&EXPONENT_MASK;if(rt=h-EXPONENT_BIAS,gt.parts[0]=(e&16383)+((dt&15)<<14),gt.parts[1]=o,gt.parts[2]=s,gt.parts[3]=a,gt.parts[0]===0&&gt.parts[1]===0&&gt.parts[2]===0&&gt.parts[3]===0)lt=!0;else for(ht=3;ht>=0;ht--){var at=0,yt=divideu128(gt);if(gt=yt.quotient,at=yt.rem.low,!!at)for(Et=8;Et>=0;Et--)_[ht*9+Et]=at%10,at=Math.floor(at/10)}if(lt)d=1,_[$]=0;else for(d=36;!_[$];)d=d-1,$=$+1;if(nt=d-1+rt,nt>=34||nt<=-7||rt>0){if(d>34)return ot.push(0),rt>0?ot.push("E+"+rt):rt<0&&ot.push("E"+rt),ot.join("");ot.push(_[$++]),d=d-1,d&&ot.push(".");for(var St=0;St<d;St++)ot.push(_[$++]);ot.push("E"),nt>0?ot.push("+"+nt):ot.push(nt)}else if(rt>=0)for(var Rt=0;Rt<d;Rt++)ot.push(_[$++]);else{var Bt=d+rt;if(Bt>0)for(var Lt=0;Lt<Bt;Lt++)ot.push(_[$++]);else ot.push("0");for(ot.push(".");Bt++<0;)ot.push("0");for(var Pt=0;Pt<d-Math.max(Bt-1,0);Pt++)ot.push(_[$++])}return ot.join("")};Decimal128.prototype.toJSON=function(){return{$numberDecimal:this.toString()}};Decimal128.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}};Decimal128.fromExtendedJSON=function(e){return Decimal128.fromString(e.$numberDecimal)};Object.defineProperty(Decimal128.prototype,"_bsontype",{value:"Decimal128"});var decimal128=Decimal128;function _classCallCheck$7(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$7(e,o,s){return o&&_defineProperties$7(e.prototype,o),s&&_defineProperties$7(e,s),e}var MinKey=function(){function e(){_classCallCheck$7(this,e)}return _createClass$7(e,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MinKey.prototype,"_bsontype",{value:"MinKey"});var min_key=MinKey;function _classCallCheck$8(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$8(e,o,s){return o&&_defineProperties$8(e.prototype,o),s&&_defineProperties$8(e,s),e}var MaxKey=function(){function e(){_classCallCheck$8(this,e)}return _createClass$8(e,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MaxKey.prototype,"_bsontype",{value:"MaxKey"});var max_key=MaxKey;function _classCallCheck$9(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$9(e,o,s){return o&&_defineProperties$9(e.prototype,o),s&&_defineProperties$9(e,s),e}var DBRef=function(){function e(o,s,a,c){_classCallCheck$9(this,e);var h=o.split(".");h.length===2&&(a=h.shift(),o=h.shift()),this.collection=o,this.oid=s,this.db=a,this.fields=c||{}}return _createClass$9(e,[{key:"toJSON",value:function(){var s=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(s.$db=this.db),s}},{key:"toExtendedJSON",value:function(){var s={$ref:this.collection,$id:this.oid};return this.db&&(s.$db=this.db),s=Object.assign(s,this.fields),s}}],[{key:"fromExtendedJSON",value:function(s){var a=Object.assign({},s);return["$ref","$id","$db"].forEach(function(c){return delete a[c]}),new e(s.$ref,s.$id,s.$db,a)}}]),e}();Object.defineProperty(DBRef.prototype,"_bsontype",{value:"DBRef"});Object.defineProperty(DBRef.prototype,"namespace",{get:function e(){return this.collection},set:function e(o){this.collection=o},configurable:!1});var db_ref=DBRef;function _classCallCheck$a(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(e,o){for(var s=0;s<o.length;s++){var a=o[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass$a(e,o,s){return o&&_defineProperties$a(e.prototype,o),s&&_defineProperties$a(e,s),e}var Buffer$3=buffer.Buffer,Binary=function(){function e(o,s){if(_classCallCheck$a(this,e),o!=null&&typeof o!="string"&&!Buffer$3.isBuffer(o)&&!(o instanceof Uint8Array)&&!Array.isArray(o))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");if(this.sub_type=s??BSON_BINARY_SUBTYPE_DEFAULT,this.position=0,o!=null&&!(o instanceof Number)){if(typeof o=="string")if(typeof Buffer$3<"u")this.buffer=Buffer$3.from(o);else if(typeof Uint8Array<"u"||Array.isArray(o))this.buffer=writeStringToArray(o);else throw new TypeError("only String, Buffer, Uint8Array or Array accepted");else this.buffer=o;this.position=o.length}else typeof Buffer$3<"u"?this.buffer=Buffer$3.alloc(e.BUFFER_SIZE):typeof Uint8Array<"u"?this.buffer=new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE)):this.buffer=new Array(e.BUFFER_SIZE)}return _createClass$a(e,[{key:"put",value:function(s){if(s.length!=null&&typeof s!="number"&&s.length!==1)throw new TypeError("only accepts single character String, Uint8Array or Array");if(typeof s!="number"&&s<0||s>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");var a=null;if(typeof s=="string"?a=s.charCodeAt(0):s.length!=null?a=s[0]:a=s,this.buffer.length>this.position)this.buffer[this.position++]=a;else if(typeof Buffer$3<"u"&&Buffer$3.isBuffer(this.buffer)){var c=Buffer$3.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(c,0,0,this.buffer.length),this.buffer=c,this.buffer[this.position++]=a}else{var h=null;isUint8Array(this.buffer)?h=new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE+this.buffer.length)):h=new Array(e.BUFFER_SIZE+this.buffer.length);for(var d=0;d<this.buffer.length;d++)h[d]=this.buffer[d];this.buffer=h,this.buffer[this.position++]=a}}},{key:"write",value:function(s,a){if(a=typeof a=="number"?a:this.position,this.buffer.length<a+s.length){var c=null;if(typeof Buffer$3<"u"&&Buffer$3.isBuffer(this.buffer))c=Buffer$3.alloc(this.buffer.length+s.length),this.buffer.copy(c,0,0,this.buffer.length);else if(isUint8Array(this.buffer)){c=new Uint8Array(new ArrayBuffer(this.buffer.length+s.length));for(var h=0;h<this.position;h++)c[h]=this.buffer[h]}this.buffer=c}if(typeof Buffer$3<"u"&&Buffer$3.isBuffer(s)&&Buffer$3.isBuffer(this.buffer))s.copy(this.buffer,a,0,s.length),this.position=a+s.length>this.position?a+s.length:this.position;else if(typeof Buffer$3<"u"&&typeof s=="string"&&Buffer$3.isBuffer(this.buffer))this.buffer.write(s,a,"binary"),this.position=a+s.length>this.position?a+s.length:this.position;else if(isUint8Array(s)||Array.isArray(s)&&typeof s!="string"){for(var d=0;d<s.length;d++)this.buffer[a++]=s[d];this.position=a>this.position?a:this.position}else if(typeof s=="string"){for(var _=0;_<s.length;_++)this.buffer[a++]=s.charCodeAt(_);this.position=a>this.position?a:this.position}}},{key:"read",value:function(s,a){if(a=a&&a>0?a:this.position,this.buffer.slice)return this.buffer.slice(s,s+a);for(var c=typeof Uint8Array<"u"?new Uint8Array(new ArrayBuffer(a)):new Array(a),h=0;h<a;h++)c[h]=this.buffer[s++];return c}},{key:"value",value:function(s){if(s=s??!1,s&&typeof Buffer$3<"u"&&Buffer$3.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(typeof Buffer$3<"u"&&Buffer$3.isBuffer(this.buffer))return s?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(s){if(this.buffer.slice!=null)return this.buffer.slice(0,this.position);for(var a=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),c=0;c<this.position;c++)a[c]=this.buffer[c];return a}else return convertArraytoUtf8BinaryString(this.buffer,0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return this.buffer!=null?this.buffer.toString("base64"):""}},{key:"toString",value:function(s){return this.buffer!=null?this.buffer.slice(0,this.position).toString(s):""}},{key:"toExtendedJSON",value:function(){var s=Buffer$3.isBuffer(this.buffer)?this.buffer.toString("base64"):Buffer$3.from(this.buffer).toString("base64"),a=Number(this.sub_type).toString(16);return{$binary:{base64:s,subType:a.length===1?"0"+a:a}}}}],[{key:"fromExtendedJSON",value:function(s){var a=s.$binary.subType?parseInt(s.$binary.subType,16):0,c=Buffer$3.from(s.$binary.base64,"base64");return new e(c,a)}}]),e}(),BSON_BINARY_SUBTYPE_DEFAULT=0;function isUint8Array(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}function writeStringToArray(e){for(var o=typeof Uint8Array<"u"?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),s=0;s<e.length;s++)o[s]=e.charCodeAt(s);return o}function convertArraytoUtf8BinaryString(e,o,s){for(var a="",c=o;c<s;c++)a=a+String.fromCharCode(e[c]);return a}Binary.BUFFER_SIZE=256;Binary.SUBTYPE_DEFAULT=0;Binary.SUBTYPE_FUNCTION=1;Binary.SUBTYPE_BYTE_ARRAY=2;Binary.SUBTYPE_UUID_OLD=3;Binary.SUBTYPE_UUID=4;Binary.SUBTYPE_MD5=5;Binary.SUBTYPE_USER_DEFINED=128;Object.defineProperty(Binary.prototype,"_bsontype",{value:"Binary"});var binary=Binary,constants={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,BSON_INT64_MAX:Math.pow(2,63)-1,BSON_INT64_MIN:-Math.pow(2,63),JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992,BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_DBPOINTER:12,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128};function _typeof$2(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(s){return typeof s}:_typeof$2=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$2(e)}var keysToCodecs={$oid:objectid,$binary:binary,$symbol:symbol,$numberInt:int_32,$numberDecimal:decimal128,$numberDouble:double_1,$numberLong:long_1,$minKey:min_key,$maxKey:max_key,$regularExpression:regexp,$timestamp:timestamp};function deserializeValue(e,o,s,a){if(typeof s=="number"){if(a.relaxed)return s;if(Math.floor(s)===s){if(s>=BSON_INT32_MIN&&s<=BSON_INT32_MAX)return new int_32(s);if(s>=BSON_INT64_MIN&&s<=BSON_INT64_MAX)return new long_1.fromNumber(s)}return new double_1(s)}if(s==null||_typeof$2(s)!=="object")return s;if(s.$undefined)return null;for(var c=Object.keys(s).filter(function(dt){return dt.startsWith("$")&&s[dt]!=null}),h=0;h<c.length;h++){var d=keysToCodecs[c[h]];if(d)return d.fromExtendedJSON(s,a)}if(s.$date!=null){var _=s.$date,b=new Date;return typeof _=="string"?b.setTime(Date.parse(_)):long_1.isLong(_)?b.setTime(_.toNumber()):typeof _=="number"&&a.relaxed&&b.setTime(_),b}if(s.$code!=null){var $=Object.assign({},s);return s.$scope&&($.$scope=deserializeValue(e,null,s.$scope)),code.fromExtendedJSON(s)}if(s.$ref!=null||s.$dbPointer!=null){var rt=s.$ref?s:s.$dbPointer;if(rt instanceof db_ref)return rt;var nt=Object.keys(rt).filter(function(dt){return dt.startsWith("$")}),lt=!0;if(nt.forEach(function(dt){["$ref","$id","$db"].indexOf(dt)===-1&&(lt=!1)}),lt)return db_ref.fromExtendedJSON(rt)}return s}function parse(e,o){var s=this;return o=Object.assign({},{relaxed:!0},o),typeof o.relaxed=="boolean"&&(o.strict=!o.relaxed),typeof o.strict=="boolean"&&(o.relaxed=!o.strict),JSON.parse(e,function(a,c){return deserializeValue(s,a,c,o)})}var BSON_INT32_MAX=2147483647,BSON_INT32_MIN=-2147483648,BSON_INT64_MAX=9223372036854776e3,BSON_INT64_MIN=-9223372036854776e3;function stringify(e,o,s,a){s!=null&&_typeof$2(s)==="object"&&(a=s,s=0),o!=null&&_typeof$2(o)==="object"&&!Array.isArray(o)&&(a=o,o=null,s=0),a=Object.assign({},{relaxed:!0},a);var c=Array.isArray(e)?serializeArray(e,a):serializeDocument(e,a);return JSON.stringify(c,o,s)}function serialize(e,o){return o=o||{},JSON.parse(stringify(e,o))}function deserialize(e,o){return o=o||{},parse(JSON.stringify(e),o)}function serializeArray(e,o){return e.map(function(s){return serializeValue(s,o)})}function getISOString(e){var o=e.toISOString();return e.getUTCMilliseconds()!==0?o:o.slice(0,-5)+"Z"}function serializeValue(e,o){if(Array.isArray(e))return serializeArray(e,o);if(e===void 0)return null;if(e instanceof Date){var s=e.getTime(),a=s>-1&&s<2534023188e5;return o.relaxed&&a?{$date:getISOString(e)}:{$date:{$numberLong:e.getTime().toString()}}}if(typeof e=="number"&&!o.relaxed){if(Math.floor(e)===e){var c=e>=BSON_INT32_MIN&&e<=BSON_INT32_MAX,h=e>=BSON_INT64_MIN&&e<=BSON_INT64_MAX;if(c)return{$numberInt:e.toString()};if(h)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var d=e.flags;d===void 0&&(d=e.toString().match(/[gimuy]*$/)[0]);var _=new regexp(e.source,d);return _.toExtendedJSON()}return e!=null&&_typeof$2(e)==="object"?serializeDocument(e,o):e}var BSON_TYPE_MAPPINGS={Binary:function e(o){return new binary(o.value(),o.subtype)},Code:function e(o){return new code(o.code,o.scope)},DBRef:function e(o){return new db_ref(o.collection||o.namespace,o.oid,o.db,o.fields)},Decimal128:function e(o){return new decimal128(o.bytes)},Double:function e(o){return new double_1(o.value)},Int32:function e(o){return new int_32(o.value)},Long:function e(o){return long_1.fromBits(o.low!=null?o.low:o.low_,o.low!=null?o.high:o.high_,o.low!=null?o.unsigned:o.unsigned_)},MaxKey:function e(){return new max_key},MinKey:function e(){return new min_key},ObjectID:function e(o){return new objectid(o)},ObjectId:function e(o){return new objectid(o)},BSONRegExp:function e(o){return new regexp(o.pattern,o.options)},Symbol:function e(o){return new symbol(o.value)},Timestamp:function e(o){return timestamp.fromBits(o.low,o.high)}};function serializeDocument(e,o){if(e==null||_typeof$2(e)!=="object")throw new Error("not an object instance");var s=e._bsontype;if(typeof s>"u"){var a={};for(var c in e)a[c]=serializeValue(e[c],o);return a}else if(typeof s=="string"){var h=e;if(typeof h.toExtendedJSON!="function"){var d=BSON_TYPE_MAPPINGS[s];if(!d)throw new TypeError("Unrecognized or invalid _bsontype: "+s);h=d(h)}return s==="Code"&&h.scope?h=new code(h.code,serializeValue(h.scope,o)):s==="DBRef"&&h.oid&&(h=new db_ref(h.collection,serializeValue(h.oid,o),h.db,h.fields)),h.toExtendedJSON(o)}else throw new Error("_bsontype must be a string, but was: "+_typeof$2(s))}var extended_json={parse,deserialize,serialize,stringify},FIRST_BIT=128,FIRST_TWO_BITS=192,FIRST_THREE_BITS=224,FIRST_FOUR_BITS=240,FIRST_FIVE_BITS=248,TWO_BIT_CHAR=192,THREE_BIT_CHAR=224,FOUR_BIT_CHAR=240,CONTINUING_CHAR=128;function validateUtf8(e,o,s){for(var a=0,c=o;c<s;c+=1){var h=e[c];if(a){if((h&FIRST_TWO_BITS)!==CONTINUING_CHAR)return!1;a-=1}else if(h&FIRST_BIT)if((h&FIRST_THREE_BITS)===TWO_BIT_CHAR)a=1;else if((h&FIRST_FOUR_BITS)===THREE_BIT_CHAR)a=2;else if((h&FIRST_FIVE_BITS)===FOUR_BIT_CHAR)a=3;else return!1}return!a}var validateUtf8_1=validateUtf8,validate_utf8={validateUtf8:validateUtf8_1},Buffer$4=buffer.Buffer,validateUtf8$1=validate_utf8.validateUtf8,JS_INT_MAX_LONG=long_1.fromNumber(constants.JS_INT_MAX),JS_INT_MIN_LONG=long_1.fromNumber(constants.JS_INT_MIN),functionCache={};function deserialize$1(e,o,s){o=o??{};var a=o&&o.index?o.index:0,c=e[a]|e[a+1]<<8|e[a+2]<<16|e[a+3]<<24;if(c<5)throw new Error("bson size must be >= 5, is ".concat(c));if(o.allowObjectSmallerThanBufferSize&&e.length<c)throw new Error("buffer length ".concat(e.length," must be >= bson size ").concat(c));if(!o.allowObjectSmallerThanBufferSize&&e.length!==c)throw new Error("buffer length ".concat(e.length," must === bson size ").concat(c));if(c+a>e.length)throw new Error("(bson size ".concat(c," + options.index ").concat(a," must be <= buffer length ").concat(Buffer$4.byteLength(e),")"));if(e[a+c-1]!==0)throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return deserializeObject(e,a,o,s)}function deserializeObject(e,o,s,a){var c=s.evalFunctions==null?!1:s.evalFunctions,h=s.cacheFunctions==null?!1:s.cacheFunctions,d=s.cacheFunctionsCrc32==null?!1:s.cacheFunctionsCrc32;if(!d)var _=null;var b=s.fieldsAsRaw==null?null:s.fieldsAsRaw,$=s.raw==null?!1:s.raw,rt=typeof s.bsonRegExp=="boolean"?s.bsonRegExp:!1,nt=s.promoteBuffers==null?!1:s.promoteBuffers,lt=s.promoteLongs==null?!0:s.promoteLongs,dt=s.promoteValues==null?!0:s.promoteValues,gt=o;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");var Et=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;if(Et<5||Et>e.length)throw new Error("corrupt bson message");for(var ht=a?[]:{},ot=0,ct=!1;!ct;){var it=e[o++];if(it===0)break;for(var at=o;e[at]!==0&&at<e.length;)at++;if(at>=Buffer$4.byteLength(e))throw new Error("Bad BSON Document: illegal CString");var yt=a?ot++:e.toString("utf8",o,at);if(o=at+1,it===constants.BSON_DATA_STRING){var St=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;if(St<=0||St>e.length-o||e[o+St-1]!==0)throw new Error("bad string length in bson");if(!validateUtf8$1(e,o,o+St-1))throw new Error("Invalid UTF-8 string in BSON document");var Rt=e.toString("utf8",o,o+St-1);ht[yt]=Rt,o=o+St}else if(it===constants.BSON_DATA_OID){var Bt=Buffer$4.alloc(12);e.copy(Bt,0,o,o+12),ht[yt]=new objectid(Bt),o=o+12}else if(it===constants.BSON_DATA_INT&&dt===!1)ht[yt]=new int_32(e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24);else if(it===constants.BSON_DATA_INT)ht[yt]=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;else if(it===constants.BSON_DATA_NUMBER&&dt===!1)ht[yt]=new double_1(e.readDoubleLE(o)),o=o+8;else if(it===constants.BSON_DATA_NUMBER)ht[yt]=e.readDoubleLE(o),o=o+8;else if(it===constants.BSON_DATA_DATE){var Lt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24,Pt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;ht[yt]=new Date(new long_1(Lt,Pt).toNumber())}else if(it===constants.BSON_DATA_BOOLEAN){if(e[o]!==0&&e[o]!==1)throw new Error("illegal boolean type value");ht[yt]=e[o++]===1}else if(it===constants.BSON_DATA_OBJECT){var zt=o,Wt=e[o]|e[o+1]<<8|e[o+2]<<16|e[o+3]<<24;if(Wt<=0||Wt>e.length-o)throw new Error("bad embedded document length in bson");$?ht[yt]=e.slice(o,o+Wt):ht[yt]=deserializeObject(e,zt,s,!1),o=o+Wt}else if(it===constants.BSON_DATA_ARRAY){var Zt=o,Vt=e[o]|e[o+1]<<8|e[o+2]<<16|e[o+3]<<24,Dt=s,Ft=o+Vt;if(b&&b[yt]){Dt={};for(var jt in s)Dt[jt]=s[jt];Dt.raw=!0}if(ht[yt]=deserializeObject(e,Zt,Dt,!0),o=o+Vt,e[o-1]!==0)throw new Error("invalid array terminator byte");if(o!==Ft)throw new Error("corrupted array bson")}else if(it===constants.BSON_DATA_UNDEFINED)ht[yt]=void 0;else if(it===constants.BSON_DATA_NULL)ht[yt]=null;else if(it===constants.BSON_DATA_LONG){var Tt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24,xt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24,Ct=new long_1(Tt,xt);lt&&dt===!0?ht[yt]=Ct.lessThanOrEqual(JS_INT_MAX_LONG)&&Ct.greaterThanOrEqual(JS_INT_MIN_LONG)?Ct.toNumber():Ct:ht[yt]=Ct}else if(it===constants.BSON_DATA_DECIMAL128){var wt=Buffer$4.alloc(16);e.copy(wt,0,o,o+16),o=o+16;var It=new decimal128(wt);ht[yt]=It.toObject?It.toObject():It}else if(it===constants.BSON_DATA_BINARY){var kt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24,Kt=kt,er=e[o++];if(kt<0)throw new Error("Negative binary type element size found");if(kt>Buffer$4.byteLength(e))throw new Error("Binary type size larger than document size");if(e.slice!=null){if(er===binary.SUBTYPE_BYTE_ARRAY){if(kt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24,kt<0)throw new Error("Negative binary type element size found for subtype 0x02");if(kt>Kt-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(kt<Kt-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}nt&&dt?ht[yt]=e.slice(o,o+kt):ht[yt]=new binary(e.slice(o,o+kt),er)}else{var Qt=typeof Uint8Array<"u"?new Uint8Array(new ArrayBuffer(kt)):new Array(kt);if(er===binary.SUBTYPE_BYTE_ARRAY){if(kt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24,kt<0)throw new Error("Negative binary type element size found for subtype 0x02");if(kt>Kt-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(kt<Kt-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}for(at=0;at<kt;at++)Qt[at]=e[o+at];nt&&dt?ht[yt]=Qt:ht[yt]=new binary(Qt,er)}o=o+kt}else if(it===constants.BSON_DATA_REGEXP&&rt===!1){for(at=o;e[at]!==0&&at<e.length;)at++;if(at>=e.length)throw new Error("Bad BSON Document: illegal CString");var or=e.toString("utf8",o,at);for(o=at+1,at=o;e[at]!==0&&at<e.length;)at++;if(at>=e.length)throw new Error("Bad BSON Document: illegal CString");var rr=e.toString("utf8",o,at);o=at+1;var nr=new Array(rr.length);for(at=0;at<rr.length;at++)switch(rr[at]){case"m":nr[at]="m";break;case"s":nr[at]="g";break;case"i":nr[at]="i";break}ht[yt]=new RegExp(or,nr.join(""))}else if(it===constants.BSON_DATA_REGEXP&&rt===!0){for(at=o;e[at]!==0&&at<e.length;)at++;if(at>=e.length)throw new Error("Bad BSON Document: illegal CString");var ar=e.toString("utf8",o,at);for(o=at+1,at=o;e[at]!==0&&at<e.length;)at++;if(at>=e.length)throw new Error("Bad BSON Document: illegal CString");var lr=e.toString("utf8",o,at);o=at+1,ht[yt]=new regexp(ar,lr)}else if(it===constants.BSON_DATA_SYMBOL){var tr=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;if(tr<=0||tr>e.length-o||e[o+tr-1]!==0)throw new Error("bad string length in bson");ht[yt]=e.toString("utf8",o,o+tr-1),o=o+tr}else if(it===constants.BSON_DATA_TIMESTAMP){var qt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24,sr=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;ht[yt]=new timestamp(qt,sr)}else if(it===constants.BSON_DATA_MIN_KEY)ht[yt]=new min_key;else if(it===constants.BSON_DATA_MAX_KEY)ht[yt]=new max_key;else if(it===constants.BSON_DATA_CODE){var ir=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;if(ir<=0||ir>e.length-o||e[o+ir-1]!==0)throw new Error("bad string length in bson");var ut=e.toString("utf8",o,o+ir-1);if(c)if(h){var et=d?_(ut):ut;ht[yt]=isolateEvalWithHash(functionCache,et,ut,ht)}else ht[yt]=isolateEval(ut);else ht[yt]=new code(ut);o=o+ir}else if(it===constants.BSON_DATA_CODE_W_SCOPE){var tt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;if(tt<4+4+4+1)throw new Error("code_w_scope total size shorter minimum expected length");var pt=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;if(pt<=0||pt>e.length-o||e[o+pt-1]!==0)throw new Error("bad string length in bson");var vt=e.toString("utf8",o,o+pt-1);o=o+pt;var Nt=o,Ot=e[o]|e[o+1]<<8|e[o+2]<<16|e[o+3]<<24,bt=deserializeObject(e,Nt,s,!1);if(o=o+Ot,tt<4+4+Ot+pt)throw new Error("code_w_scope total size is to short, truncating scope");if(tt>4+4+Ot+pt)throw new Error("code_w_scope total size is to long, clips outer document");if(c){if(h){var $t=d?_(vt):vt;ht[yt]=isolateEvalWithHash(functionCache,$t,vt,ht)}else ht[yt]=isolateEval(vt);ht[yt].scope=bt}else ht[yt]=new code(vt,bt)}else if(it===constants.BSON_DATA_DBPOINTER){var Ut=e[o++]|e[o++]<<8|e[o++]<<16|e[o++]<<24;if(Ut<=0||Ut>e.length-o||e[o+Ut-1]!==0)throw new Error("bad string length in bson");if(!validateUtf8$1(e,o,o+Ut-1))throw new Error("Invalid UTF-8 string in BSON document");var Jt=e.toString("utf8",o,o+Ut-1);o=o+Ut;var st=Buffer$4.alloc(12);e.copy(st,0,o,o+12);var j=new objectid(st);o=o+12,ht[yt]=new db_ref(Jt,j)}else throw new Error("Detected unknown BSON type "+it.toString(16)+' for fieldname "'+yt+'", are you using the latest BSON parser?')}if(Et!==o-gt)throw a?new Error("corrupt array bson"):new Error("corrupt object bson");var _e=Object.keys(ht).filter(function(_t){return _t.startsWith("$")}),ft=!0;if(_e.forEach(function(_t){["$ref","$id","$db"].indexOf(_t)===-1&&(ft=!1)}),!ft)return ht;if(ht.$id!=null&&ht.$ref!=null){var mt=Object.assign({},ht);return delete mt.$ref,delete mt.$id,delete mt.$db,new db_ref(ht.$ref,ht.$id,ht.$db||null,mt)}return ht}function isolateEvalWithHash(functionCache,hash,functionString,object){var value=null;return functionCache[hash]==null&&(eval("value = "+functionString),functionCache[hash]=value),functionCache[hash].bind(object)}function isolateEval(functionString){var value=null;return eval("value = "+functionString),value}var deserializer=deserialize$1;function readIEEE754(e,o,s,a,c){var h,d,_=s==="big",b=c*8-a-1,$=(1<<b)-1,rt=$>>1,nt=-7,lt=_?0:c-1,dt=_?1:-1,gt=e[o+lt];for(lt+=dt,h=gt&(1<<-nt)-1,gt>>=-nt,nt+=b;nt>0;h=h*256+e[o+lt],lt+=dt,nt-=8);for(d=h&(1<<-nt)-1,h>>=-nt,nt+=a;nt>0;d=d*256+e[o+lt],lt+=dt,nt-=8);if(h===0)h=1-rt;else{if(h===$)return d?NaN:(gt?-1:1)*(1/0);d=d+Math.pow(2,a),h=h-rt}return(gt?-1:1)*d*Math.pow(2,h-a)}function writeIEEE754(e,o,s,a,c,h){var d,_,b,$=a==="big",rt=h*8-c-1,nt=(1<<rt)-1,lt=nt>>1,dt=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,gt=$?h-1:0,Et=$?-1:1,ht=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(_=isNaN(o)?1:0,d=nt):(d=Math.floor(Math.log(o)/Math.LN2),o*(b=Math.pow(2,-d))<1&&(d--,b*=2),d+lt>=1?o+=dt/b:o+=dt*Math.pow(2,1-lt),o*b>=2&&(d++,b/=2),d+lt>=nt?(_=0,d=nt):d+lt>=1?(_=(o*b-1)*Math.pow(2,c),d=d+lt):(_=o*Math.pow(2,lt-1)*Math.pow(2,c),d=0)),isNaN(o)&&(_=0);c>=8;)e[s+gt]=_&255,gt+=Et,_/=256,c-=8;for(d=d<<c|_,isNaN(o)&&(d+=8),rt+=c;rt>0;)e[s+gt]=d&255,gt+=Et,d/=256,rt-=8;e[s+gt-Et]|=ht*128}var float_parser={readIEEE754,writeIEEE754};function _typeof$3(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(s){return typeof s}:_typeof$3=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$3(e)}var Buffer$5=buffer.Buffer,writeIEEE754$1=float_parser.writeIEEE754,normalizedFunctionString$1=utils.normalizedFunctionString,regexp$1=/\x00/,ignoreKeys=new Set(["$db","$ref","$id","$clusterTime"]),isDate$1=function e(o){return _typeof$3(o)==="object"&&Object.prototype.toString.call(o)==="[object Date]"},isRegExp$1=function e(o){return Object.prototype.toString.call(o)==="[object RegExp]"};function serializeString(e,o,s,a,c){e[a++]=constants.BSON_DATA_STRING;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+h+1,e[a-1]=0;var d=e.write(s,a+4,"utf8");return e[a+3]=d+1>>24&255,e[a+2]=d+1>>16&255,e[a+1]=d+1>>8&255,e[a]=d+1&255,a=a+4+d,e[a++]=0,a}function serializeNumber(e,o,s,a,c){if(Math.floor(s)===s&&s>=constants.JS_INT_MIN&&s<=constants.JS_INT_MAX)if(s>=constants.BSON_INT32_MIN&&s<=constants.BSON_INT32_MAX){e[a++]=constants.BSON_DATA_INT;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+h,e[a++]=0,e[a++]=s&255,e[a++]=s>>8&255,e[a++]=s>>16&255,e[a++]=s>>24&255}else if(s>=constants.JS_INT_MIN&&s<=constants.JS_INT_MAX){e[a++]=constants.BSON_DATA_NUMBER;var d=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+d,e[a++]=0,writeIEEE754$1(e,s,a,"little",52,8),a=a+8}else{e[a++]=constants.BSON_DATA_LONG;var _=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+_,e[a++]=0;var b=long_1.fromNumber(s),$=b.getLowBits(),rt=b.getHighBits();e[a++]=$&255,e[a++]=$>>8&255,e[a++]=$>>16&255,e[a++]=$>>24&255,e[a++]=rt&255,e[a++]=rt>>8&255,e[a++]=rt>>16&255,e[a++]=rt>>24&255}else{e[a++]=constants.BSON_DATA_NUMBER;var nt=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+nt,e[a++]=0,writeIEEE754$1(e,s,a,"little",52,8),a=a+8}return a}function serializeNull(e,o,s,a,c){e[a++]=constants.BSON_DATA_NULL;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");return a=a+h,e[a++]=0,a}function serializeBoolean(e,o,s,a,c){e[a++]=constants.BSON_DATA_BOOLEAN;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");return a=a+h,e[a++]=0,e[a++]=s?1:0,a}function serializeDate(e,o,s,a,c){e[a++]=constants.BSON_DATA_DATE;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+h,e[a++]=0;var d=long_1.fromNumber(s.getTime()),_=d.getLowBits(),b=d.getHighBits();return e[a++]=_&255,e[a++]=_>>8&255,e[a++]=_>>16&255,e[a++]=_>>24&255,e[a++]=b&255,e[a++]=b>>8&255,e[a++]=b>>16&255,e[a++]=b>>24&255,a}function serializeRegExp(e,o,s,a,c){e[a++]=constants.BSON_DATA_REGEXP;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");if(a=a+h,e[a++]=0,s.source&&s.source.match(regexp$1)!=null)throw Error("value "+s.source+" must not contain null bytes");return a=a+e.write(s.source,a,"utf8"),e[a++]=0,s.ignoreCase&&(e[a++]=105),s.global&&(e[a++]=115),s.multiline&&(e[a++]=109),e[a++]=0,a}function serializeBSONRegExp(e,o,s,a,c){e[a++]=constants.BSON_DATA_REGEXP;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");if(a=a+h,e[a++]=0,s.pattern.match(regexp$1)!=null)throw Error("pattern "+s.pattern+" must not contain null bytes");return a=a+e.write(s.pattern,a,"utf8"),e[a++]=0,a=a+e.write(s.options.split("").sort().join(""),a,"utf8"),e[a++]=0,a}function serializeMinMax(e,o,s,a,c){s===null?e[a++]=constants.BSON_DATA_NULL:s._bsontype==="MinKey"?e[a++]=constants.BSON_DATA_MIN_KEY:e[a++]=constants.BSON_DATA_MAX_KEY;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");return a=a+h,e[a++]=0,a}function serializeObjectId(e,o,s,a,c){e[a++]=constants.BSON_DATA_OID;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");if(a=a+h,e[a++]=0,typeof s.id=="string")e.write(s.id,a,"binary");else if(s.id&&s.id.copy)s.id.copy(e,a,0,12);else throw new TypeError("object ["+JSON.stringify(s)+"] is not a valid ObjectId");return a+12}function serializeBuffer(e,o,s,a,c){e[a++]=constants.BSON_DATA_BINARY;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+h,e[a++]=0;var d=s.length;return e[a++]=d&255,e[a++]=d>>8&255,e[a++]=d>>16&255,e[a++]=d>>24&255,e[a++]=constants.BSON_BINARY_SUBTYPE_DEFAULT,s.copy(e,a,0,d),a=a+d,a}function serializeObject(e,o,s,a,c,h,d,_,b,$){for(var rt=0;rt<$.length;rt++)if($[rt]===s)throw new Error("cyclic dependency detected");$.push(s),e[a++]=Array.isArray(s)?constants.BSON_DATA_ARRAY:constants.BSON_DATA_OBJECT;var nt=b?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+nt,e[a++]=0;var lt=serializeInto(e,s,c,a,h+1,d,_,$);return $.pop(),lt}function serializeDecimal128(e,o,s,a,c){e[a++]=constants.BSON_DATA_DECIMAL128;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");return a=a+h,e[a++]=0,s.bytes.copy(e,a,0,16),a+16}function serializeLong(e,o,s,a,c){e[a++]=s._bsontype==="Long"?constants.BSON_DATA_LONG:constants.BSON_DATA_TIMESTAMP;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+h,e[a++]=0;var d=s.getLowBits(),_=s.getHighBits();return e[a++]=d&255,e[a++]=d>>8&255,e[a++]=d>>16&255,e[a++]=d>>24&255,e[a++]=_&255,e[a++]=_>>8&255,e[a++]=_>>16&255,e[a++]=_>>24&255,a}function serializeInt32(e,o,s,a,c){e[a++]=constants.BSON_DATA_INT;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");return a=a+h,e[a++]=0,e[a++]=s&255,e[a++]=s>>8&255,e[a++]=s>>16&255,e[a++]=s>>24&255,a}function serializeDouble(e,o,s,a,c){e[a++]=constants.BSON_DATA_NUMBER;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");return a=a+h,e[a++]=0,writeIEEE754$1(e,s.value,a,"little",52,8),a=a+8,a}function serializeFunction(e,o,s,a,c,h,d){e[a++]=constants.BSON_DATA_CODE;var _=d?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+_,e[a++]=0;var b=normalizedFunctionString$1(s),$=e.write(b,a+4,"utf8")+1;return e[a]=$&255,e[a+1]=$>>8&255,e[a+2]=$>>16&255,e[a+3]=$>>24&255,a=a+4+$-1,e[a++]=0,a}function serializeCode(e,o,s,a,c,h,d,_,b){if(s.scope&&_typeof$3(s.scope)==="object"){e[a++]=constants.BSON_DATA_CODE_W_SCOPE;var $=b?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+$,e[a++]=0;var rt=a,nt=typeof s.code=="string"?s.code:s.code.toString();a=a+4;var lt=e.write(nt,a+4,"utf8")+1;e[a]=lt&255,e[a+1]=lt>>8&255,e[a+2]=lt>>16&255,e[a+3]=lt>>24&255,e[a+4+lt-1]=0,a=a+lt+4;var dt=serializeInto(e,s.scope,c,a,h+1,d,_);a=dt-1;var gt=dt-rt;e[rt++]=gt&255,e[rt++]=gt>>8&255,e[rt++]=gt>>16&255,e[rt++]=gt>>24&255,e[a++]=0}else{e[a++]=constants.BSON_DATA_CODE;var Et=b?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+Et,e[a++]=0;var ht=s.code.toString(),ot=e.write(ht,a+4,"utf8")+1;e[a]=ot&255,e[a+1]=ot>>8&255,e[a+2]=ot>>16&255,e[a+3]=ot>>24&255,a=a+4+ot-1,e[a++]=0}return a}function serializeBinary(e,o,s,a,c){e[a++]=constants.BSON_DATA_BINARY;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+h,e[a++]=0;var d=s.value(!0),_=s.position;return s.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(_=_+4),e[a++]=_&255,e[a++]=_>>8&255,e[a++]=_>>16&255,e[a++]=_>>24&255,e[a++]=s.sub_type,s.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(_=_-4,e[a++]=_&255,e[a++]=_>>8&255,e[a++]=_>>16&255,e[a++]=_>>24&255),d.copy(e,a,0,s.position),a=a+s.position,a}function serializeSymbol(e,o,s,a,c){e[a++]=constants.BSON_DATA_SYMBOL;var h=c?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+h,e[a++]=0;var d=e.write(s.value,a+4,"utf8")+1;return e[a]=d&255,e[a+1]=d>>8&255,e[a+2]=d>>16&255,e[a+3]=d>>24&255,a=a+4+d-1,e[a++]=0,a}function serializeDBRef(e,o,s,a,c,h,d){e[a++]=constants.BSON_DATA_OBJECT;var _=d?e.write(o,a,"ascii"):e.write(o,a,"utf8");a=a+_,e[a++]=0;var b=a,$,rt={$ref:s.collection||s.namespace,$id:s.oid};s.db!=null&&(rt.$db=s.db),rt=Object.assign(rt,s.fields),$=serializeInto(e,rt,!1,a,c+1,h);var nt=$-b;return e[b++]=nt&255,e[b++]=nt>>8&255,e[b++]=nt>>16&255,e[b++]=nt>>24&255,$}function serializeInto(e,o,s,a,c,h,d,_){a=a||0,_=_||[],_.push(o);var b=a+4;if(Array.isArray(o))for(var $=0;$<o.length;$++){var rt=""+$,nt=o[$];if(nt&&nt.toBSON){if(typeof nt.toBSON!="function")throw new TypeError("toBSON is not a function");nt=nt.toBSON()}var lt=_typeof$3(nt);if(lt==="string")b=serializeString(e,rt,nt,b,!0);else if(lt==="number")b=serializeNumber(e,rt,nt,b,!0);else if(lt==="boolean")b=serializeBoolean(e,rt,nt,b,!0);else if(nt instanceof Date||isDate$1(nt))b=serializeDate(e,rt,nt,b,!0);else if(nt===void 0)b=serializeNull(e,rt,nt,b,!0);else if(nt===null)b=serializeNull(e,rt,nt,b,!0);else if(nt._bsontype==="ObjectId"||nt._bsontype==="ObjectID")b=serializeObjectId(e,rt,nt,b,!0);else if(Buffer$5.isBuffer(nt))b=serializeBuffer(e,rt,nt,b,!0);else if(nt instanceof RegExp||isRegExp$1(nt))b=serializeRegExp(e,rt,nt,b,!0);else if(lt==="object"&&nt._bsontype==null)b=serializeObject(e,rt,nt,b,s,c,h,d,!0,_);else if(lt==="object"&&nt._bsontype==="Decimal128")b=serializeDecimal128(e,rt,nt,b,!0);else if(nt._bsontype==="Long"||nt._bsontype==="Timestamp")b=serializeLong(e,rt,nt,b,!0);else if(nt._bsontype==="Double")b=serializeDouble(e,rt,nt,b,!0);else if(typeof nt=="function"&&h)b=serializeFunction(e,rt,nt,b,s,c,h);else if(nt._bsontype==="Code")b=serializeCode(e,rt,nt,b,s,c,h,d,!0);else if(nt._bsontype==="Binary")b=serializeBinary(e,rt,nt,b,!0);else if(nt._bsontype==="Symbol")b=serializeSymbol(e,rt,nt,b,!0);else if(nt._bsontype==="DBRef")b=serializeDBRef(e,rt,nt,b,c,h,!0);else if(nt._bsontype==="BSONRegExp")b=serializeBSONRegExp(e,rt,nt,b,!0);else if(nt._bsontype==="Int32")b=serializeInt32(e,rt,nt,b,!0);else if(nt._bsontype==="MinKey"||nt._bsontype==="MaxKey")b=serializeMinMax(e,rt,nt,b,!0);else if(typeof nt._bsontype<"u")throw new TypeError("Unrecognized or invalid _bsontype: "+nt._bsontype)}else if(o instanceof map)for(var dt=o.entries(),gt=!1;!gt;){var Et=dt.next();if(gt=Et.done,!gt){var ht=Et.value[0],ot=Et.value[1],ct=_typeof$3(ot);if(typeof ht=="string"&&!ignoreKeys.has(ht)){if(ht.match(regexp$1)!=null)throw Error("key "+ht+" must not contain null bytes");if(s){if(ht[0]==="$")throw Error("key "+ht+" must not start with '$'");if(~ht.indexOf("."))throw Error("key "+ht+" must not contain '.'")}}if(ct==="string")b=serializeString(e,ht,ot,b);else if(ct==="number")b=serializeNumber(e,ht,ot,b);else if(ct==="boolean")b=serializeBoolean(e,ht,ot,b);else if(ot instanceof Date||isDate$1(ot))b=serializeDate(e,ht,ot,b);else if(ot===null||ot===void 0&&d===!1)b=serializeNull(e,ht,ot,b);else if(ot._bsontype==="ObjectId"||ot._bsontype==="ObjectID")b=serializeObjectId(e,ht,ot,b);else if(Buffer$5.isBuffer(ot))b=serializeBuffer(e,ht,ot,b);else if(ot instanceof RegExp||isRegExp$1(ot))b=serializeRegExp(e,ht,ot,b);else if(ct==="object"&&ot._bsontype==null)b=serializeObject(e,ht,ot,b,s,c,h,d,!1,_);else if(ct==="object"&&ot._bsontype==="Decimal128")b=serializeDecimal128(e,ht,ot,b);else if(ot._bsontype==="Long"||ot._bsontype==="Timestamp")b=serializeLong(e,ht,ot,b);else if(ot._bsontype==="Double")b=serializeDouble(e,ht,ot,b);else if(ot._bsontype==="Code")b=serializeCode(e,ht,ot,b,s,c,h,d);else if(typeof ot=="function"&&h)b=serializeFunction(e,ht,ot,b,s,c,h);else if(ot._bsontype==="Binary")b=serializeBinary(e,ht,ot,b);else if(ot._bsontype==="Symbol")b=serializeSymbol(e,ht,ot,b);else if(ot._bsontype==="DBRef")b=serializeDBRef(e,ht,ot,b,c,h);else if(ot._bsontype==="BSONRegExp")b=serializeBSONRegExp(e,ht,ot,b);else if(ot._bsontype==="Int32")b=serializeInt32(e,ht,ot,b);else if(ot._bsontype==="MinKey"||ot._bsontype==="MaxKey")b=serializeMinMax(e,ht,ot,b);else if(typeof ot._bsontype<"u")throw new TypeError("Unrecognized or invalid _bsontype: "+ot._bsontype)}}else{if(o.toBSON){if(typeof o.toBSON!="function")throw new TypeError("toBSON is not a function");if(o=o.toBSON(),o!=null&&_typeof$3(o)!=="object")throw new TypeError("toBSON function did not return an object")}for(var it in o){var at=o[it];if(at&&at.toBSON){if(typeof at.toBSON!="function")throw new TypeError("toBSON is not a function");at=at.toBSON()}var yt=_typeof$3(at);if(typeof it=="string"&&!ignoreKeys.has(it)){if(it.match(regexp$1)!=null)throw Error("key "+it+" must not contain null bytes");if(s){if(it[0]==="$")throw Error("key "+it+" must not start with '$'");if(~it.indexOf("."))throw Error("key "+it+" must not contain '.'")}}if(yt==="string")b=serializeString(e,it,at,b);else if(yt==="number")b=serializeNumber(e,it,at,b);else if(yt==="boolean")b=serializeBoolean(e,it,at,b);else if(at instanceof Date||isDate$1(at))b=serializeDate(e,it,at,b);else if(at===void 0)d===!1&&(b=serializeNull(e,it,at,b));else if(at===null)b=serializeNull(e,it,at,b);else if(at._bsontype==="ObjectId"||at._bsontype==="ObjectID")b=serializeObjectId(e,it,at,b);else if(Buffer$5.isBuffer(at))b=serializeBuffer(e,it,at,b);else if(at instanceof RegExp||isRegExp$1(at))b=serializeRegExp(e,it,at,b);else if(yt==="object"&&at._bsontype==null)b=serializeObject(e,it,at,b,s,c,h,d,!1,_);else if(yt==="object"&&at._bsontype==="Decimal128")b=serializeDecimal128(e,it,at,b);else if(at._bsontype==="Long"||at._bsontype==="Timestamp")b=serializeLong(e,it,at,b);else if(at._bsontype==="Double")b=serializeDouble(e,it,at,b);else if(at._bsontype==="Code")b=serializeCode(e,it,at,b,s,c,h,d);else if(typeof at=="function"&&h)b=serializeFunction(e,it,at,b,s,c,h);else if(at._bsontype==="Binary")b=serializeBinary(e,it,at,b);else if(at._bsontype==="Symbol")b=serializeSymbol(e,it,at,b);else if(at._bsontype==="DBRef")b=serializeDBRef(e,it,at,b,c,h);else if(at._bsontype==="BSONRegExp")b=serializeBSONRegExp(e,it,at,b);else if(at._bsontype==="Int32")b=serializeInt32(e,it,at,b);else if(at._bsontype==="MinKey"||at._bsontype==="MaxKey")b=serializeMinMax(e,it,at,b);else if(typeof at._bsontype<"u")throw new TypeError("Unrecognized or invalid _bsontype: "+at._bsontype)}}_.pop(),e[b++]=0;var St=b-a;return e[a++]=St&255,e[a++]=St>>8&255,e[a++]=St>>16&255,e[a++]=St>>24&255,b}var serializer=serializeInto;function _typeof$4(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(s){return typeof s}:_typeof$4=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$4(e)}var Buffer$6=buffer.Buffer,normalizedFunctionString$2=utils.normalizedFunctionString;function isDate$2(e){return _typeof$4(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function calculateObjectSize(e,o,s){var a=5;if(Array.isArray(e))for(var c=0;c<e.length;c++)a+=calculateElement(c.toString(),e[c],o,!0,s);else{e.toBSON&&(e=e.toBSON());for(var h in e)a+=calculateElement(h,e[h],o,!1,s)}return a}function calculateElement(e,o,s,a,c){switch(o&&o.toBSON&&(o=o.toBSON()),_typeof$4(o)){case"string":return 1+Buffer$6.byteLength(e,"utf8")+1+4+Buffer$6.byteLength(o,"utf8")+1;case"number":return Math.floor(o)===o&&o>=constants.JS_INT_MIN&&o<=constants.JS_INT_MAX&&o>=constants.BSON_INT32_MIN&&o<=constants.BSON_INT32_MAX?(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+(4+1):(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+(8+1);case"undefined":return a||!c?(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+(1+1);case"object":if(o==null||o._bsontype==="MinKey"||o._bsontype==="MaxKey")return(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+1;if(o._bsontype==="ObjectId"||o._bsontype==="ObjectID")return(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+(12+1);if(o instanceof Date||isDate$2(o))return(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+(8+1);if(typeof Buffer$6<"u"&&Buffer$6.isBuffer(o))return(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+(1+4+1)+o.length;if(o._bsontype==="Long"||o._bsontype==="Double"||o._bsontype==="Timestamp")return(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+(8+1);if(o._bsontype==="Decimal128")return(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+(16+1);if(o._bsontype==="Code")return o.scope!=null&&Object.keys(o.scope).length>0?(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(o.code.toString(),"utf8")+1+calculateObjectSize(o.scope,s,c):(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+Buffer$6.byteLength(o.code.toString(),"utf8")+1;if(o._bsontype==="Binary")return o.sub_type===binary.SUBTYPE_BYTE_ARRAY?(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+(o.position+1+4+1+4):(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+(o.position+1+4+1);if(o._bsontype==="Symbol")return(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+Buffer$6.byteLength(o.value,"utf8")+4+1+1;if(o._bsontype==="DBRef"){var h=Object.assign({$ref:o.collection,$id:o.oid},o.fields);return o.db!=null&&(h.$db=o.db),(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+1+calculateObjectSize(h,s,c)}else return o instanceof RegExp||Object.prototype.toString.call(o)==="[object RegExp]"?(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(o.source,"utf8")+1+(o.global?1:0)+(o.ignoreCase?1:0)+(o.multiline?1:0)+1:o._bsontype==="BSONRegExp"?(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(o.pattern,"utf8")+1+Buffer$6.byteLength(o.options,"utf8")+1:(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+calculateObjectSize(o,s,c)+1;case"function":if(o instanceof RegExp||Object.prototype.toString.call(o)==="[object RegExp]"||String.call(o)==="[object RegExp]")return(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(o.source,"utf8")+1+(o.global?1:0)+(o.ignoreCase?1:0)+(o.multiline?1:0)+1;if(s&&o.scope!=null&&Object.keys(o.scope).length>0)return(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(normalizedFunctionString$2(o),"utf8")+1+calculateObjectSize(o.scope,s,c);if(s)return(e!=null?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+Buffer$6.byteLength(normalizedFunctionString$2(o),"utf8")+1}return 0}var calculate_size=calculateObjectSize,Buffer$7=buffer.Buffer,ensure_buffer=function e(o){if(o instanceof Buffer$7)return o;if(o instanceof Uint8Array)return Buffer$7.from(o.buffer);throw new TypeError("Must use either Buffer or Uint8Array")},Buffer$8=buffer.Buffer,MAXSIZE=1024*1024*17,buffer$1=Buffer$8.alloc(MAXSIZE);function setInternalBufferSize(e){buffer$1.length<e&&(buffer$1=Buffer$8.alloc(e))}function serialize$1(e,o){o=o||{};var s=typeof o.checkKeys=="boolean"?o.checkKeys:!1,a=typeof o.serializeFunctions=="boolean"?o.serializeFunctions:!1,c=typeof o.ignoreUndefined=="boolean"?o.ignoreUndefined:!0,h=typeof o.minInternalBufferSize=="number"?o.minInternalBufferSize:MAXSIZE;buffer$1.length<h&&(buffer$1=Buffer$8.alloc(h));var d=serializer(buffer$1,e,s,0,0,a,c,[]),_=Buffer$8.alloc(d);return buffer$1.copy(_,0,0,_.length),_}function serializeWithBufferAndIndex(e,o,s){s=s||{};var a=typeof s.checkKeys=="boolean"?s.checkKeys:!1,c=typeof s.serializeFunctions=="boolean"?s.serializeFunctions:!1,h=typeof s.ignoreUndefined=="boolean"?s.ignoreUndefined:!0,d=typeof s.index=="number"?s.index:0,_=serializer(buffer$1,e,a,0,0,c,h);return buffer$1.copy(o,d,0,_),d+_-1}function deserialize$2(e,o){return e=ensure_buffer(e),deserializer(e,o)}function calculateObjectSize$1(e,o){o=o||{};var s=typeof o.serializeFunctions=="boolean"?o.serializeFunctions:!1,a=typeof o.ignoreUndefined=="boolean"?o.ignoreUndefined:!0;return calculate_size(e,s,a)}function deserializeStream(e,o,s,a,c,h){h=Object.assign({allowObjectSmallerThanBufferSize:!0},h),e=ensure_buffer(e);for(var d=o,_=0;_<s;_++){var b=e[d]|e[d+1]<<8|e[d+2]<<16|e[d+3]<<24;h.index=d,a[c+_]=deserializer(e,h),d=d+b}return d}var bson={BSON_INT32_MAX:constants.BSON_INT32_MAX,BSON_INT32_MIN:constants.BSON_INT32_MIN,BSON_INT64_MAX:constants.BSON_INT64_MAX,BSON_INT64_MIN:constants.BSON_INT64_MIN,JS_INT_MAX:constants.JS_INT_MAX,JS_INT_MIN:constants.JS_INT_MIN,BSON_DATA_NUMBER:constants.BSON_DATA_NUMBER,BSON_DATA_STRING:constants.BSON_DATA_STRING,BSON_DATA_OBJECT:constants.BSON_DATA_OBJECT,BSON_DATA_ARRAY:constants.BSON_DATA_ARRAY,BSON_DATA_BINARY:constants.BSON_DATA_BINARY,BSON_DATA_UNDEFINED:constants.BSON_DATA_UNDEFINED,BSON_DATA_OID:constants.BSON_DATA_OID,BSON_DATA_BOOLEAN:constants.BSON_DATA_BOOLEAN,BSON_DATA_DATE:constants.BSON_DATA_DATE,BSON_DATA_NULL:constants.BSON_DATA_NULL,BSON_DATA_REGEXP:constants.BSON_DATA_REGEXP,BSON_DATA_DBPOINTER:constants.BSON_DATA_DBPOINTER,BSON_DATA_CODE:constants.BSON_DATA_CODE,BSON_DATA_SYMBOL:constants.BSON_DATA_SYMBOL,BSON_DATA_CODE_W_SCOPE:constants.BSON_DATA_CODE_W_SCOPE,BSON_DATA_INT:constants.BSON_DATA_INT,BSON_DATA_TIMESTAMP:constants.BSON_DATA_TIMESTAMP,BSON_DATA_LONG:constants.BSON_DATA_LONG,BSON_DATA_DECIMAL128:constants.BSON_DATA_DECIMAL128,BSON_DATA_MIN_KEY:constants.BSON_DATA_MIN_KEY,BSON_DATA_MAX_KEY:constants.BSON_DATA_MAX_KEY,BSON_BINARY_SUBTYPE_DEFAULT:constants.BSON_BINARY_SUBTYPE_DEFAULT,BSON_BINARY_SUBTYPE_FUNCTION:constants.BSON_BINARY_SUBTYPE_FUNCTION,BSON_BINARY_SUBTYPE_BYTE_ARRAY:constants.BSON_BINARY_SUBTYPE_BYTE_ARRAY,BSON_BINARY_SUBTYPE_UUID:constants.BSON_BINARY_SUBTYPE_UUID,BSON_BINARY_SUBTYPE_MD5:constants.BSON_BINARY_SUBTYPE_MD5,BSON_BINARY_SUBTYPE_USER_DEFINED:constants.BSON_BINARY_SUBTYPE_USER_DEFINED,Code:code,Map:map,BSONSymbol:symbol,DBRef:db_ref,Binary:binary,ObjectId:objectid,Long:long_1,Timestamp:timestamp,Double:double_1,Int32:int_32,MinKey:min_key,MaxKey:max_key,BSONRegExp:regexp,Decimal128:decimal128,serialize:serialize$1,serializeWithBufferAndIndex,deserialize:deserialize$2,calculateObjectSize:calculateObjectSize$1,deserializeStream,setInternalBufferSize,ObjectID:objectid,EJSON:extended_json},CoreRemoteMongoReadOperation=function(){function e(o,s,a,c){this.command=o,this.args=s,this.service=a,c&&(this.collectionDecoder=new(function(){function h(){}return h.prototype.decode=function(d){return d instanceof Array?d.map(function(_){return c.decode(_)}):[c.decode(d)]},h}()))}return e.prototype.iterator=function(){return this.executeRead().then(function(o){return o[Symbol.iterator]()})},e.prototype.first=function(){return this.executeRead().then(function(o){return o[0]})},e.prototype.toArray=function(){return this.executeRead()},e.prototype.asArray=function(){return this.toArray()},e.prototype.executeRead=function(){return this.service.callFunction(this.command,[this.args],this.collectionDecoder)},e}(),OperationType;(function(e){e.Insert="insert",e.Delete="delete",e.Replace="replace",e.Update="update",e.Unknown="unknown"})(OperationType||(OperationType={}));function operationTypeFromRemote(e){switch(e){case"insert":return OperationType.Insert;case"delete":return OperationType.Delete;case"replace":return OperationType.Replace;case"update":return OperationType.Update;default:return OperationType.Unknown}}var RemoteInsertManyResult=function(){function e(o){var s={};o.forEach(function(a,c){s[c]=a}),this.insertedIds=s}return e}(),RemoteInsertManyResultFields;(function(e){e.InsertedIds="insertedIds"})(RemoteInsertManyResultFields||(RemoteInsertManyResultFields={}));var RemoteInsertOneResultFields;(function(e){e.InsertedId="insertedId"})(RemoteInsertOneResultFields||(RemoteInsertOneResultFields={}));var RemoteUpdateResultFields;(function(e){e.MatchedCount="matchedCount",e.ModifiedCount="modifiedCount",e.UpsertedId="upsertedId"})(RemoteUpdateResultFields||(RemoteUpdateResultFields={}));var RemoteDeleteResultFields;(function(e){e.DeletedCount="deletedCount"})(RemoteDeleteResultFields||(RemoteDeleteResultFields={}));var UpdateDescriptionFields;(function(e){e.UpdatedFields="updatedFields",e.RemovedFields="removedFields"})(UpdateDescriptionFields||(UpdateDescriptionFields={}));var ChangeEventFields;(function(e){e.Id="_id",e.OperationType="operationType",e.FullDocument="fullDocument",e.DocumentKey="documentKey",e.Namespace="ns",e.NamespaceDb="db",e.NamespaceColl="coll",e.UpdateDescription="updateDescription"})(ChangeEventFields||(ChangeEventFields={}));var CompactChangeEventFields;(function(e){e.OperationType="ot",e.FullDocument="fd",e.DocumentKey="dk",e.UpdateDescription="ud",e.StitchDocumentVersion="sdv",e.StitchDocumentHash="sdh"})(CompactChangeEventFields||(CompactChangeEventFields={}));var RemoteInsertManyResultDecoder=function(){function e(){}return e.prototype.decode=function(o){return new RemoteInsertManyResult(o[RemoteInsertManyResultFields.InsertedIds])},e}(),RemoteInsertOneResultDecoder=function(){function e(){}return e.prototype.decode=function(o){return{insertedId:o[RemoteInsertOneResultFields.InsertedId]}},e}(),RemoteUpdateResultDecoder=function(){function e(){}return e.prototype.decode=function(o){return{matchedCount:o[RemoteUpdateResultFields.MatchedCount],modifiedCount:o[RemoteUpdateResultFields.ModifiedCount],upsertedId:o[RemoteUpdateResultFields.UpsertedId]}},e}(),RemoteDeleteResultDecoder=function(){function e(){}return e.prototype.decode=function(o){return{deletedCount:o[RemoteDeleteResultFields.DeletedCount]}},e}(),UpdateDescriptionDecoder=function(){function e(){}return e.prototype.decode=function(o){return Assertions.keyPresent(UpdateDescriptionFields.UpdatedFields,o),Assertions.keyPresent(UpdateDescriptionFields.RemovedFields,o),{removedFields:o[UpdateDescriptionFields.RemovedFields],updatedFields:o[UpdateDescriptionFields.UpdatedFields]}},e}();function decodeBaseChangeEventFields(e,o,s,a){var c;o in e?c=ResultDecoders.updateDescriptionDecoder.decode(e[o]):c=void 0;var h;return s in e?(h=e[s],a&&(h=a.decode(h))):h=void 0,{updateDescription:c,fullDocument:h}}var ChangeEventDecoder=function(){function e(o){this.decoder=o}return e.prototype.decode=function(o){Assertions.keyPresent(ChangeEventFields.Id,o),Assertions.keyPresent(ChangeEventFields.OperationType,o),Assertions.keyPresent(ChangeEventFields.Namespace,o),Assertions.keyPresent(ChangeEventFields.DocumentKey,o);var s=o[ChangeEventFields.Namespace],a=decodeBaseChangeEventFields(o,ChangeEventFields.UpdateDescription,ChangeEventFields.FullDocument,this.decoder),c=a.updateDescription,h=a.fullDocument;return{documentKey:o[ChangeEventFields.DocumentKey],fullDocument:h,id:o[ChangeEventFields.Id],namespace:{collection:s[ChangeEventFields.NamespaceColl],database:s[ChangeEventFields.NamespaceDb]},operationType:operationTypeFromRemote(o[ChangeEventFields.OperationType]),updateDescription:c}},e}(),CompactChangeEventDecoder=function(){function e(o){this.decoder=o}return e.prototype.decode=function(o){Assertions.keyPresent(CompactChangeEventFields.OperationType,o),Assertions.keyPresent(CompactChangeEventFields.DocumentKey,o);var s=decodeBaseChangeEventFields(o,CompactChangeEventFields.UpdateDescription,CompactChangeEventFields.FullDocument,this.decoder),a=s.updateDescription,c=s.fullDocument,h;CompactChangeEventFields.StitchDocumentVersion in o?h=o[CompactChangeEventFields.StitchDocumentVersion]:h=void 0;var d;return CompactChangeEventFields.StitchDocumentHash in o?d=o[CompactChangeEventFields.StitchDocumentHash]:d=void 0,{documentKey:o[CompactChangeEventFields.DocumentKey],fullDocument:c,operationType:operationTypeFromRemote(o[CompactChangeEventFields.OperationType]),stitchDocumentHash:d,stitchDocumentVersion:h,updateDescription:a}},e}(),ResultDecoders=function(){function e(){}return e.remoteInsertManyResultDecoder=new RemoteInsertManyResultDecoder,e.remoteInsertOneResultDecoder=new RemoteInsertOneResultDecoder,e.remoteUpdateResultDecoder=new RemoteUpdateResultDecoder,e.remoteDeleteResultDecoder=new RemoteDeleteResultDecoder,e.updateDescriptionDecoder=new UpdateDescriptionDecoder,e.ChangeEventDecoder=ChangeEventDecoder,e.CompactChangeEventDecoder=CompactChangeEventDecoder,e}(),__assign=globalThis&&globalThis.__assign||Object.assign||function(e){for(var o,s=1,a=arguments.length;s<a;s++){o=arguments[s];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c])}return e},CoreRemoteMongoCollectionImpl=function(){function e(o,s,a,c){var h=this;this.name=o,this.databaseName=s,this.service=a,this.codec=c,this.namespace=this.databaseName+"."+this.name,this.baseOperationArgs=function(){return{collection:h.name,database:h.databaseName}}()}return e.prototype.withCollectionType=function(o){return new e(this.name,this.databaseName,this.service,o)},e.prototype.find=function(o,s){o===void 0&&(o={});var a=__assign({},this.baseOperationArgs);return a.query=o,s&&(s.limit&&(a.limit=s.limit),s.projection&&(a.project=s.projection),s.sort&&(a.sort=s.sort)),new CoreRemoteMongoReadOperation("find",a,this.service,this.codec)},e.prototype.findOne=function(o,s){o===void 0&&(o={});var a=__assign({},this.baseOperationArgs);return a.query=o,s&&(s.projection&&(a.project=s.projection),s.sort&&(a.sort=s.sort)),this.service.callFunction("findOne",[a],this.codec)},e.prototype.findOneAndUpdate=function(o,s,a){var c=__assign({},this.baseOperationArgs);return c.filter=o,c.update=s,a&&(a.projection&&(c.projection=a.projection),a.sort&&(c.sort=a.sort),a.upsert&&(c.upsert=!0),a.returnNewDocument&&(c.returnNewDocument=!0)),this.service.callFunction("findOneAndUpdate",[c],this.codec)},e.prototype.findOneAndReplace=function(o,s,a){var c=__assign({},this.baseOperationArgs);return c.filter=o,c.update=s,a&&(a.projection&&(c.projection=a.projection),a.sort&&(c.sort=a.sort),a.upsert&&(c.upsert=!0),a.returnNewDocument&&(c.returnNewDocument=!0)),this.service.callFunction("findOneAndReplace",[c],this.codec)},e.prototype.findOneAndDelete=function(o,s){var a=__assign({},this.baseOperationArgs);return a.filter=o,s&&(s.projection&&(a.projection=s.projection),s.sort&&(a.sort=s.sort)),this.service.callFunction("findOneAndDelete",[a],this.codec)},e.prototype.aggregate=function(o){var s=__assign({},this.baseOperationArgs);return s.pipeline=o,new CoreRemoteMongoReadOperation("aggregate",s,this.service,this.codec)},e.prototype.count=function(o,s){o===void 0&&(o={});var a=__assign({},this.baseOperationArgs);return a.query=o,s&&s.limit&&(a.limit=s.limit),this.service.callFunction("count",[a])},e.prototype.insertOne=function(o){var s=__assign({},this.baseOperationArgs);return s.document=this.generateObjectIdIfMissing(this.codec?this.codec.encode(o):o),this.service.callFunction("insertOne",[s],ResultDecoders.remoteInsertOneResultDecoder)},e.prototype.insertMany=function(o){var s=this,a=__assign({},this.baseOperationArgs);return a.documents=o.map(function(c){return s.generateObjectIdIfMissing(s.codec?s.codec.encode(c):c)}),this.service.callFunction("insertMany",[a],ResultDecoders.remoteInsertManyResultDecoder)},e.prototype.deleteOne=function(o){return this.executeDelete(o,!1)},e.prototype.deleteMany=function(o){return this.executeDelete(o,!0)},e.prototype.updateOne=function(o,s,a){return this.executeUpdate(o,s,a,!1)},e.prototype.updateMany=function(o,s,a){return this.executeUpdate(o,s,a,!0)},e.prototype.watch=function(o){var s=__assign({},this.baseOperationArgs);return o!==void 0&&(o instanceof Array?o.length!==0&&(s.ids=o):o instanceof Object&&(s.filter=o)),s.useCompactEvents=!1,this.service.streamFunction("watch",[s],new ResultDecoders.ChangeEventDecoder(this.codec))},e.prototype.watchCompact=function(o){var s=__assign({},this.baseOperationArgs);return s.ids=o,s.useCompactEvents=!0,this.service.streamFunction("watch",[s],new ResultDecoders.CompactChangeEventDecoder(this.codec))},e.prototype.executeDelete=function(o,s){var a=__assign({},this.baseOperationArgs);return a.query=o,this.service.callFunction(s?"deleteMany":"deleteOne",[a],ResultDecoders.remoteDeleteResultDecoder)},e.prototype.executeUpdate=function(o,s,a,c){c===void 0&&(c=!1);var h=__assign({},this.baseOperationArgs);return h.query=o,h.update=s,a&&a.upsert&&(h.upsert=a.upsert),this.service.callFunction(c?"updateMany":"updateOne",[h],ResultDecoders.remoteUpdateResultDecoder)},e.prototype.generateObjectIdIfMissing=function(o){if(!o._id){var s=o;return s._id=new bson.ObjectID,s}return o},e}(),CoreRemoteMongoDatabaseImpl=function(){function e(o,s){this.name=o,this.service=s}return e.prototype.collection=function(o,s){return new CoreRemoteMongoCollectionImpl(o,this.name,this.service,s)},e}(),CoreRemoteMongoClientImpl=function(){function e(o){this.service=o}return e.prototype.db=function(o){return new CoreRemoteMongoDatabaseImpl(o,this.service)},e}(),RemoteMongoCursor=function(){function e(o){this.proxy=o}return e.prototype.next=function(){return Promise.resolve(this.proxy.next().value)},e}(),RemoteMongoReadOperation=function(){function e(o){this.proxy=o}return e.prototype.first=function(){return this.proxy.first()},e.prototype.toArray=function(){return this.proxy.toArray()},e.prototype.asArray=function(){return this.toArray()},e.prototype.iterator=function(){return this.proxy.iterator().then(function(o){return new RemoteMongoCursor(o)})},e}(),RemoteMongoCollectionImpl=function(){function e(o){this.proxy=o,this.namespace=this.proxy.namespace}return e.prototype.withCollectionType=function(o){return new e(this.proxy.withCollectionType(o))},e.prototype.count=function(o,s){return this.proxy.count(o,s)},e.prototype.find=function(o,s){return new RemoteMongoReadOperation(this.proxy.find(o,s))},e.prototype.findOne=function(o,s){return this.proxy.findOne(o,s)},e.prototype.findOneAndUpdate=function(o,s,a){return this.proxy.findOneAndUpdate(o,s,a)},e.prototype.findOneAndReplace=function(o,s,a){return this.proxy.findOneAndReplace(o,s,a)},e.prototype.findOneAndDelete=function(o,s){return this.proxy.findOneAndDelete(o,s)},e.prototype.aggregate=function(o){return new RemoteMongoReadOperation(this.proxy.aggregate(o))},e.prototype.insertOne=function(o){return this.proxy.insertOne(o)},e.prototype.insertMany=function(o){return this.proxy.insertMany(o)},e.prototype.deleteOne=function(o){return this.proxy.deleteOne(o)},e.prototype.deleteMany=function(o){return this.proxy.deleteMany(o)},e.prototype.updateOne=function(o,s,a){return this.proxy.updateOne(o,s,a)},e.prototype.updateMany=function(o,s,a){return this.proxy.updateMany(o,s,a)},e.prototype.watch=function(o){return this.proxy.watch(o)},e.prototype.watchCompact=function(o){return this.proxy.watchCompact(o)},e}(),RemoteMongoDatabaseImpl=function(){function e(o){this.proxy=o,this.name=this.proxy.name}return e.prototype.collection=function(o,s){return new RemoteMongoCollectionImpl(this.proxy.collection(o,s))},e}(),RemoteMongoClientImpl=function(){function e(o){this.proxy=o}return e.prototype.db=function(o){return new RemoteMongoDatabaseImpl(this.proxy.db(o))},e}(),RemoteMongoClient;(function(e){e.factory=new(function(){function o(){}return o.prototype.getNamedClient=function(s,a){return new RemoteMongoClientImpl(new CoreRemoteMongoClientImpl(s))},o}())})(RemoteMongoClient||(RemoteMongoClient={}));const ACCESS_TOKEN="iHXM2LKmwUIPYiBQqQvNOAnAm9QRTV4Qma04bxVp0c4rsszVNTpedtz2j9KIzkYN";let client,mongodb;const initializeStitchClient=()=>{if(!client){const e="artists_corner_0-lcspi";client=Stitch.hasAppClient(e)?Stitch.getAppClient(e):Stitch.initializeAppClient(e),mongodb=client.getServiceClient(RemoteMongoClient.factory,"mongodb-atlas")}};async function getItemsByCategory(e){try{await(client==null?void 0:client.auth.loginWithCredential(new UserApiKeyCredential(ACCESS_TOKEN)));const o=mongodb==null?void 0:mongodb.db("artists_corner_pvd");if(!o)throw new Error("Database not available");const c=await o.collection("master_items").find({category:{$regex:e,$options:"i"}}).toArray(),_=await o.collection("sold_items").find({category:{$regex:e,$options:"i"}}).toArray();return[c,_]}catch(o){return console.error("Error fetching items:",o),[]}}async function getItemsByCategoryAndSubcategory(e,o){try{await(client==null?void 0:client.auth.loginWithCredential(new UserApiKeyCredential(ACCESS_TOKEN)));const s=mongodb==null?void 0:mongodb.db("artists_corner_pvd");if(!s)throw new Error("Database not available");const h=await s.collection("master_items").find({category:{$regex:e,$options:"i"},subcategory:{$regex:o,$options:"i"}}).toArray(),b=await s.collection("sold_items").find({category:{$regex:e,$options:"i"},subcategory:{$regex:o,$options:"i"}}).toArray();return[h,b]}catch(s){return console.error("Error fetching items:",s),[]}}function calculateScore(e,o,s){const a=h=>{var d,_,b,$,rt;return(((d=e.title)==null?void 0:d.match(h))||[]).length+(((_=e.description)==null?void 0:_.match(h))||[]).length+(((b=e.category)==null?void 0:b.match(h))||[]).length+((($=e.subcategory)==null?void 0:$.match(h))||[]).length+(((rt=e.seller)==null?void 0:rt.match(h))||[]).length+(e.price>=s-1&&e.price<=s+1?1:0)};return o.reduce((h,d)=>{const _=new RegExp(`\\b${d}\\b`,"gi"),b=new RegExp(d,"gi"),$=a(_),rt=a(b);let nt=0;return $>0?nt=1:$===0&&rt>0&&(nt=.5),h+nt},0)}async function searchItems(e){try{await(client==null?void 0:client.auth.loginWithCredential(new UserApiKeyCredential(ACCESS_TOKEN)));const o=mongodb==null?void 0:mongodb.db("artists_corner_pvd");if(!o)throw new Error("Database not available");const s=parseInt(e.replace(/\$([\d]+)(\.\d{1,2})?/,"$1")),a=e.split(/\s+/),c=rt=>({$or:[{title:{$regex:rt,$options:"i"}},{description:{$regex:rt,$options:"i"}},{category:{$regex:rt,$options:"i"}},{subcategory:{$regex:rt,$options:"i"}},{seller:{$regex:rt,$options:"i"}},{price:{$gt:s-1,$lt:s+1}}]}),h={$or:a.map(c)},_=await o.collection("master_items").find(h).toArray(),$=await o.collection("sold_items").find(h).toArray();if(a.length>1){const rt=nt=>nt.map(lt=>({item:lt,score:calculateScore(lt,a,s)})).sort((lt,dt)=>dt.score-lt.score).map(lt=>lt.item);return[rt(_),rt($)]}return[_,$]}catch(o){return console.error("Error fetching items:",o),[[],[]]}}async function getItemById(e){try{await(client==null?void 0:client.auth.loginWithCredential(new UserApiKeyCredential(ACCESS_TOKEN)));const o=mongodb==null?void 0:mongodb.db("artists_corner_pvd");if(!o)throw new Error("Database not available");const a=await o.collection("master_items").find({_id:e}).toArray(),h=await o.collection("sold_items").find({_id:e}).toArray();if(a.length===0&&h.length===0){console.error("No item with Object Id");return}else{if(a.length===1&&h.length===0)return a[0];if(h.length===1&&a.length===0)return h[0];console.error("Multiple items with Object Id");return}}catch(o){console.error("Error fetching item by Id:",o);return}}function sortPriceLowToHighHelper(e){return e.slice().sort((o,s)=>o.price-s.price)}function sortPriceLowToHigh(e){return e[0]&&e[1]?[sortPriceLowToHighHelper(e[0]),sortPriceLowToHighHelper(e[1])]:(console.log("Invalid ItemTuple entered to sort"),[[],[]])}function sortPriceHighToLowHelper(e){return e.slice().sort((o,s)=>s.price-o.price)}function sortPriceHighToLow(e){return e[0]&&e[1]?[sortPriceHighToLowHelper(e[0]),sortPriceHighToLowHelper(e[1])]:(console.log("Invalid ItemTuple entered to sort"),[[],[]])}function sortLeastToMostRecentHelper(e){return e.slice().sort((o,s)=>{const a=new Date(o.timestamp).getTime(),c=new Date(s.timestamp).getTime();return a-c})}function sortLeastToMostRecent(e){return e[0]&&e[1]?[sortLeastToMostRecentHelper(e[0]),sortLeastToMostRecentHelper(e[1])]:(console.log("Invalid ItemTuple entered to sort"),[[],[]])}function sortMostToLeastRecentHelper(e){return e.slice().sort((o,s)=>{const a=new Date(o.timestamp).getTime();return new Date(s.timestamp).getTime()-a})}function sortMostToLeastRecent(e){return e[0]&&e[1]?[sortMostToLeastRecentHelper(e[0]),sortMostToLeastRecentHelper(e[1])]:(console.log("Invalid ItemTuple entered to sort"),[[],[]])}async function getAccountByUsername(e){try{await(client==null?void 0:client.auth.loginWithCredential(new UserApiKeyCredential(ACCESS_TOKEN)));const o=mongodb==null?void 0:mongodb.db("artists_corner_pvd");if(!o)throw new Error("Database not available");const a=await o.collection("accounts").find({username:e}).toArray();if(a.length===0){console.error("No account with username");return}else{if(a.length===1)return a[0];console.error("Multiple accounts with username");return}}catch(o){console.error("Error fetching account by username:",o);return}}const items="",ItemComponent=({item:e})=>{const o=e.photoFilenames.length>0?e.photoFilenames[0]:null;return jsxs("div",{className:"item-card",style:{backgroundColor:e.ifSold?"rgb(224, 224, 224)":"white"},children:[jsxs(Link,{to:`/item/${e._id}`,children:[o&&jsx("img",{src:o,alt:e.title}),jsx("p",{children:jsx("b",{children:e.title})}),jsxs("div",{className:"price-container",children:[jsxs("p",{className:"price",children:["$",e.price.toFixed(2)]}),e.ifSold&&jsx("div",{className:"ribbon",children:"Sold"})]})]}),jsxs("p",{children:["by ",jsx(Link,{to:`/user/${e.seller}`,children:e.seller})]})]})},category="",CategoryPage=()=>{const{categoryName:e}=useParams(),[o,s]=reactExports.useState([]),[a,c]=reactExports.useState([]),[h,d]=reactExports.useState([]),[_,b]=reactExports.useState([]),[$,rt]=reactExports.useState(new Set),[nt,lt]=reactExports.useState(""),[dt,gt]=reactExports.useState("reset"),[Et,ht]=reactExports.useState(!0),ot=async()=>{try{const[yt,St]=await getItemsByCategory(e);d(yt),b(St),s(yt),c(St);const Rt=[...yt,...St],Bt=new Set(Rt.map(Lt=>Lt.subcategory));rt(Bt)}catch(yt){console.error("Error fetching items:",yt)}finally{ht(!1)}};reactExports.useEffect(()=>{ot()},[e]);const ct=async yt=>{if(lt(yt),gt("reset"),yt){const[St,Rt]=await getItemsByCategoryAndSubcategory(e,yt),Bt=at(dt,St,Rt);s(Bt[0]),c(Bt[1])}else ot()},it=async yt=>{if(gt(yt),yt!=="reset"){const St=at(yt,o,a);s(St[0]),c(St[1])}else s(h),c(_)},at=(yt,St,Rt)=>{let Bt=[];switch(yt){case"lowToHigh":Bt=sortPriceLowToHigh([St,Rt]);break;case"highToLow":Bt=sortPriceHighToLow([St,Rt]);break;case"mostRecent":Bt=sortMostToLeastRecent([St,Rt]);break;case"leastRecent":Bt=sortLeastToMostRecent([St,Rt]);break;default:return[St,Rt]}return Bt};return Et?jsx("div",{className:"loading-spinner-container",children:jsx("div",{className:"loading-spinner"})}):jsxs("div",{className:"category-page-container",children:[jsx("h1",{children:e}),jsx("div",{className:"sort-dropdown",children:jsxs("select",{value:dt,onChange:yt=>it(yt.target.value),style:{backgroundColor:dt==="reset"?"rgb(238, 238, 238)":"rgb(223, 227, 255)"},children:[jsx("option",{value:"reset",children:"Reset Sort"}),jsx("option",{value:"lowToHigh",children:"Low to High"}),jsx("option",{value:"highToLow",children:"High to Low"}),jsx("option",{value:"mostRecent",children:"Most Recent"}),jsx("option",{value:"leastRecent",children:"Least Recent"})]})}),jsxs("div",{className:"subcategory-items-container",children:[jsxs("div",{"data-testid":"subcategory-tags",className:"subcategory-tags",children:[[...$].map(yt=>jsx("button",{"aria-label":yt,title:yt,className:`tag ${nt===yt?"selected":""}`,onClick:()=>ct(yt),children:yt},yt)),nt&&jsx("button",{className:"reset-filter",onClick:()=>ct(""),children:"reset filter"})]}),jsx("div",{className:"items-grid",children:[...o,...a].map(yt=>jsx(ItemComponent,{item:yt},yt._id))})]})]})},instagramLogo="/general-images/socials/Instagram_logo.png",facebookLogo="/general-images/socials/Facebook_logo.png",twitterLogo="/general-images/socials/Twitter_logo.png",ItemDetailPage=()=>{const{itemId:e}=useParams(),[o,s]=reactExports.useState(null),[a,c]=reactExports.useState(null),[h,d]=reactExports.useState(!0),[_,b]=reactExports.useState(0);reactExports.useEffect(()=>{(async()=>{try{const lt=await getItemById(new bson$1.ObjectId(e));if(lt){s(lt);const dt=await getAccountByUsername(lt.seller);c(dt)}}catch(lt){console.error(lt)}finally{d(!1)}})()},[e]);const $=()=>{b(nt=>nt>0?nt-1:o.photoFilenames.length-1)},rt=()=>{b(nt=>nt<o.photoFilenames.length-1?nt+1:0)};return h?jsx("div",{className:"loading-spinner-container",children:jsx("div",{className:"loading-spinner"})}):jsx("div",{children:jsxs("div",{className:"content animated",style:{paddingTop:"20px"},children:[jsx(Link,{to:"#",className:"back-link",onClick:()=>window.history.back(),children:"< Back"}),jsxs("section",{style:{display:"flex",margin:"3rem 0 7rem 12rem"},children:[o.photoFilenames.length>1?jsxs("div",{className:"slideshow-container",children:[jsx("button",{className:"prev-btn",onClick:$,children:""}),jsx("img",{className:"card-image",src:o.photoFilenames[_],alt:o.title}),jsx("button",{className:"next-btn",onClick:rt,children:""})]}):jsx("img",{className:"card-image",src:o.photoFilenames[0],alt:o.title}),jsxs("div",{className:"about",style:{maxWidth:"26rem",backgroundColor:"#f8f8f8",padding:"2rem",borderRadius:"10px"},children:[jsxs("div",{className:"profile-container",children:[jsx("img",{className:"profile-photo",src:"/data/photos/"+a.profilePhotoFilename,alt:a.username}),jsx(Link,{to:`/user/${a.username}`,children:a.username})]}),jsx("h2",{style:{margin:"0rem"},children:o.title}),jsxs("h3",{style:{margin:"0rem"},children:[" ",jsxs("div",{className:"price-container",children:[jsxs("p",{className:"price",children:["$",o.price.toFixed(2)]}),o.ifSold&&jsx("div",{className:"ribbon",style:{height:"25px",marginLeft:"15px"},children:"Sold"})]})]}),jsx("p",{style:{marginBottom:"0.8rem"},children:o.description}),jsx("hr",{}),jsxs("div",{children:[jsx("p",{children:jsx("b",{children:"Contact"})}),jsxs("p",{children:[" ",jsx("a",{href:`mailto:${a.contactInformation.email}`,children:a.contactInformation.email})]}),a.contactInformation["phone number"]&&jsxs("p",{children:[" ",jsx("a",{href:`tel:${a.contactInformation["phone number"]}`,children:a.contactInformation["phone number"]})]}),a.contactInformation.instagram&&jsxs("p",{children:[jsx("img",{src:instagramLogo,alt:"Instagram logo",style:{width:"23px",height:"23px",marginBottom:"-6px"}})," ",jsxs("a",{href:`https://www.instagram.com/${a.contactInformation.instagram}`,children:["@",a.contactInformation.instagram]})]}),a.contactInformation.facebook&&jsxs("p",{children:[jsx("img",{src:facebookLogo,alt:"Facebook logo",style:{width:"21px",height:"21px",marginBottom:"-5px"}})," ",jsxs("a",{href:`https://www.facebook.com/${a.contactInformation.facebook}`,children:["@",a.contactInformation.facebook]})]}),a.contactInformation.twitter&&jsxs("p",{children:[jsx("img",{src:twitterLogo,alt:"Twitter logo",style:{width:"23px",height:"20px",marginBottom:"-7px"}})," ",jsxs("a",{href:`https://www.twitter.com/${a.contactInformation.twitter}`,children:["@",a.contactInformation.twitter]})]})]})]})]})]})})},SearchPage=({searchString:e,setSearchString:o,ifClicked:s,setIfClicked:a})=>{const[c,h]=reactExports.useState(new Set),[d,_]=reactExports.useState(""),[b,$]=reactExports.useState(!0),[rt,nt]=reactExports.useState([]),[lt,dt]=reactExports.useState([]),[gt,Et]=reactExports.useState([]),[ht,ot]=reactExports.useState([]),[ct,it]=reactExports.useState([]),[at,yt]=reactExports.useState([]),[St,Rt]=reactExports.useState("reset"),Bt=useLocation(),Pt=new URLSearchParams(Bt.search).get("keywords"),zt=async()=>{try{const[Dt,Ft]=await searchItems(Pt),jt=[...Dt,...Ft];nt(Dt),dt(Ft),it(Dt),yt(Ft),Et(Dt),ot(Ft);const Tt=new Set(jt.map(xt=>xt.category));h(Tt)}catch(Dt){console.error("Error fetching items:",Dt)}finally{$(!1)}};reactExports.useEffect(()=>{(async()=>{s&&Bt.search&&Pt?await Promise.all([zt(),_(""),Rt("reset")]):await zt(),s&&(o(""),a(!1))})()},[Bt.search,Pt,s]);const Wt=async Dt=>{_(Dt);let Ft,jt;Dt&&Dt!=="reset"?(Ft=rt.filter(xt=>Dt===xt.category),jt=lt.filter(xt=>Dt===xt.category)):(Ft=rt,jt=lt),Rt("reset");const Tt=Vt(St,Ft,jt);it(Ft),yt(jt),Et(Tt[0]),ot(Tt[1])};reactExports.useEffect(()=>{const Dt=Vt(St,ct,at);Et(Dt[0]),ot(Dt[1])},[St,ct,at]);const Zt=async Dt=>{if(Rt(Dt),Dt!=="reset"){const Ft=Vt(Dt,gt,ht);Et(Ft[0]),ot(Ft[1])}else Et(ct),ot(at)},Vt=(Dt,Ft,jt)=>{let Tt=[];switch(Dt){case"lowToHigh":Tt=sortPriceLowToHigh([Ft,jt]);break;case"highToLow":Tt=sortPriceHighToLow([Ft,jt]);break;case"mostRecent":Tt=sortMostToLeastRecent([Ft,jt]);break;case"leastRecent":Tt=sortLeastToMostRecent([Ft,jt]);break;default:return[ct,at]}return Tt};return b?jsx("div",{className:"loading-spinner-container",children:jsx("div",{className:"loading-spinner"})}):jsx("div",{children:jsxs("div",{className:"category-page-container",children:[jsx("h1",{children:"Search"}),jsx("div",{className:"sort-dropdown",children:jsxs("select",{value:St,onChange:Dt=>Zt(Dt.target.value),style:{backgroundColor:St==="reset"?"rgb(238, 238, 238)":"rgb(223, 227, 255)"},children:[jsx("option",{value:"reset",children:"Reset Sort"}),jsx("option",{value:"lowToHigh",children:"Low to High"}),jsx("option",{value:"highToLow",children:"High to Low"}),jsx("option",{value:"mostRecent",children:"Most Recent"}),jsx("option",{value:"leastRecent",children:"Least Recent"})]})}),jsxs("div",{className:"subcategory-items-container",children:[jsxs("div",{"data-testid":"subcategory-tags",className:"subcategory-tags",children:[[...c].map(Dt=>jsx("button",{"aria-label":Dt,title:Dt,className:`tag ${d===Dt?"selected":""}`,onClick:()=>Wt(Dt),children:Dt},Dt)),d&&jsx("button",{className:"reset-filter",onClick:()=>Wt("reset"),children:"reset filter"})]}),jsx("div",{className:"items-grid",children:[...gt,...ht].map(Dt=>jsx(ItemComponent,{item:Dt},Dt._id))})]})]})})},SellerPage=()=>{const{username:e}=useParams(),[o,s]=reactExports.useState(null),[a,c]=reactExports.useState(!0),[h,d]=reactExports.useState([]),[_,b]=reactExports.useState([]),$=async rt=>Promise.all(rt.map(nt=>getItemById(nt)));return reactExports.useEffect(()=>{getAccountByUsername(e).then(async rt=>{if(rt)if(s(rt),rt.currentListing_ids&&rt.pastListing_ids){const nt=await $(rt.currentListing_ids),lt=await $(rt.pastListing_ids);d(nt),b(lt)}else throw new Error("account's items not found");else throw new Error("account account not found")}).catch(rt=>{console.error("Error fetching account's items:",rt)}).finally(()=>{c(!1)})},[e,o]),a?jsx("div",{className:"loading-spinner-container",children:jsx("div",{className:"loading-spinner"})}):jsxs("div",{className:"category-page-container",style:{paddingTop:"20px"},children:[jsx(Link,{to:"#",className:"back-link",onClick:()=>window.history.back(),children:"< Back"}),jsxs("h1",{style:{marginTop:"30px",marginLeft:"8.5rem"},children:[e,"'s Shop"]}),o&&jsxs("div",{className:"account-info",children:[jsx("div",{className:"profile-container",children:jsxs("p",{style:{fontSize:"20px",marginTop:"25px"},children:[jsx("img",{className:"profile-photo",src:"../../data/photos/"+o.profilePhotoFilename,alt:o.fullname,style:{marginBottom:"-12px"}}),o.fullname]})}),jsx("div",{children:jsxs("p",{children:["Contact me at: ",jsx("a",{href:`mailto:${o.contactInformation.email}`,children:o.contactInformation.email}),"  ",o.contactInformation["phone number"]&&jsxs(Fragment,{children:["",jsx("a",{href:`tel:${o.contactInformation["phone number"]}`,children:o.contactInformation["phone number"]}),"  "]}),o.contactInformation.instagram&&jsxs(Fragment,{children:[jsx("img",{src:instagramLogo,alt:"Instagram logo",style:{width:"23px",height:"23px",marginBottom:"-6px"}}),"",jsxs("a",{href:`https://www.instagram.com/${o.contactInformation.instagram}`,children:["@",o.contactInformation.instagram]})]}),o.contactInformation.facebook&&jsxs(Fragment,{children:[jsx("img",{src:facebookLogo,alt:"Facebook logo",style:{width:"23px",height:"23px",marginBottom:"-6px"}}),"",jsxs("a",{href:`tel:${o.contactInformation.facebook}`,children:["@",o.contactInformation.facebook]}),"  "]}),o.contactInformation.twitter&&jsxs(Fragment,{children:[jsx("img",{src:twitterLogo,alt:"Twitter logo",style:{width:"23px",height:"20px",marginBottom:"-7px"}}),"",jsxs("a",{href:`tel:${o.contactInformation.twitter}`,children:["@",o.contactInformation.twitter]}),"  "]})]})}),jsx("hr",{style:{margin:"30px 0 25px 6rem",borderColor:"gray",borderWidth:"2px",width:"80%"}}),jsx("div",{children:jsx("p",{children:o.bio})})]}),jsxs("div",{className:"account-items-list",children:[h.length>0&&jsxs(Fragment,{children:[jsx("h2",{children:"Current Listings"}),jsx("div",{className:"items-grid",style:{marginLeft:"7rem",marginRight:"7rem"},children:h.map(rt=>jsx(ItemComponent,{item:rt},rt._id))})]}),_.length>0&&jsxs(Fragment,{children:[jsx("h2",{children:"Past Listings"}),jsx("div",{className:"items-grid",style:{marginLeft:"7rem",marginRight:"7rem"},children:_.map(rt=>jsx(ItemComponent,{item:rt},rt._id))})]})]})]})},home="";window.global=window;function App(){initializeStitchClient();const[e,o]=reactExports.useState(""),[s,a]=reactExports.useState(!1),c=h=>{a(!0)};return jsxs(BrowserRouter,{children:[jsxs("div",{className:"header",children:[jsx(Link,{to:"/",style:{color:"#303030"},children:"Artist's Corner PVD "}),jsx("div",{className:"search-container",children:jsxs("form",{style:{display:"flex",alignItems:"center"},children:[jsx("input",{type:"text",placeholder:"Search...",name:"keyword",value:e,onChange:h=>o(h.target.value),style:{width:"600px"}}),jsx(Link,{to:`/search?keywords=${e}`,children:jsx("button",{type:"submit",onClick:c,children:jsx("i",{className:"fa fa-search",children:"Search"})})})]})})]}),jsx("div",{className:"topnav",children:jsxs("div",{className:"main-links",style:{marginLeft:"10rem"},children:[jsx(Link,{to:"/category/Accessories",children:"Accessories"}),jsx(Link,{to:"/category/Clothing",children:"Clothing"}),jsx(Link,{to:"/category/Art",children:"Art"}),jsx(Link,{to:"/category/Crafts",children:"Crafts"}),jsx(Link,{to:"/about",children:"About"})]})}),jsxs(Routes,{children:[jsx(Route,{path:"/",element:jsx(HomePage,{})}),jsx(Route,{path:"/category/:categoryName",element:jsx(CategoryPage,{})}),jsx(Route,{path:"/about",element:jsx(AboutPage,{})}),jsx(Route,{path:"/item/:itemId",element:jsx(ItemDetailPage,{})}),jsx(Route,{path:"/search",element:jsx(SearchPage,{searchString:e,setSearchString:o,ifClicked:s,setIfClicked:a})}),jsx(Route,{path:"/user/:username",element:jsx(SellerPage,{})})," "]}),jsx("div",{className:"footer",children:jsx("p",{style:{fontSize:"0.9rem"},children:"Copyright  2024 Artist's Corner PVD. Made with  in Providence."})})]})}client$1.createRoot(document.getElementById("root")).render(jsx(React.StrictMode,{children:jsx(App,{})}));
